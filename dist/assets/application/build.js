import{W as Fd,p as N,O as se}from"../globals/build.js";let Hr=!1,ta={};const Jt=[],jr=[];let ia;var l;(function(i){function e(){Hr=!0}i.enable=e;function t(){Hr=!1}i.disable=t;function n(){return Hr}i.isEnabled=n;function r(w){Jt.push(w)}i.addWriter=r;function s(w){const k=Jt.indexOf(w);k>=0&&Jt.splice(k,1)}i.removeWriter=s;function a(){Jt.length>0&&Jt.splice(0,Jt.length)}i.clearWriters=a;function o(w){ta={},c(w)}i.setCategories=o;function c(w){const k=w.split(",");for(let F=0;F<k.length;F++)ta[k[F].trim()]=!0}i.addCategories=c;function u(w){return w in ta}i.isCategorySet=u;function d(w,k,F){let H;if(F===g.error){for(H=0;H<Jt.length;H++)Jt[H].write(w,k,F);return}if(Hr&&k in ta)for(H=0;H<Jt.length;H++)Jt[H].write(w,k,F)}i.write=d;function h(w,k,F){if(!Hr)return;let H,X,re;for(H=0;H<jr.length;H++)X=jr[H],X.filter?(re=X.filter.split(","),re.forEach(ut=>{ut.trim()===k&&X.on(w,k,F)})):X.on(w,k,F)}i.notifyEvent=h;function m(w){jr.push(w)}i.addEventListener=m;function p(w){const k=jr.indexOf(w);k>=0&&jr.splice(k,1)}i.removeEventListener=p;let g;(function(w){w.log=0,w.info=1,w.warn=2,w.error=3})(g=i.messageType||(i.messageType={})),function(w){w.Accessibility="Accessibility",w.VisualTreeEvents="VisualTreeEvents",w.Layout="Layout",w.Style="Style",w.ViewHierarchy="ViewHierarchy",w.NativeLifecycle="NativeLifecycle",w.Debug="Debug",w.Navigation="Navigation",w.Test="Test",w.Binding="Binding",w.BindingError="BindingError",w.Error="Error",w.Animation="Animation",w.Transition="Transition",w.Livesync="Livesync",w.ModuleNameResolver="ModuleNameResolver",w.MediaQuery="MediaQuery",w.separator=",",w.All=[w.VisualTreeEvents,w.Layout,w.Style,w.ViewHierarchy,w.NativeLifecycle,w.Debug,w.Navigation,w.Test,w.Binding,w.Error,w.Animation,w.Transition,w.Livesync,w.ModuleNameResolver,w.MediaQuery].join(w.separator);function k(...F){let H;for(let X=0;X<F.length;X++){if(!H){H=F[X];continue}H=H.concat(w.separator,F[X])}return H}w.concat=k}(i.categories||(i.categories={}));class v{write(k,F,H){if(!console)return;let X;switch(H===void 0?X=g.log:X=H,X){case g.log:console.log(F+": "+k);break;case g.info:console.info(F+": "+k);break;case g.warn:console.warn(F+": "+k);break;case g.error:console.error(F+": "+k);break}}}r(new v);class y{handlerError(k){throw k}}i.DefaultErrorHandler=y,P(new y);function A(){return ia}i.getErrorHandler=A;function P(w){ia=w}i.setErrorHandler=P;function I(w){ia&&(typeof w=="string"&&(w=new Error(w)),ia.handlerError(w))}i.error=I})(l||(l={}));const D=new Object,Ep=[],Od={},Xo={},Dd=new Array,Bd=new Array;function _s(i){return/^--[^,\s]+?$/.test(i)}function Pp(i){return i.includes("calc(")}function Vp(i){return i.includes("var(--")}function Ap(i,e,t){if(typeof t!="string"||!Vp(t))return t;let n=t.trim(),r;for(;r!==n;){r=n;const s=n.lastIndexOf("var(");if(s===-1)continue;const a=n.indexOf(")",s);if(a===-1)continue;const o=n.substring(s+4,a).split(",").map(d=>d.trim()).filter(d=>!!d),c=o.shift();let u=i.style.getCssVariable(c);u===null&&o.length&&(u=Ap(i,e,o.join(", ")).split(",")[0]),u||(u="unset"),n=`${n.substring(0,s)}${u}${n.substring(a+1)}`}return n}function nv(i){return typeof i!="string"?i:Pp(i)?require("reduce-css-calc")(i.replace(/([0-9]+(\.[0-9]+)?)dip\b/g,"$1")):i}class b{constructor(e){this.enumerable=!0,this.configurable=!0;const t=e.name;this.name=t;const n=Symbol(t+":propertyKey");this.key=n;const r=Symbol(t+":getDefault");this.getDefault=r;const s=Symbol(t+":setNative");this.setNative=s;const a=Symbol(t+":nativeDefaultValue");this.defaultValueKey=a;const o=e.defaultValue;this.defaultValue=o;const c=t+"Change";let u=e.equalityComparer,d=e.affectsLayout,h=e.valueChanged,m=e.valueConverter;this.overrideHandlers=function(g){typeof g.equalityComparer<"u"&&(u=g.equalityComparer),typeof g.affectsLayout<"u"&&(d=g.affectsLayout),typeof g.valueChanged<"u"&&(h=g.valueChanged),typeof g.valueConverter<"u"&&(m=g.valueConverter)};const p=this;this.set=function(g){const v=g===D;let y,A;v?y=o:(A=g&&g.wrapped,y=A?Fd.unwrap(g):g,m&&typeof y=="string"&&(y=m(y)));const P=n in this?this[n]:o,I=u?!u(P,y):P!==y;(A||I)&&(d&&this.requestLayout(),v?(delete this[n],h&&h(this,P,y),this[s]&&(this._suspendNativeUpdatesCount?this._suspendedUpdates&&(this._suspendedUpdates[t]=p):a in this?(this[s](this[a]),delete this[a]):this[s](o))):(this[n]=y,h&&h(this,P,y),this[s]&&(this._suspendNativeUpdatesCount?this._suspendedUpdates&&(this._suspendedUpdates[t]=p):(a in this||(this[a]=this[r]?this[r]():o),this[s](y)))),this.hasListeners(c)&&this.notify({object:this,eventName:c,propertyName:t,value:y,oldValue:P}),this.domNode&&(v?this.domNode.attributeRemoved(t):this.domNode.attributeModified(t,y)))},this.get=function(){return n in this?this[n]:o},this.nativeValueChange=function(g,v){const y=n in g?g[n]:o;(u?!u(y,v):y!==v)&&(g[n]=v,h&&h(g,y,v),g.nativeViewProtected&&!(a in g)&&(g[a]=g[r]?g[r]():o),g.hasListeners(c)&&g.notify({object:g,eventName:c,propertyName:t,value:v,oldValue:y}),d&&g.requestLayout(),g.domNode&&g.domNode.attributeModified(t,v))},Od[n]=this}register(e){if(this.registered)throw new Error(`Property ${this.name} already registered.`);this.registered=!0,Object.defineProperty(e.prototype,this.name,this)}isSet(e){return this.key in e}}b.prototype.isStyleProperty=!1;class hn extends b{constructor(e){super(e);const t=e.name,n=this.key,r=this.getDefault,s=this.setNative,a=this.defaultValueKey,o=this.defaultValue,c=Symbol(t+":coerceKey"),u=t+"Change";let d=e.affectsLayout,h=e.equalityComparer,m=e.valueChanged,p=e.valueConverter,g=e.coerceValue;const v=this;this.overrideHandlers=function(y){typeof y.equalityComparer<"u"&&(h=y.equalityComparer),typeof y.affectsLayout<"u"&&(d=y.affectsLayout),typeof y.valueChanged<"u"&&(m=y.valueChanged),typeof y.valueConverter<"u"&&(p=y.valueConverter),typeof y.coerceValue<"u"&&(g=y.coerceValue)},this.coerce=function(y){const A=c in y?y[c]:o;y[t]=A},this.set=function(y){const A=y===D;let P,I;A?(P=o,delete this[c]):(I=y&&y.wrapped,P=I?Fd.unwrap(y):y,p&&typeof P=="string"&&(P=p(P)),this[c]=P,P=g(this,P));const w=n in this?this[n]:o,k=h?!h(w,P):w!==P;(I||k)&&(A?(delete this[n],m&&m(this,w,P),this[s]&&(this._suspendNativeUpdatesCount?this._suspendedUpdates&&(this._suspendedUpdates[t]=v):a in this?(this[s](this[a]),delete this[a]):this[s](o))):(this[n]=P,m&&m(this,w,P),this[s]&&(this._suspendNativeUpdatesCount?this._suspendedUpdates&&(this._suspendedUpdates[t]=v):(a in this||(this[a]=this[r]?this[r]():o),this[s](P)))),this.hasListeners(u)&&this.notify({object:this,eventName:u,propertyName:t,value:P,oldValue:w}),d&&this.requestLayout(),this.domNode&&(A?this.domNode.attributeRemoved(t):this.domNode.attributeModified(t,P)))}}}class Yo extends b{constructor(e){super(e);const t=e.name,n=this.key,r=e.defaultValue,s=Symbol(t+":valueSourceKey");this.sourceKey=s;const a=this.set,o=u=>function(d){const h=this;let m,p;if(d===D){const y=h.parent;y&&y[s]!==0?(m=y[t],p=1):(m=r,p=0)}else m=d,p=u;const g=h[n];a.call(h,m);const v=h[n];if(h[s]=p,g!==v){const y=p===0;h.eachChild(A=>{const P=A[s]||0;return y?P===1&&o.call(A,D):P<=1&&c.call(A,v),!0})}},c=o(1);this.setInheritedValue=c,this.set=o(3),Dd.push(this)}}class R{constructor(e){const t=e.name;this.name=t,Ep.push(e.cssName),this.cssName=`css:${e.cssName}`,this.cssLocalName=e.cssName;const n=Symbol(t+":propertyKey");this.key=n;const r=Symbol(t+":valueSourceKey");this.sourceKey=r;const s=Symbol(t+":getDefault");this.getDefault=s;const a=Symbol(t+":setNative");this.setNative=a;const o=Symbol(t+":nativeDefaultValue");this.defaultValueKey=o;const c=e.defaultValue;this.defaultValue=c;const u=t+"Change";let d=e.affectsLayout,h=e.equalityComparer,m=e.valueChanged,p=e.valueConverter;this.overrideHandlers=function(P){typeof P.equalityComparer<"u"&&(h=P.equalityComparer),typeof P.affectsLayout<"u"&&(d=P.affectsLayout),typeof P.valueChanged<"u"&&(m=P.valueChanged),typeof P.valueConverter<"u"&&(p=P.valueConverter)};const g=this;function v(P){const I=this.viewRef.get();if(!I){l.write(`${P} not set to view because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn);return}const w=P===D||P==="";let k;w?(k=c,delete this[r]):(this[r]=3,k=p&&typeof P=="string"?p(P):P);const F=n in this?this[n]:c;(h?!h(F,k):F!==k)&&(w?(delete this[n],m&&m(this,F,k),I[a]&&(I._suspendNativeUpdatesCount?I._suspendedUpdates&&(I._suspendedUpdates[t]=g):o in this?(I[a](this[o]),delete this[o]):I[a](c))):(this[n]=k,m&&m(this,F,k),I[a]&&(I._suspendNativeUpdatesCount?I._suspendedUpdates&&(I._suspendedUpdates[t]=g):(o in this||(this[o]=I[s]?I[s]():c),I[a](k)))),this.hasListeners(u)&&this.notify({object:this,eventName:u,propertyName:t,value:k,oldValue:F}),d&&I.requestLayout())}function y(P){const I=this.viewRef.get();if(!I){l.write(`${P} not set to view because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn);return}if((this[r]||0)===3)return;const k=P===D||P==="";let F;k?(F=c,delete this[r]):(F=p&&typeof P=="string"?p(P):P,this[r]=2);const H=n in this?this[n]:c;(h?!h(H,F):H!==F)&&(k?(delete this[n],m&&m(this,H,F),I[a]&&(I._suspendNativeUpdatesCount?I._suspendedUpdates&&(I._suspendedUpdates[t]=g):o in this?(I[a](this[o]),delete this[o]):I[a](c))):(this[n]=F,m&&m(this,H,F),I[a]&&(I._suspendNativeUpdatesCount?I._suspendedUpdates&&(I._suspendedUpdates[t]=g):(o in this||(this[o]=I[s]?I[s]():c),I[a](F)))),this.hasListeners(u)&&this.notify({object:this,eventName:u,propertyName:t,value:F,oldValue:H}),d&&I.requestLayout())}function A(){return n in this?this[n]:c}this.cssValueDescriptor={enumerable:!0,configurable:!0,get:A,set:y},this.localValueDescriptor={enumerable:!0,configurable:!0,get:A,set:v},Xo[n]=this}register(e){if(this.registered)throw new Error(`Property ${this.name} already registered.`);this.registered=!0,Object.defineProperty(e.prototype,this.name,this.localValueDescriptor),Object.defineProperty(e.prototype,this.cssName,this.cssValueDescriptor),this.cssLocalName!==this.cssName&&Object.defineProperty(e.prototype,this.cssLocalName,this.localValueDescriptor)}isSet(e){return this.key in e}}R.prototype.isStyleProperty=!0;class Ne{constructor(e){const t=e.name;this.name=t,Ep.push(e.cssName),Ne.properties[t]=this,e.cssName&&e.cssName!==t&&(Ne.properties[e.cssName]=this),this._valueConverter=e.valueConverter;const n=e.cssName||t;this.cssLocalName=n;const r="css:"+n;this.cssName=r;const s="keyframe:"+t;this.keyframe=s;const a="default:"+t,o=Symbol(a);this.defaultValueKey=o,this.defaultValue=e.defaultValue;const c=Symbol(r),u=Symbol(`local:${t}`),d=Symbol(s),h=Symbol("computed-value:"+t);this.key=h;const m=Symbol("computed-source:"+t);this.source=m,this.getDefault=Symbol(t+":getDefault");const p=this.getDefault,g=this.setNative=Symbol(t+":setNative"),v=t+"Change",y=this;function A(F,H,X,re,ut){return{enumerable:X,configurable:re,get:ut?function(){return this[h]}:function(){return this[F]},set(de){const M=this.viewRef.get();if(!M){l.write(`${de} not set to view because ".viewRef" is cleared`,l.categories.Animation,l.messageType.warn);return}const Le=this[h],Ht=this[m]!==0;de===D||de===""?(this[F]=D,this[m]===H&&(this[u]!==D?(this[m]=3,this[h]=this[u]):this[c]!==D?(this[m]=2,this[h]=this[c]):(delete this[m],delete this[h]))):(e.valueConverter&&typeof de=="string"&&(de=e.valueConverter(de)),this[F]=de,this[m]<=H&&(this[m]=H,this[h]=de));const et=this[h],_n=this[m]!==0,Gi=Le!==et&&(!e.equalityComparer||!e.equalityComparer(Le,et));Gi&&e.valueChanged&&e.valueChanged(this,Le,et),M[g]&&(Gi||_n!==Ht)&&(M._suspendNativeUpdatesCount?M._suspendedUpdates&&(M._suspendedUpdates[t]=y):_n?(!Ht&&!(o in this)&&(this[o]=M[p]?M[p]():e.defaultValue),M[g](et)):Ht&&(o in this?M[g](this[o]):M[g](e.defaultValue))),Gi&&this.hasListeners(v)&&this.notify({object:this,eventName:v,propertyName:t,value:et,oldValue:Le})}}}const P=A(o,0,!1,!1,!1),I=A(c,2,!1,!1,!1),w=A(u,3,!0,!0,!0),k=A(d,4,!1,!1,!1);Od[h]=this,Xo[h]=this,this.register=F=>{F.prototype[h]=e.defaultValue,F.prototype[m]=0,F.prototype[c]=D,F.prototype[u]=D,F.prototype[d]=D,Object.defineProperty(F.prototype,a,P),Object.defineProperty(F.prototype,r,I),Object.defineProperty(F.prototype,t,w),e.cssName&&e.cssName!==e.name&&Object.defineProperty(F.prototype,e.cssName,w),Object.defineProperty(F.prototype,s,k)}}_initDefaultNativeValue(e){const t=e.viewRef.get();if(!t){l.write('_initDefaultNativeValue not executed to view because ".viewRef" is cleared',l.categories.Animation,l.messageType.warn);return}const n=this.defaultValueKey;if(!(n in e)){const r=this.getDefault;e[n]=t[r]?t[r]():this.defaultValue}}static _getByCssName(e){return this.properties[e]}static _getPropertyNames(){return Object.keys(Ne.properties)}isSet(e){return e[this.source]!==0}}Ne.properties={};Ne.prototype.isStyleProperty=!0;class He extends R{constructor(e){super(e);const t=e.name,n=this.key,r=this.sourceKey,s=this.getDefault,a=this.setNative,o=this.defaultValueKey,c=t+"Change";let u=e.defaultValue,d=e.affectsLayout,h=e.equalityComparer,m=e.valueChanged,p=e.valueConverter;const g=this;this.overrideHandlers=function(P){typeof P.equalityComparer<"u"&&(h=P.equalityComparer),typeof P.affectsLayout<"u"&&(d=P.affectsLayout),typeof P.valueChanged<"u"&&(m=P.valueChanged),typeof P.valueConverter<"u"&&(p=P.valueConverter)};const v=P=>function(I){const w=this.viewRef.get();if(!w){l.write(`${I} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn);return}const k=I===D||I==="",F=this[r]||0;if(k){if(P===2&&F===3)return}else if(F>P)return;const H=n in this?this[n]:u;let X,re=!1;if(k){const de=w.parent,M=de?de.style:null;M&&M[r]>0?(X=M[t],this[r]=1,this[n]=X):(X=u,delete this[r],delete this[n],re=!0)}else this[r]=P,p&&typeof I=="string"?X=p(I):X=I,this[n]=X;(h?!h(H,X):H!==X)&&(m&&m(this,H,X),w[a]&&(w._suspendNativeUpdatesCount?w._suspendedUpdates&&(w._suspendedUpdates[t]=g):re?o in this?(w[a](this[o]),delete this[o]):w[a](u):(o in this||(this[o]=w[s]?w[s]():u),w[a](X))),this.hasListeners(c)&&this.notify({object:this,eventName:c,propertyName:t,value:X,oldValue:H}),d&&w.requestLayout(),w.eachChild(de=>{const M=de.style,Le=M[r]||0;return k?Le===1&&y.call(M,D):Le<=1&&A.call(M,X),!0}))},y=v(0),A=v(1);this.setInheritedValue=A,this.cssValueDescriptor.set=v(2),this.localValueDescriptor.set=v(3),Bd.push(this)}}class Bt{constructor(e){this.name=e.name;const t=Symbol(this.name+":propertyKey");this.key=t,this.cssName=`css:${e.cssName}`,this.cssLocalName=`${e.cssName}`;const n=e.converter;function r(a){const o=this.viewRef.get();if(!o){l.write('setLocalValue not executed to view because ".viewRef" is cleared',l.categories.Animation,l.messageType.warn);return}o._batchUpdate(()=>{for(const[c,u]of n(a))this[c.name]=u})}function s(a){const o=this.viewRef.get();if(!o){l.write('setCssValue not executed to view because ".viewRef" is cleared',l.categories.Animation,l.messageType.warn);return}o._batchUpdate(()=>{for(const[c,u]of n(a))this[c.cssName]=u})}this.cssValueDescriptor={enumerable:!0,configurable:!0,get:e.getter,set:s},this.localValueDescriptor={enumerable:!0,configurable:!0,get:e.getter,set:r},this.propertyBagDescriptor={enumerable:!1,configurable:!0,set(a){n(a).forEach(([o,c])=>{this[o.cssLocalName]=c})}},Xo[t]=this}register(e){if(this.registered)throw new Error(`Property ${this.name} already registered.`);this.registered=!0,Object.defineProperty(e.prototype,this.name,this.localValueDescriptor),Object.defineProperty(e.prototype,this.cssName,this.cssValueDescriptor),this.cssLocalName!==this.cssName&&Object.defineProperty(e.prototype,this.cssLocalName,this.localValueDescriptor),Object.defineProperty(e.prototype.PropertyBag,this.cssLocalName,this.propertyBagDescriptor)}}function rv(i){const e=new Array;for(const t of Dd){const n=t.sourceKey;(i[n]||0)!==0&&e.push({property:t,value:i[t.name]})}return e}function sv(i){const e=new Array;for(const t of Bd){const n=t.sourceKey;(i[n]||0)!==0&&e.push({property:t,value:i[t.name]})}return e}const av=N('"properties".initNativeView',function(e){e._suspendedUpdates?ov(e):cv(e),e._suspendedUpdates={}});function ov(i){const e=i._suspendedUpdates;for(const t in e){const n=e[t],r=n.setNative;if(i[r]){const{getDefault:s,isStyleProperty:a,defaultValueKey:o,defaultValue:c}=n;let u;if(a){const d=i.style;n.isSet(i.style)?(o in d||(d[o]=i[s]?i[s]():c),u=i.style[t]):u=d[o]}else n.isSet(i)?(o in i||(i[o]=i[s]?i[s]():c),u=i[t]):u=i[o];i[r](u)}}}function cv(i){let e=Object.getOwnPropertySymbols(i);for(const n of e){const r=Od[n];if(!r)continue;const s=r.setNative,a=r.getDefault;if(s in i){const o=r.defaultValueKey;o in i||(i[o]=i[a]?i[a]():r.defaultValue);const c=i[n];i[s](c)}}const t=i.style;e=Object.getOwnPropertySymbols(t);for(const n of e){const r=Xo[n];if(r&&i[r.setNative]){const s=r.defaultValueKey;s in t||(t[s]=i[r.getDefault]?i[r.getDefault]():r.defaultValue);const a=t[n];i[r.setNative](a)}}}function lv(i){for(const t of Dd){const n=t.sourceKey;i[n]===1&&t.set.call(i,D)}const e=i.style;for(const t of Bd){const n=t.sourceKey;e[n]===1&&t.setInheritedValue.call(e,D)}}function uv(i,e){const t=rv(i);for(const n of t){const r=n.property,s=r.sourceKey;(e[s]||0)<=1&&r.setInheritedValue.call(e,n.value)}}function dv(i,e){const t=sv(i);for(const n of t){const r=n.property,s=r.sourceKey;(e[s]||0)<=1&&r.setInheritedValue.call(e,n.value,1)}}function pe(...i){const e=new Set(i);return t=>e.has(t)}function ge(i,e=!1){return t=>{const n=t&&t.toLowerCase();if(i(n))return n;if(e){const r=+t;if(!isNaN(r))return t}throw new Error("Invalid value: "+t)}}const hv="modal",fv="root",Cn=[];var ue;(function(i){i.CLASS_PREFIX="ns-",i.MODAL_ROOT_VIEW_CSS_CLASS=`${i.CLASS_PREFIX}${hv}`,i.ROOT_VIEW_CSS_CLASS=`${i.CLASS_PREFIX}${fv}`;function e(){return Cn}i.getSystemCssClasses=e;function t(c){return Cn.indexOf(c)==-1&&Cn.push(c),Cn.length}i.pushToSystemCssClasses=t;function n(c){const u=Cn.indexOf(c);let d;return u>-1&&(d=Cn.splice(u,1)),d}i.removeSystemCssClass=n;function r(){return i.MODAL_ROOT_VIEW_CSS_CLASS}i.getModalRootViewCssClass=r;function s(){return[i.ROOT_VIEW_CSS_CLASS,...Cn]}i.getRootViewCssClasses=s;function a(c){return t(c)+1}i.pushToRootViewCssClasses=a;function o(c){return n(c)}i.removeFromRootViewCssClasses=o})(ue||(ue={}));var ri;(function(i){i.ISO_8859_1="ISO-8859-1",i.US_ASCII="US-ASCII",i.UTF_16="UTF-16",i.UTF_16BE="UTF-16BE",i.UTF_16LE="UTF-16LE",i.UTF_8="UTF-8"})(ri||(ri={}));function or(){var i,e;return(e=(i=org.nativescript)==null?void 0:i.Bootstrap)==null?void 0:e.isEmbeddedNativeScript}let Sl;function pv(i){Sl=i}function vc(){if(!Sl)throw new Error("{N} Core: Fragment content view not set or set to 'undefined'");return Sl}const G=android.os.Build.VERSION.SDK_INT;function Be(i){return typeof i=="string"||i instanceof String}function Re(i){return typeof i=="number"||i instanceof Number}function cr(i){return i?typeof i=="function":!1}function $s(i){return i?typeof i=="object":!1}function gv(i){return typeof i>"u"}function wc(i){return typeof i<"u"}function Ai(i){return typeof i>"u"||i===null}const Wh=new Map,mv=/(?:function|class)\s+(\w+).*/;function yv(i){return Ip(i).name}function Ip(i){const e=i.constructor;let t=Wh.get(e);return t||(t=new Na(e),Wh.set(e,t)),t}class Na{constructor(e){this._typeConstructor=e}get name(){if(!this._name)if(this._typeConstructor.name)this._name=this._typeConstructor.name;else{const e=mv.exec(this._typeConstructor.toString());this._name=e&&e.length>1?e[1]:""}return this._name}get baseClassInfo(){return gv(this._baseClassInfo)&&(this._baseClassInfo=Na._getBase(this),this._baseClassInfo&&this._baseClassInfo.name===this.name&&(this._baseClassInfo=Na._getBase(this._baseClassInfo))),this._baseClassInfo}static _getBase(e){let t=null;const n=e._typeConstructor.prototype;return n.__proto__&&(t=Ip(n.__proto__)),t}}const Xe=[];function Cs(){if(Xe.length>0)return Xe[Xe.length-1]}function vv(i){if(!(i._isInFrameStack&&Xe[Xe.length-1]===i)){if(i._isInFrameStack){const e=Xe.indexOf(i);Xe.splice(e,1)}Xe.push(i),i._isInFrameStack=!0}}function wv(i){if(!i._isInFrameStack)return;if(Cs()!==i)throw new Error("Cannot pop a Frame which is not at the top of the navigation stack.");Xe.pop(),i._isInFrameStack=!1}function _v(i){if(!i._isInFrameStack)return;const e=Xe.indexOf(i);Xe.splice(e,1),i._isInFrameStack=!1}let _c,Cc,bc,xc;function Md(){return Cc||(Cc=Ud().getApplicationContext()),Cc}function Tl(){return x?x.android.foregroundActivity||x.android.startActivity:null}function Ud(){return _c||(_c=x.android.getNativeApplication()),_c}function El(){return bc||(bc=Ud().getResources()),bc}function Pl(){return xc||(xc=Md().getPackageName()),xc}let Sc;function Wd(){return Sc||(Sc=Md().getSystemService(android.content.Context.INPUT_METHOD_SERVICE)),Sc}function Cv(i){const e=Wd();e&&i instanceof android.view.View&&e.showSoftInput(i,android.view.inputmethod.InputMethodManager.SHOW_IMPLICIT)}function bv(i){var n,r,s,a;const e=Wd();let t;if(i instanceof android.view.View){if(!i.hasFocus())return;t=i.getWindowToken()}else if(Tl()instanceof androidx.appcompat.app.AppCompatActivity){const u=(((a=(s=((n=Cs())==null?void 0:n._modalParent)??((r=Cs())==null?void 0:r.modal))==null?void 0:s._dialogFragment)==null?void 0:a.getDialog())??Tl()).getWindow().getDecorView();u?(t=u.getWindowToken(),u.requestFocus()):t=null}e&&t&&e.hideSoftInputFromWindow(t,0)}var Vl;(function(i){function e(n){const r=new java.util.HashSet;if(n!==void 0)for(const s in n)r.add(""+n[s]);return r}i.stringArrayToStringSet=e;function t(n){const r=[];if(n!==void 0){const s=n.iterator();for(;s.hasNext();){const a=""+s.next();r.push(a)}}return r}i.stringSetToStringArray=t})(Vl||(Vl={}));var La;(function(i){let e;const t=new Map;function n(u){return s(":drawable/"+u)}i.getDrawableId=n;function r(u){return s(":string/"+u)}i.getStringId=r;function s(u){const d=El(),m=Pl()+u;return d.getIdentifier(m,null,null)}i.getId=s;function a(u,d){return El().getIdentifier(u,d,Pl())}i.getResource=a;function o(u,d){return c(u,d)}i.getPalleteColor=o;function c(u,d){if(t.has(u))return t.get(u);let h=0;try{e||(e=java.lang.Class.forName("androidx.appcompat.R$attr"));let m=0;const p=e.getField(u);if(p&&(m=p.getInt(null)),m){const g=new android.util.TypedValue;d.getTheme().resolveAttribute(m,g,!0),h=g.data}}catch{l.write("Cannot get pallete color: "+u,l.categories.Error,l.messageType.error)}return t.set(u,h),h}i.getPaletteColor=c})(La||(La={}));function xv(){const i=android.os.Build.FINGERPRINT;return i!=null&&(i.indexOf("vbox")>-1||i.indexOf("generic")>-1)}const Np=Object.freeze(Object.defineProperty({__proto__:null,get collections(){return Vl},dismissSoftInput:bv,getApplication:Ud,getApplicationContext:Md,getCurrentActivity:Tl,getInputMethodManager:Wd,getPackageName:Pl,getResources:El,isRealDevice:xv,get resources(){return La},showSoftInput:Cv},Symbol.toStringTag,{value:"Module"}));function Lp(i){if(__DEV__)return new Proxy({},{get(e,t){const n=[i,t.toString()].join("."),s=[`Trying to access "${n}" without checking platform first.`,`Hint: Use "__IOS__" to check platform before accessing "${n}".`].join(`
`);throw new Error(s)}})}var yr=Np,Ue=Np;Lp("Utils.iOSNativeHelper");Lp("Utils.ios");const Yt="res://",Al="sys://",Sv="file:///";function Tv(i){const e=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;return i.replace(e,"\\$&")}function ki(i,e=!0){if(i=i.trim(),i.startsWith("~/")?i=i.substring(2):(i.startsWith("~")||i.startsWith("/"))&&(i=i.substring(1)),e){const t=["js","ts","xml","html","css","scss"],n=new RegExp(`(.*)\\.(?:${t.join("|")})`,"i");i=i.replace(n,"$1")}return i}function Ko(i){return Be(i)?i.indexOf("~/")===0||i.indexOf("/")===0||i.indexOf(Yt)===0||i.indexOf(Al)===0:!1}function Hd(i){if(!Be(i))return!1;const e=i.trim().split("//")[0];return e&&e.indexOf("font:")===0}function jd(i){if(!Be(i))return!1;const e=i.trim().split(",")[0];return e&&e.indexOf("data:")===0&&e.indexOf("base64")>=0}function Ev(i){const e=i.lastIndexOf(".");return e&&e>=0&&e<i.length?i.substring(e):""}function Pv(i){return i.length!==Vv(i).length}function Vv(i){return Array.from(new Set(i))}let ka;const Sn={},Il={};let Hh=0;function Av(){return ka||(ka=new android.os.Handler(android.os.Looper.myLooper())),Hh++,Hh}function kp(i,e=0,...t){e+=0;const n=Av(),r=()=>i(...t),s=zonedCallback(r),a=new java.lang.Runnable({run:()=>{s(),Sn[n]&&(delete Sn[n],delete Il[n])}});return Sn[n]||(Sn[n]=a,Il[n]=i),ka.postDelayed(a,long(e)),n}function jh(i){const e=i;Sn[e]&&(ka.removeCallbacks(Sn[e]),delete Sn[e],delete Il[e])}const Qo=30,Ra=3<<Qo,Iv=0<<Qo,Rp=1<<Qo,Fp=2<<Qo;function Nv(i){switch(i){case Rp:return"Exact";case Fp:return"AtMost";default:return"Unspecified"}}function Op(i){return i&Ra}function Dp(i){return i&~Ra}function Lv(i){const e=Op(i),t=Dp(i);let n="MeasureSpec: ";return e===Iv?n+="UNSPECIFIED ":e===Rp?n+="EXACTLY ":e===Fp&&(n+="AT_MOST "),n+=t,n}function kv(i){const e=Math.floor(i+.5);return e!==0?e:i===0?0:i>0?1:-1}let Tc,Ec,$h=!1;var V;(function(i){i.MODE_SHIFT=30,i.MODE_MASK=3<<i.MODE_SHIFT,i.UNSPECIFIED=0<<i.MODE_SHIFT,i.EXACTLY=1<<i.MODE_SHIFT,i.AT_MOST=2<<i.MODE_SHIFT,i.MEASURED_HEIGHT_STATE_SHIFT=16,i.MEASURED_STATE_TOO_SMALL=16777216,i.MEASURED_STATE_MASK=4278190080,i.MEASURED_SIZE_MASK=16777215;function e(h){return Nv(h)}i.getMode=e;function t(h){return Op(h)}i.getMeasureSpecMode=t;function n(h){return Dp(h)}i.getMeasureSpecSize=n;function r(h,m){return Ec===void 0&&(Ec=yr.getApplicationContext().getApplicationInfo().targetSdkVersion,$h=Ec<=17),$h?h+m:h&~Ra|m&Ra}i.makeMeasureSpec=r;function s(){return Tc===void 0&&(Tc=yr.getResources().getDisplayMetrics().density),Tc}i.getDisplayDensity=s;function a(h){return h*s()}i.toDevicePixels=a;function o(h){return h/s()}i.toDeviceIndependentPixels=o;function c(h){return kv(h)}i.round=c;function u(h,m,p,g,v){const y=h;return y.measure(r(m,p),r(g,v)),{width:y.getMeasuredWidth(),height:y.getMeasuredHeight()}}i.measureNativeView=u;function d(h){return Lv(h)}i.measureSpecToString=d})(V||(V={}));function Rv(i){const e=yr.getApplicationContext();try{const t=new android.content.Intent(android.content.Intent.ACTION_VIEW,android.net.Uri.parse(i.trim()));t.addFlags(android.content.Intent.FLAG_ACTIVITY_NEW_TASK),e.startActivity(t)}catch{return l.write(`Failed to start activity for handling URL: ${i}`,l.categories.Error,l.messageType.error),!1}return!0}class Bp extends se{}const Gh="accessibilityServiceEnabled";class Fv extends Bp{constructor(e){super();const t=new WeakRef(this);let n;function r(){const s=t==null?void 0:t.get();if(!s){e.off(se.propertyChangeEvent,r);return}const a=!!e.accessibilityServiceEnabled;a!==n&&(s.set(Gh,a),n=a)}e.on(se.propertyChangeEvent,r),this.set(Gh,!!e.accessibilityServiceEnabled)}}function vr(){const i=Ue.getApplicationContext();return i?i.getSystemService(android.content.Context.ACCESSIBILITY_SERVICE):null}const Fa="accessibilityStateEnabled",Oa="touchExplorationStateEnabled";class Ov extends Bp{get accessibilityServiceEnabled(){return!!this[Fa]&&!!this[Oa]}set accessibilityServiceEnabled(e){}}let $r,Gr,nt;function zr(){const i=vr();if(!i){nt.set(Fa,!1),nt.set(Oa,!1);return}nt.set(Fa,!!i.isEnabled()),nt.set(Oa,!!i.isTouchExplorationEnabled())}function Dv(){if(nt)return nt;const i=vr();return nt=new Ov,i?($r=new android.view.accessibility.AccessibilityManager.AccessibilityStateChangeListener({onAccessibilityStateChanged(e){zr(),l.isEnabled()&&l.write(`AccessibilityStateChangeListener state changed to: ${!!e}`,l.categories.Accessibility)}}),i.addAccessibilityStateChangeListener($r),G>=19&&(Gr=new android.view.accessibility.AccessibilityManager.TouchExplorationStateChangeListener({onTouchExplorationStateChanged(e){zr(),l.isEnabled()&&l.write(`TouchExplorationStateChangeListener state changed to: ${!!e}`,l.categories.Accessibility)}}),i.addTouchExplorationStateChangeListener(Gr)),zr(),x.on(x.resumeEvent,zr),x.on(x.exitEvent,e=>{const t=e.android;if(t&&!t.isFinishing())return;const n=vr();n&&($r&&n.removeAccessibilityStateChangeListener($r),Gr&&n.removeTouchExplorationStateChangeListener(Gr)),$r=null,Gr=null,nt&&(nt.removeEventListener(se.propertyChangeEvent),nt=null),x.off(x.resumeEvent,zr)}),nt):(nt.set(Fa,!1),nt.set(Oa,!1),nt)}class Mp extends Fv{constructor(){super(Dv())}}const Up=[.85,1,1.15,1.3];function Bv(i){return i=Number(i)||1,Up.sort((e,t)=>Math.abs(i-e)-Math.abs(i-t))[0]}var lr;(function(i){i.ExtraSmall="extra-small",i.Medium="medium",i.ExtraLarge="extra-large"})(lr||(lr={}));let ns=null;function Wp(i){const e=ns;ns=Bv(i),e!==ns&&x.notify({eventName:x.fontScaleChangedEvent,object:x,newValue:ns})}function $d(){return Da(),ns}function Mv(){return lr.Medium}function zh(){Wp(Number(x.android.context.getResources().getConfiguration().fontScale))}let Pc;function Da(){var e;if(Pc)return;x.off(x.launchEvent,Da);const i=(e=x.android)==null?void 0:e.context;if(!i){x.on(x.launchEvent,Da);return}zh(),Pc=new android.content.ComponentCallbacks2({onLowMemory(){},onTrimMemory(){},onConfigurationChanged(t){Wp(Number(t.fontScale))}}),i.registerComponentCallbacks(Pc),x.on(x.resumeEvent,zh)}function Uv(){Da()}const Hp="a11y-fontscale-xs",Nl="a11y-fontscale-m",jp="a11y-fontscale-xl",Wv=[Hp,Nl,jp],$p="a11y-service-enabled",Gp="a11y-service-disabled",Hv=[$p,Gp];let Ba,rs,qr="",bn="",Xr="";function jv(){Ba||(rs=new Map(Up.map(i=>[i,`a11y-fontscale-${Number(i*100).toFixed(0)}`])),Ba=new Mp)}function Vc(i,e){const t=x.getRootView();if(!t)return;x.applyCssClass(t,i,e),t._getRootModalViews().forEach(r=>x.applyCssClass(r,i,e))}function $v(){const i=x.getRootView();if(!i)return;const e=$d();i.style.fontScaleInternal=e,i._getRootModalViews().forEach(n=>n.style.fontScaleInternal=e)}function Gv(){jv(),x.on(x.fontScaleChangedEvent,()=>{qh(),$v()}),Ba.on(Mp.propertyChangeEvent,qh)}function qh(){const i=$d(),e=Mv(),t=qr;rs.has(i)?qr=rs.get(i):qr=rs.get(1),t!==qr&&Vc([...rs.values()],qr);const n=bn;switch(e){case lr.ExtraSmall:{bn=Hp;break}case lr.Medium:{bn=Nl;break}case lr.ExtraLarge:{bn=jp;break}default:{bn=Nl;break}}n!==bn&&Vc(Wv,bn);const r=Xr;Ba.accessibilityServiceEnabled?Xr=$p:Xr=Gp,r!==Xr&&Vc(Hv,Xr)}var E;(function(i){i.zeroLength={value:0,unit:"px"},function(t){t.datetime="datetime",t.phone="phone",t.number="number",t.url="url",t.email="email",t.integer="integer"}(i.KeyboardType||(i.KeyboardType={})),function(t){t.username="username",t.password="password",t.newUsername="newUsername",t.newPassword="newPassword",t.oneTimeCode="oneTimeCode",t.none="none"}(i.AutofillType||(i.AutofillType={})),function(t){t.done="done",t.next="next",t.go="go",t.search="search",t.send="send"}(i.ReturnKeyType||(i.ReturnKeyType={})),function(t){t.left="left",t.center="center",t.right="right",t.justify="justify"}(i.TextAlignment||(i.TextAlignment={})),function(t){t.none="none",t.underline="underline",t.lineThrough="line-through"}(i.TextDecoration||(i.TextDecoration={})),function(t){t.none="none",t.capitalize="capitalize",t.uppercase="uppercase",t.lowercase="lowercase"}(i.TextTransform||(i.TextTransform={})),function(t){t.normal="normal",t.nowrap="nowrap"}(i.WhiteSpace||(i.WhiteSpace={})),function(t){t.clip="clip",t.ellipsis="ellipsis",t.initial="initial",t.unset="unset"}(i.TextOverflow||(i.TextOverflow={})),function(t){t.horizontal="horizontal",t.vertical="vertical"}(i.Orientation||(i.Orientation={})),function(t){t.portrait="portrait",t.landscape="landscape",t.unknown="unknown"}(i.DeviceOrientation||(i.DeviceOrientation={})),function(t){t.left="left",t.center="center",t.right="right",t.stretch="stretch",t.isValid=pe(t.left,t.center,t.right,t.stretch),t.parse=ge(t.isValid)}(i.HorizontalAlignment||(i.HorizontalAlignment={})),function(t){t.top="top",t.middle="middle",t.bottom="bottom",t.stretch="stretch"}(i.VerticalAlignment||(i.VerticalAlignment={})),function(t){t.top="top",t.middle="middle",t.bottom="bottom",t.stretch="stretch",t.texttop="text-top",t.textbottom="text-bottom",t.sup="sup",t.sub="sub",t.baseline="baseline",t.isValid=pe(t.top,t.middle,t.bottom,t.stretch,t.texttop,t.textbottom,t.sup,t.sub,t.baseline),t.parse=r=>r.toLowerCase()==="center"?t.middle:n(r);const n=ge(t.isValid)}(i.VerticalAlignmentText||(i.VerticalAlignmentText={})),function(t){t.none="none",t.aspectFill="aspectFill",t.aspectFit="aspectFit",t.fill="fill"}(i.ImageStretch||(i.ImageStretch={})),function(t){t.visible="visible",t.collapse="collapse",t.collapsed="collapsed",t.hidden="hidden",t.isValid=pe(t.visible,t.hidden,t.collapse),t.parse=r=>r.toLowerCase()==="collapsed"?t.collapse:n(r);const n=ge(t.isValid)}(i.Visibility||(i.Visibility={})),function(t){t.Normal=0,t.Bold=1,t.Italic=2}(i.FontAttributes||(i.FontAttributes={})),function(t){t.Phone="Phone",t.Tablet="Tablet"}(i.DeviceType||(i.DeviceType={})),function(t){t.focusLost="focusLost",t.textChanged="textChanged"}(i.UpdateTextTrigger||(i.UpdateTextTrigger={})),function(t){t.any=300,t.high=3}(i.Accuracy||(i.Accuracy={})),function(t){t.left="left",t.top="top",t.right="right",t.bottom="bottom"}(i.Dock||(i.Dock={})),function(t){t.none="none",t.words="words",t.sentences="sentences",t.allCharacters="allcharacters"}(i.AutocapitalizationType||(i.AutocapitalizationType={})),function(t){t.auto="auto",t.never="never",t.always="always"}(i.NavigationBarVisibility||(i.NavigationBarVisibility={})),function(t){t.auto="auto",t.never="never",t.always="always"}(i.AndroidActionBarIconVisibility||(i.AndroidActionBarIconVisibility={})),function(t){t.actionBar="actionBar",t.actionBarIfRoom="actionBarIfRoom",t.popup="popup"}(i.AndroidActionItemPosition||(i.AndroidActionItemPosition={})),function(t){t.left="left",t.right="right"}(i.IOSActionItemPosition||(i.IOSActionItemPosition={})),function(t){t.png="png",t.jpeg="jpeg",t.jpg="jpg"}(i.ImageFormat||(i.ImageFormat={})),function(t){t.normal="normal",t.italic="italic"}(i.FontStyle||(i.FontStyle={})),function(t){t.thin="100",t.extraLight="200",t.light="300",t.normal="normal",t.medium="500",t.semiBold="600",t.bold="bold",t.extraBold="800",t.black="900"}(i.FontWeight||(i.FontWeight={})),function(t){t.repeat="repeat",t.repeatX="repeat-x",t.repeatY="repeat-y",t.noRepeat="no-repeat",t.isValid=pe(t.repeat,t.repeatX,t.repeatY,t.noRepeat),t.parse=ge(t.isValid)}(i.BackgroundRepeat||(i.BackgroundRepeat={}));let e;(function(t){t.ease="ease",t.easeIn="easeIn",t.easeOut="easeOut",t.easeInOut="easeInOut",t.linear="linear",t.spring="spring";function n(r,s,a,o){return e=e||require("../ui/animation"),new e.CubicBezierAnimationCurve(r,s,a,o)}t.cubicBezier=n})(i.AnimationCurve||(i.AnimationCurve={})),function(t){t.light="light",t.dark="dark"}(i.StatusBarStyle||(i.StatusBarStyle={})),function(t){t.light="light",t.dark="dark"}(i.SystemAppearance||(i.SystemAppearance={}))})(E||(E={}));E.AnimationCurve;E.Accuracy,E.AndroidActionBarIconVisibility,E.AndroidActionItemPosition,E.AnimationCurve,E.AutocapitalizationType,E.BackgroundRepeat,E.DeviceOrientation,E.DeviceType,E.Dock,E.FontAttributes,E.FontStyle,E.FontWeight,E.HorizontalAlignment,E.IOSActionItemPosition,E.ImageFormat,E.KeyboardType,E.NavigationBarVisibility,E.Orientation,E.ReturnKeyType,E.StatusBarStyle,E.ImageStretch,E.SystemAppearance,E.TextAlignment,E.TextDecoration,E.TextTransform,E.UpdateTextTrigger,E.VerticalAlignment,E.Visibility,E.WhiteSpace;const Zo={android:"Android",ios:"iOS",visionos:"visionOS"};class zv{initMetrics(){x.android.getNativeApplication().getSystemService(android.content.Context.WINDOW_SERVICE).getDefaultDisplay().getRealMetrics(this._metrics)}get metrics(){return this._metrics||(this._metrics=new android.util.DisplayMetrics,this.initMetrics()),this._metrics}get widthPixels(){return this.metrics.widthPixels}get heightPixels(){return this.metrics.heightPixels}get scale(){return this.metrics.density}get widthDIPs(){return this.metrics.widthPixels/this.metrics.density}get heightDIPs(){return this.metrics.heightPixels/this.metrics.density}_updateMetrics(){this._metrics||(this._metrics=new android.util.DisplayMetrics),this.initMetrics()}}class Ve{}Ve.mainScreen=new zv;const qv=600;class Xv{get manufacturer(){return this._manufacturer||(this._manufacturer=android.os.Build.MANUFACTURER),this._manufacturer}get os(){return Zo.android}get osVersion(){return this._osVersion||(this._osVersion=android.os.Build.VERSION.RELEASE),this._osVersion}get model(){return this._model||(this._model=android.os.Build.MODEL),this._model}get sdkVersion(){return this._sdkVersion||(this._sdkVersion=android.os.Build.VERSION.SDK),this._sdkVersion}get deviceType(){return this._deviceType||(Math.min(Ve.mainScreen.widthPixels,Ve.mainScreen.heightPixels)/Ve.mainScreen.scale>=qv?this._deviceType="Tablet":this._deviceType="Phone"),this._deviceType}get uuid(){if(!this._uuid){const e=x.android.getNativeApplication();this._uuid=android.provider.Settings.Secure.getString(e.getContentResolver(),android.provider.Settings.Secure.ANDROID_ID)}return this._uuid}get language(){let e;return G>=24?e=android.content.res.Resources.getSystem().getConfiguration().getLocales().get(0):e=android.content.res.Resources.getSystem().getConfiguration().locale,e.getLanguage().replace("_","-")}get region(){let e;return G>=24?e=android.content.res.Resources.getSystem().getConfiguration().getLocales().get(0):e=android.content.res.Resources.getSystem().getConfiguration().locale,e.getCountry()}}const wr=new Xv,ss=new Map,Ma=new WeakMap;class Yv{constructor(e,t){this.tagetRef=new WeakRef(e),this.handler=t}}function Kv(i){let e=ss.get(i);return e||(e=function(t){const n=t.object,r=Ma.get(n);if(!r){n.removeEventListener(i,ss.get(i));return}const s=r.get(i);if(!s)return;const a=[];let o,c;for(let u=0;u<s.length;u++)o=s[u],c=o.tagetRef.get(),c?o.handler.call(c,t):a.push(u);if(a.length===s.length)n.removeEventListener(i,ss.get(i)),r.delete(i);else for(let u=a.length-1;u>=0;u--)s.splice(a[u],1)},ss.set(i,e)),e}function zp(i,e,t,n){if(!i)throw new Error("source is null or undefined");if(!n)throw new Error("target is null or undefined");if(typeof e!="string")throw new Error("eventName is not a string");if(typeof t!="function")throw new Error("handler is not a function")}function ur(i,e,t,n){zp(i,e,t,n);let r=!1,s=Ma.get(i);s||(s=new Map,Ma.set(i,s),r=!0);let a=s.get(e);a||(a=new Array,s.set(e,a),r=!0),a.push(new Yv(n,t)),r&&i.addEventListener(e,Kv(e))}function bs(i,e,t,n){zp(i,e,t,n);const r=ss.get(e);if(!r)return;const s=Ma.get(i);if(!s)return;const a=s.get(e);if(!a)return;const o=[];let c,u;for(let d=0;d<a.length;d++)c=a[d],u=c.tagetRef.get(),(!u||u===n&&t===c.handler)&&o.push(d);if(o.length===a.length)i.removeEventListener(e,r),s.delete(e);else for(let d=o.length-1;d>=0;d--)a.splice(o[d],1)}const Qv=/[\+\-\*\/%\?:<>=!\|&\(\)^~]|^`.*\$\{.+\}.*`$/;var ke;(function(i){i.sourceProperty="sourceProperty",i.targetProperty="targetProperty",i.expression="expression",i.twoWay="twoWay",i.source="source",i.bindingValueKey="$value",i.parentValueKey="$parent",i.parentsValueKey="$parents",i.newPropertyValueKey="$newPropertyValue"})(ke||(ke={}));const Zv=/=+/,Jv=/(==|===|>=|<=|!=|!==)/,Ll=/\$parents\s*\[\s*(['"]*)\w*\1\s*\]/g;function ew(i){const e=i.search(Zv);return e>-1&&i.substr(e>0?e-1:0,3).search(Jv)===-1}function tw(i){for(let e=0;e<i.length;e++)if(ew(i[e]))return!0;return!1}const tn={propName:"propName",propValue:"propValue"};function iw(i,e,t){let n={},r=i.substr(0,i.indexOf("=")).trim();const s=i.substr(i.indexOf("=")+1).trim();return e&&(r?r=r in e?r:null:r=e.defaultProperty),r?(t?n=t(r,s):(n[tn.propName]=r,n[tn.propValue]=s),n):null}function nw(i,e,t){const n={};let r;for(let s=0;s<i.length;s++)r=iw(i[s],e,t),r&&(n[r[tn.propName]]=r[tn.propValue]);return n}function rw(i){const e=[];let t=0,n=0,r=!1,s=!1;for(let a=0;a<i.length;a++)i[a]==='"'&&(s=!s),i[a]==="'"&&(r=!r),(i[a]==="("||i[a]==="[")&&t++,(i[a]===")"||i[a]==="]")&&t--,i[a]===","&&t===0&&!(r||s)&&(e.push(i.substr(n,a-n)),n=a+1);return e.push(i.substr(n)),e}function sw(i){return i.search(Qv)>-1}function aw(i,e){let t=[];const n=rw(e);if(tw(n))t=n;else if(n.length===1){const o=n[0].trim();let c;sw(o)?(c=ke.bindingValueKey,t.push(ke.expression+" = "+o)):c=o,t.push(ke.sourceProperty+" = "+c),t.push(ke.twoWay+" = true")}else{t.push(ke.sourceProperty+" = "+n[0].trim()),t.push(ke.expression+" = "+n[1].trim());const o=n[2]?n[2].toLowerCase().trim()==="true":!0;t.push(ke.twoWay+" = "+o)}const s=nw(t,ow,function(o,c){const u={};return u[tn.propName]=o,o===ke.twoWay?c==="true"?u[tn.propValue]=!0:u[tn.propValue]=!1:u[tn.propValue]=c,u}),a={targetProperty:i};for(const o in s)s.hasOwnProperty(o)&&(a[o]=s[o]);return a[ke.twoWay]===void 0&&(a[ke.twoWay]=!0),a}const ow={sourceProperty:!0,expression:!0,twoWay:!0,source:!0,defaultProperty:ke.sourceProperty};var cw=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],qp=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],lw="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",Xp="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Ac={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Ic="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",uw={5:Ic,"5module":Ic+" export import",6:Ic+" const class extends export import super"},dw=/^in(stanceof)?$/,hw=new RegExp("["+Xp+"]"),fw=new RegExp("["+Xp+lw+"]");function kl(i,e){for(var t=65536,n=0;n<e.length;n+=2){if(t+=e[n],t>i)return!1;if(t+=e[n+1],t>=i)return!0}return!1}function Ri(i,e){return i<65?i===36:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&hw.test(String.fromCharCode(i)):e===!1?!1:kl(i,qp)}function _r(i,e){return i<48?i===36:i<58?!0:i<65?!1:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&fw.test(String.fromCharCode(i)):e===!1?!1:kl(i,qp)||kl(i,cw)}var te=function(e,t){t===void 0&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function mt(i,e){return new te(i,{beforeExpr:!0,binop:e})}var yt={beforeExpr:!0},tt={startsExpr:!0},Gd={};function J(i,e){return e===void 0&&(e={}),e.keyword=i,Gd[i]=new te(i,e)}var f={num:new te("num",tt),regexp:new te("regexp",tt),string:new te("string",tt),name:new te("name",tt),privateId:new te("privateId",tt),eof:new te("eof"),bracketL:new te("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new te("]"),braceL:new te("{",{beforeExpr:!0,startsExpr:!0}),braceR:new te("}"),parenL:new te("(",{beforeExpr:!0,startsExpr:!0}),parenR:new te(")"),comma:new te(",",yt),semi:new te(";",yt),colon:new te(":",yt),dot:new te("."),question:new te("?",yt),questionDot:new te("?."),arrow:new te("=>",yt),template:new te("template"),invalidTemplate:new te("invalidTemplate"),ellipsis:new te("...",yt),backQuote:new te("`",tt),dollarBraceL:new te("${",{beforeExpr:!0,startsExpr:!0}),eq:new te("=",{beforeExpr:!0,isAssign:!0}),assign:new te("_=",{beforeExpr:!0,isAssign:!0}),incDec:new te("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new te("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:mt("||",1),logicalAND:mt("&&",2),bitwiseOR:mt("|",3),bitwiseXOR:mt("^",4),bitwiseAND:mt("&",5),equality:mt("==/!=/===/!==",6),relational:mt("</>/<=/>=",7),bitShift:mt("<</>>/>>>",8),plusMin:new te("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:mt("%",10),star:mt("*",10),slash:mt("/",10),starstar:new te("**",{beforeExpr:!0}),coalesce:mt("??",1),_break:J("break"),_case:J("case",yt),_catch:J("catch"),_continue:J("continue"),_debugger:J("debugger"),_default:J("default",yt),_do:J("do",{isLoop:!0,beforeExpr:!0}),_else:J("else",yt),_finally:J("finally"),_for:J("for",{isLoop:!0}),_function:J("function",tt),_if:J("if"),_return:J("return",yt),_switch:J("switch"),_throw:J("throw",yt),_try:J("try"),_var:J("var"),_const:J("const"),_while:J("while",{isLoop:!0}),_with:J("with"),_new:J("new",{beforeExpr:!0,startsExpr:!0}),_this:J("this",tt),_super:J("super",tt),_class:J("class",tt),_extends:J("extends",yt),_export:J("export"),_import:J("import",tt),_null:J("null",tt),_true:J("true",tt),_false:J("false",tt),_in:J("in",{beforeExpr:!0,binop:7}),_instanceof:J("instanceof",{beforeExpr:!0,binop:7}),_typeof:J("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:J("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:J("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Mt=/\r\n?|\n|\u2028|\u2029/,pw=new RegExp(Mt.source,"g");function Dr(i){return i===10||i===13||i===8232||i===8233}function Yp(i,e,t){t===void 0&&(t=i.length);for(var n=e;n<t;n++){var r=i.charCodeAt(n);if(Dr(r))return n<t-1&&r===13&&i.charCodeAt(n+1)===10?n+2:n+1}return-1}var Kp=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,wt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Qp=Object.prototype,gw=Qp.hasOwnProperty,mw=Qp.toString,Br=Object.hasOwn||function(i,e){return gw.call(i,e)},Xh=Array.isArray||function(i){return mw.call(i)==="[object Array]"},Yh=Object.create(null);function nn(i){return Yh[i]||(Yh[i]=new RegExp("^(?:"+i.replace(/ /g,"|")+")$"))}function Fi(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}var yw=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,xs=function(e,t){this.line=e,this.column=t};xs.prototype.offset=function(e){return new xs(this.line,this.column+e)};var Jo=function(e,t,n){this.start=t,this.end=n,e.sourceFile!==null&&(this.source=e.sourceFile)};function Zp(i,e){for(var t=1,n=0;;){var r=Yp(i,n,e);if(r<0)return new xs(t,e-n);++t,n=r}}var Rl={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Kh=!1;function vw(i){var e={};for(var t in Rl)e[t]=i&&Br(i,t)?i[t]:Rl[t];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!Kh&&typeof console=="object"&&console.warn&&(Kh=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!i||i.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),Xh(e.onToken)){var n=e.onToken;e.onToken=function(r){return n.push(r)}}return Xh(e.onComment)&&(e.onComment=ww(e,e.onComment)),e}function ww(i,e){return function(t,n,r,s,a,o){var c={type:t?"Block":"Line",value:n,start:r,end:s};i.locations&&(c.loc=new Jo(this,a,o)),i.ranges&&(c.range=[r,s]),e.push(c)}}var Ss=1,Mr=2,zd=4,Jp=8,eg=16,tg=32,qd=64,ig=128,Gs=256,Xd=Ss|Mr|Gs;function Yd(i,e){return Mr|(i?zd:0)|(e?Jp:0)}var Ua=0,Kd=1,Hi=2,ng=3,rg=4,sg=5,Fe=function(e,t,n){this.options=e=vw(e),this.sourceFile=e.sourceFile,this.keywords=nn(uw[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var r="";e.allowReserved!==!0&&(r=Ac[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(r+=" await")),this.reservedWords=nn(r);var s=(r?r+" ":"")+Ac.strict;this.reservedWordsStrict=nn(s),this.reservedWordsStrictBind=nn(s+" "+Ac.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Mt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=f.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Ss),this.regexpState=null,this.privateNameStack=[]},yi={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Fe.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};yi.inFunction.get=function(){return(this.currentVarScope().flags&Mr)>0};yi.inGenerator.get=function(){return(this.currentVarScope().flags&Jp)>0&&!this.currentVarScope().inClassFieldInit};yi.inAsync.get=function(){return(this.currentVarScope().flags&zd)>0&&!this.currentVarScope().inClassFieldInit};yi.canAwait.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var e=this.scopeStack[i];if(e.inClassFieldInit||e.flags&Gs)return!1;if(e.flags&Mr)return(e.flags&zd)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};yi.allowSuper.get=function(){var i=this.currentThisScope(),e=i.flags,t=i.inClassFieldInit;return(e&qd)>0||t||this.options.allowSuperOutsideMethod};yi.allowDirectSuper.get=function(){return(this.currentThisScope().flags&ig)>0};yi.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};yi.allowNewDotTarget.get=function(){var i=this.currentThisScope(),e=i.flags,t=i.inClassFieldInit;return(e&(Mr|Gs))>0||t};yi.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Gs)>0};Fe.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n};Fe.parse=function(e,t){return new this(t,e).parse()};Fe.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()};Fe.tokenizer=function(e,t){return new this(t,e)};Object.defineProperties(Fe.prototype,yi);var Je=Fe.prototype,_w=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Je.strictDirective=function(i){if(this.options.ecmaVersion<5)return!1;for(;;){wt.lastIndex=i,i+=wt.exec(this.input)[0].length;var e=_w.exec(this.input.slice(i));if(!e)return!1;if((e[1]||e[2])==="use strict"){wt.lastIndex=i+e[0].length;var t=wt.exec(this.input),n=t.index+t[0].length,r=this.input.charAt(n);return r===";"||r==="}"||Mt.test(t[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(n+1)==="=")}i+=e[0].length,wt.lastIndex=i,i+=wt.exec(this.input)[0].length,this.input[i]===";"&&i++}};Je.eat=function(i){return this.type===i?(this.next(),!0):!1};Je.isContextual=function(i){return this.type===f.name&&this.value===i&&!this.containsEsc};Je.eatContextual=function(i){return this.isContextual(i)?(this.next(),!0):!1};Je.expectContextual=function(i){this.eatContextual(i)||this.unexpected()};Je.canInsertSemicolon=function(){return this.type===f.eof||this.type===f.braceR||Mt.test(this.input.slice(this.lastTokEnd,this.start))};Je.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Je.semicolon=function(){!this.eat(f.semi)&&!this.insertSemicolon()&&this.unexpected()};Je.afterTrailingComma=function(i,e){if(this.type===i)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Je.expect=function(i){this.eat(i)||this.unexpected()};Je.unexpected=function(i){this.raise(i??this.start,"Unexpected token")};var ec=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Je.checkPatternErrors=function(i,e){if(i){i.trailingComma>-1&&this.raiseRecoverable(i.trailingComma,"Comma is not permitted after the rest element");var t=e?i.parenthesizedAssign:i.parenthesizedBind;t>-1&&this.raiseRecoverable(t,e?"Assigning to rvalue":"Parenthesized pattern")}};Je.checkExpressionErrors=function(i,e){if(!i)return!1;var t=i.shorthandAssign,n=i.doubleProto;if(!e)return t>=0||n>=0;t>=0&&this.raise(t,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")};Je.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Je.isSimpleAssignTarget=function(i){return i.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(i.expression):i.type==="Identifier"||i.type==="MemberExpression"};var U=Fe.prototype;U.parseTopLevel=function(i){var e=Object.create(null);for(i.body||(i.body=[]);this.type!==f.eof;){var t=this.parseStatement(null,!0,e);i.body.push(t)}if(this.inModule)for(var n=0,r=Object.keys(this.undefinedExports);n<r.length;n+=1){var s=r[n];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(i.body),this.next(),i.sourceType=this.options.sourceType,this.finishNode(i,"Program")};var Qd={kind:"loop"},Cw={kind:"switch"};U.isLet=function(i){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;wt.lastIndex=this.pos;var e=wt.exec(this.input),t=this.pos+e[0].length,n=this.input.charCodeAt(t);if(n===91||n===92)return!0;if(i)return!1;if(n===123||n>55295&&n<56320)return!0;if(Ri(n,!0)){for(var r=t+1;_r(n=this.input.charCodeAt(r),!0);)++r;if(n===92||n>55295&&n<56320)return!0;var s=this.input.slice(t,r);if(!dw.test(s))return!0}return!1};U.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;wt.lastIndex=this.pos;var i=wt.exec(this.input),e=this.pos+i[0].length,t;return!Mt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(_r(t=this.input.charCodeAt(e+8))||t>55295&&t<56320))};U.parseStatement=function(i,e,t){var n=this.type,r=this.startNode(),s;switch(this.isLet(i)&&(n=f._var,s="let"),n){case f._break:case f._continue:return this.parseBreakContinueStatement(r,n.keyword);case f._debugger:return this.parseDebuggerStatement(r);case f._do:return this.parseDoStatement(r);case f._for:return this.parseForStatement(r);case f._function:return i&&(this.strict||i!=="if"&&i!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!i);case f._class:return i&&this.unexpected(),this.parseClass(r,!0);case f._if:return this.parseIfStatement(r);case f._return:return this.parseReturnStatement(r);case f._switch:return this.parseSwitchStatement(r);case f._throw:return this.parseThrowStatement(r);case f._try:return this.parseTryStatement(r);case f._const:case f._var:return s=s||this.value,i&&s!=="var"&&this.unexpected(),this.parseVarStatement(r,s);case f._while:return this.parseWhileStatement(r);case f._with:return this.parseWithStatement(r);case f.braceL:return this.parseBlock(!0,r);case f.semi:return this.parseEmptyStatement(r);case f._export:case f._import:if(this.options.ecmaVersion>10&&n===f._import){wt.lastIndex=this.pos;var a=wt.exec(this.input),o=this.pos+a[0].length,c=this.input.charCodeAt(o);if(c===40||c===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===f._import?this.parseImport(r):this.parseExport(r,t);default:if(this.isAsyncFunction())return i&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!i);var u=this.value,d=this.parseExpression();return n===f.name&&d.type==="Identifier"&&this.eat(f.colon)?this.parseLabeledStatement(r,u,d,i):this.parseExpressionStatement(r,d)}};U.parseBreakContinueStatement=function(i,e){var t=e==="break";this.next(),this.eat(f.semi)||this.insertSemicolon()?i.label=null:this.type!==f.name?this.unexpected():(i.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var r=this.labels[n];if((i.label==null||r.name===i.label.name)&&(r.kind!=null&&(t||r.kind==="loop")||i.label&&t))break}return n===this.labels.length&&this.raise(i.start,"Unsyntactic "+e),this.finishNode(i,t?"BreakStatement":"ContinueStatement")};U.parseDebuggerStatement=function(i){return this.next(),this.semicolon(),this.finishNode(i,"DebuggerStatement")};U.parseDoStatement=function(i){return this.next(),this.labels.push(Qd),i.body=this.parseStatement("do"),this.labels.pop(),this.expect(f._while),i.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(f.semi):this.semicolon(),this.finishNode(i,"DoWhileStatement")};U.parseForStatement=function(i){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Qd),this.enterScope(0),this.expect(f.parenL),this.type===f.semi)return e>-1&&this.unexpected(e),this.parseFor(i,null);var t=this.isLet();if(this.type===f._var||this.type===f._const||t){var n=this.startNode(),r=t?"let":this.value;return this.next(),this.parseVar(n,!0,r),this.finishNode(n,"VariableDeclaration"),(this.type===f._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&n.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===f._in?e>-1&&this.unexpected(e):i.await=e>-1),this.parseForIn(i,n)):(e>-1&&this.unexpected(e),this.parseFor(i,n))}var s=this.isContextual("let"),a=!1,o=this.containsEsc,c=new ec,u=this.start,d=e>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===f._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===f._in&&this.unexpected(e),i.await=!0):a&&this.options.ecmaVersion>=8&&(d.start===u&&!o&&d.type==="Identifier"&&d.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(i.await=!1)),s&&a&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,c),this.checkLValPattern(d),this.parseForIn(i,d)):(this.checkExpressionErrors(c,!0),e>-1&&this.unexpected(e),this.parseFor(i,d))};U.parseFunctionStatement=function(i,e,t){return this.next(),this.parseFunction(i,fs|(t?0:Fl),!1,e)};U.parseIfStatement=function(i){return this.next(),i.test=this.parseParenExpression(),i.consequent=this.parseStatement("if"),i.alternate=this.eat(f._else)?this.parseStatement("if"):null,this.finishNode(i,"IfStatement")};U.parseReturnStatement=function(i){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(f.semi)||this.insertSemicolon()?i.argument=null:(i.argument=this.parseExpression(),this.semicolon()),this.finishNode(i,"ReturnStatement")};U.parseSwitchStatement=function(i){this.next(),i.discriminant=this.parseParenExpression(),i.cases=[],this.expect(f.braceL),this.labels.push(Cw),this.enterScope(0);for(var e,t=!1;this.type!==f.braceR;)if(this.type===f._case||this.type===f._default){var n=this.type===f._case;e&&this.finishNode(e,"SwitchCase"),i.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(t&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),t=!0,e.test=null),this.expect(f.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(i,"SwitchStatement")};U.parseThrowStatement=function(i){return this.next(),Mt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),i.argument=this.parseExpression(),this.semicolon(),this.finishNode(i,"ThrowStatement")};var bw=[];U.parseCatchClauseParam=function(){var i=this.parseBindingAtom(),e=i.type==="Identifier";return this.enterScope(e?tg:0),this.checkLValPattern(i,e?rg:Hi),this.expect(f.parenR),i};U.parseTryStatement=function(i){if(this.next(),i.block=this.parseBlock(),i.handler=null,this.type===f._catch){var e=this.startNode();this.next(),this.eat(f.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),i.handler=this.finishNode(e,"CatchClause")}return i.finalizer=this.eat(f._finally)?this.parseBlock():null,!i.handler&&!i.finalizer&&this.raise(i.start,"Missing catch or finally clause"),this.finishNode(i,"TryStatement")};U.parseVarStatement=function(i,e,t){return this.next(),this.parseVar(i,!1,e,t),this.semicolon(),this.finishNode(i,"VariableDeclaration")};U.parseWhileStatement=function(i){return this.next(),i.test=this.parseParenExpression(),this.labels.push(Qd),i.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(i,"WhileStatement")};U.parseWithStatement=function(i){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),i.object=this.parseParenExpression(),i.body=this.parseStatement("with"),this.finishNode(i,"WithStatement")};U.parseEmptyStatement=function(i){return this.next(),this.finishNode(i,"EmptyStatement")};U.parseLabeledStatement=function(i,e,t,n){for(var r=0,s=this.labels;r<s.length;r+=1){var a=s[r];a.name===e&&this.raise(t.start,"Label '"+e+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===f._switch?"switch":null,c=this.labels.length-1;c>=0;c--){var u=this.labels[c];if(u.statementStart===i.start)u.statementStart=this.start,u.kind=o;else break}return this.labels.push({name:e,kind:o,statementStart:this.start}),i.body=this.parseStatement(n?n.indexOf("label")===-1?n+"label":n:"label"),this.labels.pop(),i.label=t,this.finishNode(i,"LabeledStatement")};U.parseExpressionStatement=function(i,e){return i.expression=e,this.semicolon(),this.finishNode(i,"ExpressionStatement")};U.parseBlock=function(i,e,t){for(i===void 0&&(i=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(f.braceL),i&&this.enterScope(0);this.type!==f.braceR;){var n=this.parseStatement(null);e.body.push(n)}return t&&(this.strict=!1),this.next(),i&&this.exitScope(),this.finishNode(e,"BlockStatement")};U.parseFor=function(i,e){return i.init=e,this.expect(f.semi),i.test=this.type===f.semi?null:this.parseExpression(),this.expect(f.semi),i.update=this.type===f.parenR?null:this.parseExpression(),this.expect(f.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,"ForStatement")};U.parseForIn=function(i,e){var t=this.type===f._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!t||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(t?"for-in":"for-of")+" loop variable declaration may not have an initializer"),i.left=e,i.right=t?this.parseExpression():this.parseMaybeAssign(),this.expect(f.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,t?"ForInStatement":"ForOfStatement")};U.parseVar=function(i,e,t,n){for(i.declarations=[],i.kind=t;;){var r=this.startNode();if(this.parseVarId(r,t),this.eat(f.eq)?r.init=this.parseMaybeAssign(e):!n&&t==="const"&&!(this.type===f._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!n&&r.id.type!=="Identifier"&&!(e&&(this.type===f._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,i.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(f.comma))break}return i};U.parseVarId=function(i,e){i.id=this.parseBindingAtom(),this.checkLValPattern(i.id,e==="var"?Kd:Hi,!1)};var fs=1,Fl=2,ag=4;U.parseFunction=function(i,e,t,n,r){this.initFunction(i),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===f.star&&e&Fl&&this.unexpected(),i.generator=this.eat(f.star)),this.options.ecmaVersion>=8&&(i.async=!!n),e&fs&&(i.id=e&ag&&this.type!==f.name?null:this.parseIdent(),i.id&&!(e&Fl)&&this.checkLValSimple(i.id,this.strict||i.generator||i.async?this.treatFunctionsAsVar?Kd:Hi:ng));var s=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Yd(i.async,i.generator)),e&fs||(i.id=this.type===f.name?this.parseIdent():null),this.parseFunctionParams(i),this.parseFunctionBody(i,t,!1,r),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(i,e&fs?"FunctionDeclaration":"FunctionExpression")};U.parseFunctionParams=function(i){this.expect(f.parenL),i.params=this.parseBindingList(f.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};U.parseClass=function(i,e){this.next();var t=this.strict;this.strict=!0,this.parseClassId(i,e),this.parseClassSuper(i);var n=this.enterClassBody(),r=this.startNode(),s=!1;for(r.body=[],this.expect(f.braceL);this.type!==f.braceR;){var a=this.parseClassElement(i.superClass!==null);a&&(r.body.push(a),a.type==="MethodDefinition"&&a.kind==="constructor"?(s&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),s=!0):a.key&&a.key.type==="PrivateIdentifier"&&xw(n,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=t,this.next(),i.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(i,e?"ClassDeclaration":"ClassExpression")};U.parseClassElement=function(i){if(this.eat(f.semi))return null;var e=this.options.ecmaVersion,t=this.startNode(),n="",r=!1,s=!1,a="method",o=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(f.braceL))return this.parseClassStaticBlock(t),t;this.isClassElementNameStart()||this.type===f.star?o=!0:n="static"}if(t.static=o,!n&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===f.star)&&!this.canInsertSemicolon()?s=!0:n="async"),!n&&(e>=9||!s)&&this.eat(f.star)&&(r=!0),!n&&!s&&!r){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=c:n=c)}if(n?(t.computed=!1,t.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),t.key.name=n,this.finishNode(t.key,"Identifier")):this.parseClassElementName(t),e<13||this.type===f.parenL||a!=="method"||r||s){var u=!t.static&&Wa(t,"constructor"),d=u&&i;u&&a!=="method"&&this.raise(t.key.start,"Constructor can't have get/set modifier"),t.kind=u?"constructor":a,this.parseClassMethod(t,r,s,d)}else this.parseClassField(t);return t};U.isClassElementNameStart=function(){return this.type===f.name||this.type===f.privateId||this.type===f.num||this.type===f.string||this.type===f.bracketL||this.type.keyword};U.parseClassElementName=function(i){this.type===f.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),i.computed=!1,i.key=this.parsePrivateIdent()):this.parsePropertyName(i)};U.parseClassMethod=function(i,e,t,n){var r=i.key;i.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),t&&this.raise(r.start,"Constructor can't be an async method")):i.static&&Wa(i,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var s=i.value=this.parseMethod(e,t,n);return i.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),i.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),i.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(i,"MethodDefinition")};U.parseClassField=function(i){if(Wa(i,"constructor")?this.raise(i.key.start,"Classes can't have a field named 'constructor'"):i.static&&Wa(i,"prototype")&&this.raise(i.key.start,"Classes can't have a static field named 'prototype'"),this.eat(f.eq)){var e=this.currentThisScope(),t=e.inClassFieldInit;e.inClassFieldInit=!0,i.value=this.parseMaybeAssign(),e.inClassFieldInit=t}else i.value=null;return this.semicolon(),this.finishNode(i,"PropertyDefinition")};U.parseClassStaticBlock=function(i){i.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Gs|qd);this.type!==f.braceR;){var t=this.parseStatement(null);i.body.push(t)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(i,"StaticBlock")};U.parseClassId=function(i,e){this.type===f.name?(i.id=this.parseIdent(),e&&this.checkLValSimple(i.id,Hi,!1)):(e===!0&&this.unexpected(),i.id=null)};U.parseClassSuper=function(i){i.superClass=this.eat(f._extends)?this.parseExprSubscripts(null,!1):null};U.enterClassBody=function(){var i={declared:Object.create(null),used:[]};return this.privateNameStack.push(i),i.declared};U.exitClassBody=function(){var i=this.privateNameStack.pop(),e=i.declared,t=i.used;if(this.options.checkPrivateFields)for(var n=this.privateNameStack.length,r=n===0?null:this.privateNameStack[n-1],s=0;s<t.length;++s){var a=t[s];Br(e,a.name)||(r?r.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}};function xw(i,e){var t=e.key.name,n=i[t],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),n==="iget"&&r==="iset"||n==="iset"&&r==="iget"||n==="sget"&&r==="sset"||n==="sset"&&r==="sget"?(i[t]="true",!1):n?!0:(i[t]=r,!1)}function Wa(i,e){var t=i.computed,n=i.key;return!t&&(n.type==="Identifier"&&n.name===e||n.type==="Literal"&&n.value===e)}U.parseExportAllDeclaration=function(i,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(i.exported=this.parseModuleExportName(),this.checkExport(e,i.exported,this.lastTokStart)):i.exported=null),this.expectContextual("from"),this.type!==f.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ExportAllDeclaration")};U.parseExport=function(i,e){if(this.next(),this.eat(f.star))return this.parseExportAllDeclaration(i,e);if(this.eat(f._default))return this.checkExport(e,"default",this.lastTokStart),i.declaration=this.parseExportDefaultDeclaration(),this.finishNode(i,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())i.declaration=this.parseExportDeclaration(i),i.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,i.declaration.declarations):this.checkExport(e,i.declaration.id,i.declaration.id.start),i.specifiers=[],i.source=null;else{if(i.declaration=null,i.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==f.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause());else{for(var t=0,n=i.specifiers;t<n.length;t+=1){var r=n[t];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}i.source=null}this.semicolon()}return this.finishNode(i,"ExportNamedDeclaration")};U.parseExportDeclaration=function(i){return this.parseStatement(null)};U.parseExportDefaultDeclaration=function(){var i;if(this.type===f._function||(i=this.isAsyncFunction())){var e=this.startNode();return this.next(),i&&this.next(),this.parseFunction(e,fs|ag,!1,i)}else if(this.type===f._class){var t=this.startNode();return this.parseClass(t,"nullableID")}else{var n=this.parseMaybeAssign();return this.semicolon(),n}};U.checkExport=function(i,e,t){i&&(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Br(i,e)&&this.raiseRecoverable(t,"Duplicate export '"+e+"'"),i[e]=!0)};U.checkPatternExport=function(i,e){var t=e.type;if(t==="Identifier")this.checkExport(i,e,e.start);else if(t==="ObjectPattern")for(var n=0,r=e.properties;n<r.length;n+=1){var s=r[n];this.checkPatternExport(i,s)}else if(t==="ArrayPattern")for(var a=0,o=e.elements;a<o.length;a+=1){var c=o[a];c&&this.checkPatternExport(i,c)}else t==="Property"?this.checkPatternExport(i,e.value):t==="AssignmentPattern"?this.checkPatternExport(i,e.left):t==="RestElement"&&this.checkPatternExport(i,e.argument)};U.checkVariableExport=function(i,e){if(i)for(var t=0,n=e;t<n.length;t+=1){var r=n[t];this.checkPatternExport(i,r.id)}};U.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};U.parseExportSpecifier=function(i){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(i,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};U.parseExportSpecifiers=function(i){var e=[],t=!0;for(this.expect(f.braceL);!this.eat(f.braceR);){if(t)t=!1;else if(this.expect(f.comma),this.afterTrailingComma(f.braceR))break;e.push(this.parseExportSpecifier(i))}return e};U.parseImport=function(i){return this.next(),this.type===f.string?(i.specifiers=bw,i.source=this.parseExprAtom()):(i.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),i.source=this.type===f.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ImportDeclaration")};U.parseImportSpecifier=function(){var i=this.startNode();return i.imported=this.parseModuleExportName(),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,Hi),this.finishNode(i,"ImportSpecifier")};U.parseImportDefaultSpecifier=function(){var i=this.startNode();return i.local=this.parseIdent(),this.checkLValSimple(i.local,Hi),this.finishNode(i,"ImportDefaultSpecifier")};U.parseImportNamespaceSpecifier=function(){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,Hi),this.finishNode(i,"ImportNamespaceSpecifier")};U.parseImportSpecifiers=function(){var i=[],e=!0;if(this.type===f.name&&(i.push(this.parseImportDefaultSpecifier()),!this.eat(f.comma)))return i;if(this.type===f.star)return i.push(this.parseImportNamespaceSpecifier()),i;for(this.expect(f.braceL);!this.eat(f.braceR);){if(e)e=!1;else if(this.expect(f.comma),this.afterTrailingComma(f.braceR))break;i.push(this.parseImportSpecifier())}return i};U.parseWithClause=function(){var i=[];if(!this.eat(f._with))return i;this.expect(f.braceL);for(var e={},t=!0;!this.eat(f.braceR);){if(t)t=!1;else if(this.expect(f.comma),this.afterTrailingComma(f.braceR))break;var n=this.parseImportAttribute(),r=n.key.type==="Identifier"?n.key.name:n.key.value;Br(e,r)&&this.raiseRecoverable(n.key.start,"Duplicate attribute key '"+r+"'"),e[r]=!0,i.push(n)}return i};U.parseImportAttribute=function(){var i=this.startNode();return i.key=this.type===f.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(f.colon),this.type!==f.string&&this.unexpected(),i.value=this.parseExprAtom(),this.finishNode(i,"ImportAttribute")};U.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===f.string){var i=this.parseLiteral(this.value);return yw.test(i.value)&&this.raise(i.start,"An export name cannot include a lone surrogate."),i}return this.parseIdent(!0)};U.adaptDirectivePrologue=function(i){for(var e=0;e<i.length&&this.isDirectiveCandidate(i[e]);++e)i[e].directive=i[e].expression.raw.slice(1,-1)};U.isDirectiveCandidate=function(i){return this.options.ecmaVersion>=5&&i.type==="ExpressionStatement"&&i.expression.type==="Literal"&&typeof i.expression.value=="string"&&(this.input[i.start]==='"'||this.input[i.start]==="'")};var Ut=Fe.prototype;Ut.toAssignable=function(i,e,t){if(this.options.ecmaVersion>=6&&i)switch(i.type){case"Identifier":this.inAsync&&i.name==="await"&&this.raise(i.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":i.type="ObjectPattern",t&&this.checkPatternErrors(t,!0);for(var n=0,r=i.properties;n<r.length;n+=1){var s=r[n];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":i.kind!=="init"&&this.raise(i.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(i.value,e);break;case"ArrayExpression":i.type="ArrayPattern",t&&this.checkPatternErrors(t,!0),this.toAssignableList(i.elements,e);break;case"SpreadElement":i.type="RestElement",this.toAssignable(i.argument,e),i.argument.type==="AssignmentPattern"&&this.raise(i.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":i.operator!=="="&&this.raise(i.left.end,"Only '=' operator can be used for specifying default value."),i.type="AssignmentPattern",delete i.operator,this.toAssignable(i.left,e);break;case"ParenthesizedExpression":this.toAssignable(i.expression,e,t);break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(i.start,"Assigning to rvalue")}else t&&this.checkPatternErrors(t,!0);return i};Ut.toAssignableList=function(i,e){for(var t=i.length,n=0;n<t;n++){var r=i[n];r&&this.toAssignable(r,e)}if(t){var s=i[t-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return i};Ut.parseSpread=function(i){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,i),this.finishNode(e,"SpreadElement")};Ut.parseRestBinding=function(){var i=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==f.name&&this.unexpected(),i.argument=this.parseBindingAtom(),this.finishNode(i,"RestElement")};Ut.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case f.bracketL:var i=this.startNode();return this.next(),i.elements=this.parseBindingList(f.bracketR,!0,!0),this.finishNode(i,"ArrayPattern");case f.braceL:return this.parseObj(!0)}return this.parseIdent()};Ut.parseBindingList=function(i,e,t,n){for(var r=[],s=!0;!this.eat(i);)if(s?s=!1:this.expect(f.comma),e&&this.type===f.comma)r.push(null);else{if(t&&this.afterTrailingComma(i))break;if(this.type===f.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),r.push(a),this.type===f.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(i);break}else r.push(this.parseAssignableListItem(n))}return r};Ut.parseAssignableListItem=function(i){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};Ut.parseBindingListItem=function(i){return i};Ut.parseMaybeDefault=function(i,e,t){if(t=t||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(f.eq))return t;var n=this.startNodeAt(i,e);return n.left=t,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")};Ut.checkLValSimple=function(i,e,t){e===void 0&&(e=Ua);var n=e!==Ua;switch(i.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(i.name)&&this.raiseRecoverable(i.start,(n?"Binding ":"Assigning to ")+i.name+" in strict mode"),n&&(e===Hi&&i.name==="let"&&this.raiseRecoverable(i.start,"let is disallowed as a lexically bound name"),t&&(Br(t,i.name)&&this.raiseRecoverable(i.start,"Argument name clash"),t[i.name]=!0),e!==sg&&this.declareName(i.name,e,i.start));break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(i.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(i.start,"Binding parenthesized expression"),this.checkLValSimple(i.expression,e,t);default:this.raise(i.start,(n?"Binding":"Assigning to")+" rvalue")}};Ut.checkLValPattern=function(i,e,t){switch(e===void 0&&(e=Ua),i.type){case"ObjectPattern":for(var n=0,r=i.properties;n<r.length;n+=1){var s=r[n];this.checkLValInnerPattern(s,e,t)}break;case"ArrayPattern":for(var a=0,o=i.elements;a<o.length;a+=1){var c=o[a];c&&this.checkLValInnerPattern(c,e,t)}break;default:this.checkLValSimple(i,e,t)}};Ut.checkLValInnerPattern=function(i,e,t){switch(e===void 0&&(e=Ua),i.type){case"Property":this.checkLValInnerPattern(i.value,e,t);break;case"AssignmentPattern":this.checkLValPattern(i.left,e,t);break;case"RestElement":this.checkLValPattern(i.argument,e,t);break;default:this.checkLValPattern(i,e,t)}};var $t=function(e,t,n,r,s){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!s},_e={b_stat:new $t("{",!1),b_expr:new $t("{",!0),b_tmpl:new $t("${",!1),p_stat:new $t("(",!1),p_expr:new $t("(",!0),q_tmpl:new $t("`",!0,!0,function(i){return i.tryReadTemplateToken()}),f_stat:new $t("function",!1),f_expr:new $t("function",!0),f_expr_gen:new $t("function",!0,!1,null,!0),f_gen:new $t("function",!1,!1,null,!0)},Ur=Fe.prototype;Ur.initialContext=function(){return[_e.b_stat]};Ur.curContext=function(){return this.context[this.context.length-1]};Ur.braceIsBlock=function(i){var e=this.curContext();return e===_e.f_expr||e===_e.f_stat?!0:i===f.colon&&(e===_e.b_stat||e===_e.b_expr)?!e.isExpr:i===f._return||i===f.name&&this.exprAllowed?Mt.test(this.input.slice(this.lastTokEnd,this.start)):i===f._else||i===f.semi||i===f.eof||i===f.parenR||i===f.arrow?!0:i===f.braceL?e===_e.b_stat:i===f._var||i===f._const||i===f.name?!1:!this.exprAllowed};Ur.inGeneratorContext=function(){for(var i=this.context.length-1;i>=1;i--){var e=this.context[i];if(e.token==="function")return e.generator}return!1};Ur.updateContext=function(i){var e,t=this.type;t.keyword&&i===f.dot?this.exprAllowed=!1:(e=t.updateContext)?e.call(this,i):this.exprAllowed=t.beforeExpr};Ur.overrideContext=function(i){this.curContext()!==i&&(this.context[this.context.length-1]=i)};f.parenR.updateContext=f.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var i=this.context.pop();i===_e.b_stat&&this.curContext().token==="function"&&(i=this.context.pop()),this.exprAllowed=!i.isExpr};f.braceL.updateContext=function(i){this.context.push(this.braceIsBlock(i)?_e.b_stat:_e.b_expr),this.exprAllowed=!0};f.dollarBraceL.updateContext=function(){this.context.push(_e.b_tmpl),this.exprAllowed=!0};f.parenL.updateContext=function(i){var e=i===f._if||i===f._for||i===f._with||i===f._while;this.context.push(e?_e.p_stat:_e.p_expr),this.exprAllowed=!0};f.incDec.updateContext=function(){};f._function.updateContext=f._class.updateContext=function(i){i.beforeExpr&&i!==f._else&&!(i===f.semi&&this.curContext()!==_e.p_stat)&&!(i===f._return&&Mt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((i===f.colon||i===f.braceL)&&this.curContext()===_e.b_stat)?this.context.push(_e.f_expr):this.context.push(_e.f_stat),this.exprAllowed=!1};f.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};f.backQuote.updateContext=function(){this.curContext()===_e.q_tmpl?this.context.pop():this.context.push(_e.q_tmpl),this.exprAllowed=!1};f.star.updateContext=function(i){if(i===f._function){var e=this.context.length-1;this.context[e]===_e.f_expr?this.context[e]=_e.f_expr_gen:this.context[e]=_e.f_gen}this.exprAllowed=!0};f.name.updateContext=function(i){var e=!1;this.options.ecmaVersion>=6&&i!==f.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var $=Fe.prototype;$.checkPropClash=function(i,e,t){if(!(this.options.ecmaVersion>=9&&i.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(i.computed||i.method||i.shorthand))){var n=i.key,r;switch(n.type){case"Identifier":r=n.name;break;case"Literal":r=String(n.value);break;default:return}var s=i.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&s==="init"&&(e.proto&&(t?t.doubleProto<0&&(t.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var a=e[r];if(a){var o;s==="init"?o=this.strict&&a.init||a.get||a.set:o=a.init||a[s],o&&this.raiseRecoverable(n.start,"Redefinition of property")}else a=e[r]={init:!1,get:!1,set:!1};a[s]=!0}};$.parseExpression=function(i,e){var t=this.start,n=this.startLoc,r=this.parseMaybeAssign(i,e);if(this.type===f.comma){var s=this.startNodeAt(t,n);for(s.expressions=[r];this.eat(f.comma);)s.expressions.push(this.parseMaybeAssign(i,e));return this.finishNode(s,"SequenceExpression")}return r};$.parseMaybeAssign=function(i,e,t){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(i);this.exprAllowed=!1}var n=!1,r=-1,s=-1,a=-1;e?(r=e.parenthesizedAssign,s=e.trailingComma,a=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new ec,n=!0);var o=this.start,c=this.startLoc;(this.type===f.parenL||this.type===f.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=i==="await");var u=this.parseMaybeConditional(i,e);if(t&&(u=t.call(this,u,o,c)),this.type.isAssign){var d=this.startNodeAt(o,c);return d.operator=this.value,this.type===f.eq&&(u=this.toAssignable(u,!1,e)),n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=u.start&&(e.shorthandAssign=-1),this.type===f.eq?this.checkLValPattern(u):this.checkLValSimple(u),d.left=u,this.next(),d.right=this.parseMaybeAssign(i),a>-1&&(e.doubleProto=a),this.finishNode(d,"AssignmentExpression")}else n&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),s>-1&&(e.trailingComma=s),u};$.parseMaybeConditional=function(i,e){var t=this.start,n=this.startLoc,r=this.parseExprOps(i,e);if(this.checkExpressionErrors(e))return r;if(this.eat(f.question)){var s=this.startNodeAt(t,n);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(f.colon),s.alternate=this.parseMaybeAssign(i),this.finishNode(s,"ConditionalExpression")}return r};$.parseExprOps=function(i,e){var t=this.start,n=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,i);return this.checkExpressionErrors(e)||r.start===t&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,t,n,-1,i)};$.parseExprOp=function(i,e,t,n,r){var s=this.type.binop;if(s!=null&&(!r||this.type!==f._in)&&s>n){var a=this.type===f.logicalOR||this.type===f.logicalAND,o=this.type===f.coalesce;o&&(s=f.logicalAND.binop);var c=this.value;this.next();var u=this.start,d=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),u,d,s,r),m=this.buildBinary(e,t,i,h,c,a||o);return(a&&this.type===f.coalesce||o&&(this.type===f.logicalOR||this.type===f.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(m,e,t,n,r)}return i};$.buildBinary=function(i,e,t,n,r,s){n.type==="PrivateIdentifier"&&this.raise(n.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(i,e);return a.left=t,a.operator=r,a.right=n,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")};$.parseMaybeUnary=function(i,e,t,n){var r=this.start,s=this.startLoc,a;if(this.isContextual("await")&&this.canAwait)a=this.parseAwait(n),e=!0;else if(this.type.prefix){var o=this.startNode(),c=this.type===f.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,c,n),this.checkExpressionErrors(i,!0),c?this.checkLValSimple(o.argument):this.strict&&o.operator==="delete"&&og(o.argument)?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):o.operator==="delete"&&Ol(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):e=!0,a=this.finishNode(o,c?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===f.privateId)(n||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),a=this.parsePrivateIdent(),this.type!==f._in&&this.unexpected();else{if(a=this.parseExprSubscripts(i,n),this.checkExpressionErrors(i))return a;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(r,s);u.operator=this.value,u.prefix=!1,u.argument=a,this.checkLValSimple(a),this.next(),a=this.finishNode(u,"UpdateExpression")}}if(!t&&this.eat(f.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,s,a,this.parseMaybeUnary(null,!1,!1,n),"**",!1);else return a};function og(i){return i.type==="Identifier"||i.type==="ParenthesizedExpression"&&og(i.expression)}function Ol(i){return i.type==="MemberExpression"&&i.property.type==="PrivateIdentifier"||i.type==="ChainExpression"&&Ol(i.expression)||i.type==="ParenthesizedExpression"&&Ol(i.expression)}$.parseExprSubscripts=function(i,e){var t=this.start,n=this.startLoc,r=this.parseExprAtom(i,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var s=this.parseSubscripts(r,t,n,!1,e);return i&&s.type==="MemberExpression"&&(i.parenthesizedAssign>=s.start&&(i.parenthesizedAssign=-1),i.parenthesizedBind>=s.start&&(i.parenthesizedBind=-1),i.trailingComma>=s.start&&(i.trailingComma=-1)),s};$.parseSubscripts=function(i,e,t,n,r){for(var s=this.options.ecmaVersion>=8&&i.type==="Identifier"&&i.name==="async"&&this.lastTokEnd===i.end&&!this.canInsertSemicolon()&&i.end-i.start===5&&this.potentialArrowAt===i.start,a=!1;;){var o=this.parseSubscript(i,e,t,n,s,a,r);if(o.optional&&(a=!0),o===i||o.type==="ArrowFunctionExpression"){if(a){var c=this.startNodeAt(e,t);c.expression=o,o=this.finishNode(c,"ChainExpression")}return o}i=o}};$.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(f.arrow)};$.parseSubscriptAsyncArrow=function(i,e,t,n){return this.parseArrowExpression(this.startNodeAt(i,e),t,!0,n)};$.parseSubscript=function(i,e,t,n,r,s,a){var o=this.options.ecmaVersion>=11,c=o&&this.eat(f.questionDot);n&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(f.bracketL);if(u||c&&this.type!==f.parenL&&this.type!==f.backQuote||this.eat(f.dot)){var d=this.startNodeAt(e,t);d.object=i,u?(d.property=this.parseExpression(),this.expect(f.bracketR)):this.type===f.privateId&&i.type!=="Super"?d.property=this.parsePrivateIdent():d.property=this.parseIdent(this.options.allowReserved!=="never"),d.computed=!!u,o&&(d.optional=c),i=this.finishNode(d,"MemberExpression")}else if(!n&&this.eat(f.parenL)){var h=new ec,m=this.yieldPos,p=this.awaitPos,g=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var v=this.parseExprList(f.parenR,this.options.ecmaVersion>=8,!1,h);if(r&&!c&&this.shouldParseAsyncArrow())return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=m,this.awaitPos=p,this.awaitIdentPos=g,this.parseSubscriptAsyncArrow(e,t,v,a);this.checkExpressionErrors(h,!0),this.yieldPos=m||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=g||this.awaitIdentPos;var y=this.startNodeAt(e,t);y.callee=i,y.arguments=v,o&&(y.optional=c),i=this.finishNode(y,"CallExpression")}else if(this.type===f.backQuote){(c||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var A=this.startNodeAt(e,t);A.tag=i,A.quasi=this.parseTemplate({isTagged:!0}),i=this.finishNode(A,"TaggedTemplateExpression")}return i};$.parseExprAtom=function(i,e,t){this.type===f.slash&&this.readRegexp();var n,r=this.potentialArrowAt===this.start;switch(this.type){case f._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type===f.parenL&&!this.allowDirectSuper&&this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==f.dot&&this.type!==f.bracketL&&this.type!==f.parenL&&this.unexpected(),this.finishNode(n,"Super");case f._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case f.name:var s=this.start,a=this.startLoc,o=this.containsEsc,c=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&c.name==="async"&&!this.canInsertSemicolon()&&this.eat(f._function))return this.overrideContext(_e.f_expr),this.parseFunction(this.startNodeAt(s,a),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(f.arrow))return this.parseArrowExpression(this.startNodeAt(s,a),[c],!1,e);if(this.options.ecmaVersion>=8&&c.name==="async"&&this.type===f.name&&!o&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return c=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(f.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,a),[c],!0,e)}return c;case f.regexp:var u=this.value;return n=this.parseLiteral(u.value),n.regex={pattern:u.pattern,flags:u.flags},n;case f.num:case f.string:return this.parseLiteral(this.value);case f._null:case f._true:case f._false:return n=this.startNode(),n.value=this.type===f._null?null:this.type===f._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case f.parenL:var d=this.start,h=this.parseParenAndDistinguishExpression(r,e);return i&&(i.parenthesizedAssign<0&&!this.isSimpleAssignTarget(h)&&(i.parenthesizedAssign=d),i.parenthesizedBind<0&&(i.parenthesizedBind=d)),h;case f.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(f.bracketR,!0,!0,i),this.finishNode(n,"ArrayExpression");case f.braceL:return this.overrideContext(_e.b_expr),this.parseObj(!1,i);case f._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case f._class:return this.parseClass(this.startNode(),!1);case f._new:return this.parseNew();case f.backQuote:return this.parseTemplate();case f._import:return this.options.ecmaVersion>=11?this.parseExprImport(t):this.unexpected();default:return this.parseExprAtomDefault()}};$.parseExprAtomDefault=function(){this.unexpected()};$.parseExprImport=function(i){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===f.parenL&&!i)return this.parseDynamicImport(e);if(this.type===f.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);return t.name="import",e.meta=this.finishNode(t,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};$.parseDynamicImport=function(i){if(this.next(),i.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(f.parenR)?i.options=null:(this.expect(f.comma),this.afterTrailingComma(f.parenR)?i.options=null:(i.options=this.parseMaybeAssign(),this.eat(f.parenR)||(this.expect(f.comma),this.afterTrailingComma(f.parenR)||this.unexpected())));else if(!this.eat(f.parenR)){var e=this.start;this.eat(f.comma)&&this.eat(f.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(i,"ImportExpression")};$.parseImportMeta=function(i){this.next();var e=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="meta"&&this.raiseRecoverable(i.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(i.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(i.start,"Cannot use 'import.meta' outside a module"),this.finishNode(i,"MetaProperty")};$.parseLiteral=function(i){var e=this.startNode();return e.value=i,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};$.parseParenExpression=function(){this.expect(f.parenL);var i=this.parseExpression();return this.expect(f.parenR),i};$.shouldParseArrow=function(i){return!this.canInsertSemicolon()};$.parseParenAndDistinguishExpression=function(i,e){var t=this.start,n=this.startLoc,r,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a=this.start,o=this.startLoc,c=[],u=!0,d=!1,h=new ec,m=this.yieldPos,p=this.awaitPos,g;for(this.yieldPos=0,this.awaitPos=0;this.type!==f.parenR;)if(u?u=!1:this.expect(f.comma),s&&this.afterTrailingComma(f.parenR,!0)){d=!0;break}else if(this.type===f.ellipsis){g=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===f.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else c.push(this.parseMaybeAssign(!1,h,this.parseParenItem));var v=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(f.parenR),i&&this.shouldParseArrow(c)&&this.eat(f.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=m,this.awaitPos=p,this.parseParenArrowList(t,n,c,e);(!c.length||d)&&this.unexpected(this.lastTokStart),g&&this.unexpected(g),this.checkExpressionErrors(h,!0),this.yieldPos=m||this.yieldPos,this.awaitPos=p||this.awaitPos,c.length>1?(r=this.startNodeAt(a,o),r.expressions=c,this.finishNodeAt(r,"SequenceExpression",v,y)):r=c[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var A=this.startNodeAt(t,n);return A.expression=r,this.finishNode(A,"ParenthesizedExpression")}else return r};$.parseParenItem=function(i){return i};$.parseParenArrowList=function(i,e,t,n){return this.parseArrowExpression(this.startNodeAt(i,e),t,!1,n)};var Sw=[];$.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var i=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===f.dot){var e=this.startNodeAt(i.start,i.loc&&i.loc.start);e.name="new",i.meta=this.finishNode(e,"Identifier"),this.next();var t=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="target"&&this.raiseRecoverable(i.property.start,"The only valid meta property for new is 'new.target'"),t&&this.raiseRecoverable(i.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(i.start,"'new.target' can only be used in functions and class static block"),this.finishNode(i,"MetaProperty")}var n=this.start,r=this.startLoc;return i.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,r,!0,!1),this.eat(f.parenL)?i.arguments=this.parseExprList(f.parenR,this.options.ecmaVersion>=8,!1):i.arguments=Sw,this.finishNode(i,"NewExpression")};$.parseTemplateElement=function(i){var e=i.isTagged,t=this.startNode();return this.type===f.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),t.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):t.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),t.tail=this.type===f.backQuote,this.finishNode(t,"TemplateElement")};$.parseTemplate=function(i){i===void 0&&(i={});var e=i.isTagged;e===void 0&&(e=!1);var t=this.startNode();this.next(),t.expressions=[];var n=this.parseTemplateElement({isTagged:e});for(t.quasis=[n];!n.tail;)this.type===f.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(f.dollarBraceL),t.expressions.push(this.parseExpression()),this.expect(f.braceR),t.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(t,"TemplateLiteral")};$.isAsyncProp=function(i){return!i.computed&&i.key.type==="Identifier"&&i.key.name==="async"&&(this.type===f.name||this.type===f.num||this.type===f.string||this.type===f.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===f.star)&&!Mt.test(this.input.slice(this.lastTokEnd,this.start))};$.parseObj=function(i,e){var t=this.startNode(),n=!0,r={};for(t.properties=[],this.next();!this.eat(f.braceR);){if(n)n=!1;else if(this.expect(f.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(f.braceR))break;var s=this.parseProperty(i,e);i||this.checkPropClash(s,r,e),t.properties.push(s)}return this.finishNode(t,i?"ObjectPattern":"ObjectExpression")};$.parseProperty=function(i,e){var t=this.startNode(),n,r,s,a;if(this.options.ecmaVersion>=9&&this.eat(f.ellipsis))return i?(t.argument=this.parseIdent(!1),this.type===f.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(t,"RestElement")):(t.argument=this.parseMaybeAssign(!1,e),this.type===f.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(t,"SpreadElement"));this.options.ecmaVersion>=6&&(t.method=!1,t.shorthand=!1,(i||e)&&(s=this.start,a=this.startLoc),i||(n=this.eat(f.star)));var o=this.containsEsc;return this.parsePropertyName(t),!i&&!o&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(t)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(f.star),this.parsePropertyName(t)):r=!1,this.parsePropertyValue(t,i,n,r,s,a,e,o),this.finishNode(t,"Property")};$.parseGetterSetter=function(i){i.kind=i.key.name,this.parsePropertyName(i),i.value=this.parseMethod(!1);var e=i.kind==="get"?0:1;if(i.value.params.length!==e){var t=i.value.start;i.kind==="get"?this.raiseRecoverable(t,"getter should have no params"):this.raiseRecoverable(t,"setter should have exactly one param")}else i.kind==="set"&&i.value.params[0].type==="RestElement"&&this.raiseRecoverable(i.value.params[0].start,"Setter cannot use rest params")};$.parsePropertyValue=function(i,e,t,n,r,s,a,o){(t||n)&&this.type===f.colon&&this.unexpected(),this.eat(f.colon)?(i.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),i.kind="init"):this.options.ecmaVersion>=6&&this.type===f.parenL?(e&&this.unexpected(),i.kind="init",i.method=!0,i.value=this.parseMethod(t,n)):!e&&!o&&this.options.ecmaVersion>=5&&!i.computed&&i.key.type==="Identifier"&&(i.key.name==="get"||i.key.name==="set")&&this.type!==f.comma&&this.type!==f.braceR&&this.type!==f.eq?((t||n)&&this.unexpected(),this.parseGetterSetter(i)):this.options.ecmaVersion>=6&&!i.computed&&i.key.type==="Identifier"?((t||n)&&this.unexpected(),this.checkUnreserved(i.key),i.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),i.kind="init",e?i.value=this.parseMaybeDefault(r,s,this.copyNode(i.key)):this.type===f.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),i.value=this.parseMaybeDefault(r,s,this.copyNode(i.key))):i.value=this.copyNode(i.key),i.shorthand=!0):this.unexpected()};$.parsePropertyName=function(i){if(this.options.ecmaVersion>=6){if(this.eat(f.bracketL))return i.computed=!0,i.key=this.parseMaybeAssign(),this.expect(f.bracketR),i.key;i.computed=!1}return i.key=this.type===f.num||this.type===f.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};$.initFunction=function(i){i.id=null,this.options.ecmaVersion>=6&&(i.generator=i.expression=!1),this.options.ecmaVersion>=8&&(i.async=!1)};$.parseMethod=function(i,e,t){var n=this.startNode(),r=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=i),this.options.ecmaVersion>=8&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Yd(e,n.generator)|qd|(t?ig:0)),this.expect(f.parenL),n.params=this.parseBindingList(f.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(n,"FunctionExpression")};$.parseArrowExpression=function(i,e,t,n){var r=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(Yd(t,!1)|eg),this.initFunction(i),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,i.params=this.toAssignableList(e,!0),this.parseFunctionBody(i,!0,!1,n),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(i,"ArrowFunctionExpression")};$.parseFunctionBody=function(i,e,t,n){var r=e&&this.type!==f.braceL,s=this.strict,a=!1;if(r)i.body=this.parseMaybeAssign(n),i.expression=!0,this.checkParams(i,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(i.params);(!s||o)&&(a=this.strictDirective(this.end),a&&o&&this.raiseRecoverable(i.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var c=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(i,!s&&!a&&!e&&!t&&this.isSimpleParamList(i.params)),this.strict&&i.id&&this.checkLValSimple(i.id,sg),i.body=this.parseBlock(!1,void 0,a&&!s),i.expression=!1,this.adaptDirectivePrologue(i.body.body),this.labels=c}this.exitScope()};$.isSimpleParamList=function(i){for(var e=0,t=i;e<t.length;e+=1){var n=t[e];if(n.type!=="Identifier")return!1}return!0};$.checkParams=function(i,e){for(var t=Object.create(null),n=0,r=i.params;n<r.length;n+=1){var s=r[n];this.checkLValInnerPattern(s,Kd,e?null:t)}};$.parseExprList=function(i,e,t,n){for(var r=[],s=!0;!this.eat(i);){if(s)s=!1;else if(this.expect(f.comma),e&&this.afterTrailingComma(i))break;var a=void 0;t&&this.type===f.comma?a=null:this.type===f.ellipsis?(a=this.parseSpread(n),n&&this.type===f.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):a=this.parseMaybeAssign(!1,n),r.push(a)}return r};$.checkUnreserved=function(i){var e=i.start,t=i.end,n=i.name;if(this.inGenerator&&n==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&n==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(n==="arguments"||n==="await")&&this.raise(e,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,t).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(n)&&(!this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))}};$.parseIdent=function(i){var e=this.parseIdentNode();return this.next(!!i),this.finishNode(e,"Identifier"),i||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};$.parseIdentNode=function(){var i=this.startNode();return this.type===f.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name==="class"||i.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=f.name):this.unexpected(),i};$.parsePrivateIdent=function(){var i=this.startNode();return this.type===f.privateId?i.name=this.value:this.unexpected(),this.next(),this.finishNode(i,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(i.start,"Private field '#"+i.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(i)),i};$.parseYield=function(i){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===f.semi||this.canInsertSemicolon()||this.type!==f.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(f.star),e.argument=this.parseMaybeAssign(i)),this.finishNode(e,"YieldExpression")};$.parseAwait=function(i){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,i),this.finishNode(e,"AwaitExpression")};var Ha=Fe.prototype;Ha.raise=function(i,e){var t=Zp(this.input,i);e+=" ("+t.line+":"+t.column+")";var n=new SyntaxError(e);throw n.pos=i,n.loc=t,n.raisedAt=this.pos,n};Ha.raiseRecoverable=Ha.raise;Ha.curPosition=function(){if(this.options.locations)return new xs(this.curLine,this.pos-this.lineStart)};var fn=Fe.prototype,Tw=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};fn.enterScope=function(i){this.scopeStack.push(new Tw(i))};fn.exitScope=function(){this.scopeStack.pop()};fn.treatFunctionsAsVarInScope=function(i){return i.flags&Mr||!this.inModule&&i.flags&Ss};fn.declareName=function(i,e,t){var n=!1;if(e===Hi){var r=this.currentScope();n=r.lexical.indexOf(i)>-1||r.functions.indexOf(i)>-1||r.var.indexOf(i)>-1,r.lexical.push(i),this.inModule&&r.flags&Ss&&delete this.undefinedExports[i]}else if(e===rg){var s=this.currentScope();s.lexical.push(i)}else if(e===ng){var a=this.currentScope();this.treatFunctionsAsVar?n=a.lexical.indexOf(i)>-1:n=a.lexical.indexOf(i)>-1||a.var.indexOf(i)>-1,a.functions.push(i)}else for(var o=this.scopeStack.length-1;o>=0;--o){var c=this.scopeStack[o];if(c.lexical.indexOf(i)>-1&&!(c.flags&tg&&c.lexical[0]===i)||!this.treatFunctionsAsVarInScope(c)&&c.functions.indexOf(i)>-1){n=!0;break}if(c.var.push(i),this.inModule&&c.flags&Ss&&delete this.undefinedExports[i],c.flags&Xd)break}n&&this.raiseRecoverable(t,"Identifier '"+i+"' has already been declared")};fn.checkLocalExport=function(i){this.scopeStack[0].lexical.indexOf(i.name)===-1&&this.scopeStack[0].var.indexOf(i.name)===-1&&(this.undefinedExports[i.name]=i)};fn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};fn.currentVarScope=function(){for(var i=this.scopeStack.length-1;;i--){var e=this.scopeStack[i];if(e.flags&Xd)return e}};fn.currentThisScope=function(){for(var i=this.scopeStack.length-1;;i--){var e=this.scopeStack[i];if(e.flags&Xd&&!(e.flags&eg))return e}};var tc=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new Jo(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},zs=Fe.prototype;zs.startNode=function(){return new tc(this,this.start,this.startLoc)};zs.startNodeAt=function(i,e){return new tc(this,i,e)};function cg(i,e,t,n){return i.type=e,i.end=t,this.options.locations&&(i.loc.end=n),this.options.ranges&&(i.range[1]=t),i}zs.finishNode=function(i,e){return cg.call(this,i,e,this.lastTokEnd,this.lastTokEndLoc)};zs.finishNodeAt=function(i,e,t,n){return cg.call(this,i,e,t,n)};zs.copyNode=function(i){var e=new tc(this,i.start,this.startLoc);for(var t in i)e[t]=i[t];return e};var Ew="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",lg="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ug=lg+" Extended_Pictographic",dg=ug,hg=dg+" EBase EComp EMod EPres ExtPict",fg=hg,Pw=fg,Vw={9:lg,10:ug,11:dg,12:hg,13:fg,14:Pw},Aw="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Iw={9:"",10:"",11:"",12:"",13:"",14:Aw},Qh="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",pg="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",gg=pg+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",mg=gg+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",yg=mg+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",vg=yg+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Nw=vg+" "+Ew,Lw={9:pg,10:gg,11:mg,12:yg,13:vg,14:Nw},wg={};function kw(i){var e=wg[i]={binary:nn(Vw[i]+" "+Qh),binaryOfStrings:nn(Iw[i]),nonBinary:{General_Category:nn(Qh),Script:nn(Lw[i])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(var Nc=0,Zh=[9,10,11,12,13,14];Nc<Zh.length;Nc+=1){var Rw=Zh[Nc];kw(Rw)}var B=Fe.prototype,ja=function(e,t){this.parent=e,this.base=t||this};ja.prototype.separatedFrom=function(e){for(var t=this;t;t=t.parent)for(var n=e;n;n=n.parent)if(t.base===n.base&&t!==n)return!0;return!1};ja.prototype.sibling=function(){return new ja(this.parent,this.base)};var vi=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=wg[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};vi.prototype.reset=function(e,t,n){var r=n.indexOf("v")!==-1,s=n.indexOf("u")!==-1;this.start=e|0,this.source=t+"",this.flags=n,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};vi.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)};vi.prototype.at=function(e,t){t===void 0&&(t=!1);var n=this.source,r=n.length;if(e>=r)return-1;var s=n.charCodeAt(e);if(!(t||this.switchU)||s<=55295||s>=57344||e+1>=r)return s;var a=n.charCodeAt(e+1);return a>=56320&&a<=57343?(s<<10)+a-56613888:s};vi.prototype.nextIndex=function(e,t){t===void 0&&(t=!1);var n=this.source,r=n.length;if(e>=r)return r;var s=n.charCodeAt(e),a;return!(t||this.switchU)||s<=55295||s>=57344||e+1>=r||(a=n.charCodeAt(e+1))<56320||a>57343?e+1:e+2};vi.prototype.current=function(e){return e===void 0&&(e=!1),this.at(this.pos,e)};vi.prototype.lookahead=function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)};vi.prototype.advance=function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)};vi.prototype.eat=function(e,t){return t===void 0&&(t=!1),this.current(t)===e?(this.advance(t),!0):!1};vi.prototype.eatChars=function(e,t){t===void 0&&(t=!1);for(var n=this.pos,r=0,s=e;r<s.length;r+=1){var a=s[r],o=this.at(n,t);if(o===-1||o!==a)return!1;n=this.nextIndex(n,t)}return this.pos=n,!0};B.validateRegExpFlags=function(i){for(var e=i.validFlags,t=i.flags,n=!1,r=!1,s=0;s<t.length;s++){var a=t.charAt(s);e.indexOf(a)===-1&&this.raise(i.start,"Invalid regular expression flag"),t.indexOf(a,s+1)>-1&&this.raise(i.start,"Duplicate regular expression flag"),a==="u"&&(n=!0),a==="v"&&(r=!0)}this.options.ecmaVersion>=15&&n&&r&&this.raise(i.start,"Invalid regular expression flag")};function Fw(i){for(var e in i)return!0;return!1}B.validateRegExpPattern=function(i){this.regexp_pattern(i),!i.switchN&&this.options.ecmaVersion>=9&&Fw(i.groupNames)&&(i.switchN=!0,this.regexp_pattern(i))};B.regexp_pattern=function(i){i.pos=0,i.lastIntValue=0,i.lastStringValue="",i.lastAssertionIsQuantifiable=!1,i.numCapturingParens=0,i.maxBackReference=0,i.groupNames=Object.create(null),i.backReferenceNames.length=0,i.branchID=null,this.regexp_disjunction(i),i.pos!==i.source.length&&(i.eat(41)&&i.raise("Unmatched ')'"),(i.eat(93)||i.eat(125))&&i.raise("Lone quantifier brackets")),i.maxBackReference>i.numCapturingParens&&i.raise("Invalid escape");for(var e=0,t=i.backReferenceNames;e<t.length;e+=1){var n=t[e];i.groupNames[n]||i.raise("Invalid named capture referenced")}};B.regexp_disjunction=function(i){var e=this.options.ecmaVersion>=16;for(e&&(i.branchID=new ja(i.branchID,null)),this.regexp_alternative(i);i.eat(124);)e&&(i.branchID=i.branchID.sibling()),this.regexp_alternative(i);e&&(i.branchID=i.branchID.parent),this.regexp_eatQuantifier(i,!0)&&i.raise("Nothing to repeat"),i.eat(123)&&i.raise("Lone quantifier brackets")};B.regexp_alternative=function(i){for(;i.pos<i.source.length&&this.regexp_eatTerm(i););};B.regexp_eatTerm=function(i){return this.regexp_eatAssertion(i)?(i.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(i)&&i.switchU&&i.raise("Invalid quantifier"),!0):(i.switchU?this.regexp_eatAtom(i):this.regexp_eatExtendedAtom(i))?(this.regexp_eatQuantifier(i),!0):!1};B.regexp_eatAssertion=function(i){var e=i.pos;if(i.lastAssertionIsQuantifiable=!1,i.eat(94)||i.eat(36))return!0;if(i.eat(92)){if(i.eat(66)||i.eat(98))return!0;i.pos=e}if(i.eat(40)&&i.eat(63)){var t=!1;if(this.options.ecmaVersion>=9&&(t=i.eat(60)),i.eat(61)||i.eat(33))return this.regexp_disjunction(i),i.eat(41)||i.raise("Unterminated group"),i.lastAssertionIsQuantifiable=!t,!0}return i.pos=e,!1};B.regexp_eatQuantifier=function(i,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(i,e)?(i.eat(63),!0):!1};B.regexp_eatQuantifierPrefix=function(i,e){return i.eat(42)||i.eat(43)||i.eat(63)||this.regexp_eatBracedQuantifier(i,e)};B.regexp_eatBracedQuantifier=function(i,e){var t=i.pos;if(i.eat(123)){var n=0,r=-1;if(this.regexp_eatDecimalDigits(i)&&(n=i.lastIntValue,i.eat(44)&&this.regexp_eatDecimalDigits(i)&&(r=i.lastIntValue),i.eat(125)))return r!==-1&&r<n&&!e&&i.raise("numbers out of order in {} quantifier"),!0;i.switchU&&!e&&i.raise("Incomplete quantifier"),i.pos=t}return!1};B.regexp_eatAtom=function(i){return this.regexp_eatPatternCharacters(i)||i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)};B.regexp_eatReverseSolidusAtomEscape=function(i){var e=i.pos;if(i.eat(92)){if(this.regexp_eatAtomEscape(i))return!0;i.pos=e}return!1};B.regexp_eatUncapturingGroup=function(i){var e=i.pos;if(i.eat(40)){if(i.eat(63)){if(this.options.ecmaVersion>=16){var t=this.regexp_eatModifiers(i),n=i.eat(45);if(t||n){for(var r=0;r<t.length;r++){var s=t.charAt(r);t.indexOf(s,r+1)>-1&&i.raise("Duplicate regular expression modifiers")}if(n){var a=this.regexp_eatModifiers(i);!t&&!a&&i.current()===58&&i.raise("Invalid regular expression modifiers");for(var o=0;o<a.length;o++){var c=a.charAt(o);(a.indexOf(c,o+1)>-1||t.indexOf(c)>-1)&&i.raise("Duplicate regular expression modifiers")}}}}if(i.eat(58)){if(this.regexp_disjunction(i),i.eat(41))return!0;i.raise("Unterminated group")}}i.pos=e}return!1};B.regexp_eatCapturingGroup=function(i){if(i.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(i):i.current()===63&&i.raise("Invalid group"),this.regexp_disjunction(i),i.eat(41))return i.numCapturingParens+=1,!0;i.raise("Unterminated group")}return!1};B.regexp_eatModifiers=function(i){for(var e="",t=0;(t=i.current())!==-1&&Ow(t);)e+=Fi(t),i.advance();return e};function Ow(i){return i===105||i===109||i===115}B.regexp_eatExtendedAtom=function(i){return i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)||this.regexp_eatInvalidBracedQuantifier(i)||this.regexp_eatExtendedPatternCharacter(i)};B.regexp_eatInvalidBracedQuantifier=function(i){return this.regexp_eatBracedQuantifier(i,!0)&&i.raise("Nothing to repeat"),!1};B.regexp_eatSyntaxCharacter=function(i){var e=i.current();return _g(e)?(i.lastIntValue=e,i.advance(),!0):!1};function _g(i){return i===36||i>=40&&i<=43||i===46||i===63||i>=91&&i<=94||i>=123&&i<=125}B.regexp_eatPatternCharacters=function(i){for(var e=i.pos,t=0;(t=i.current())!==-1&&!_g(t);)i.advance();return i.pos!==e};B.regexp_eatExtendedPatternCharacter=function(i){var e=i.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(i.advance(),!0):!1};B.regexp_groupSpecifier=function(i){if(i.eat(63)){this.regexp_eatGroupName(i)||i.raise("Invalid group");var e=this.options.ecmaVersion>=16,t=i.groupNames[i.lastStringValue];if(t)if(e)for(var n=0,r=t;n<r.length;n+=1){var s=r[n];s.separatedFrom(i.branchID)||i.raise("Duplicate capture group name")}else i.raise("Duplicate capture group name");e?(t||(i.groupNames[i.lastStringValue]=[])).push(i.branchID):i.groupNames[i.lastStringValue]=!0}};B.regexp_eatGroupName=function(i){if(i.lastStringValue="",i.eat(60)){if(this.regexp_eatRegExpIdentifierName(i)&&i.eat(62))return!0;i.raise("Invalid capture group name")}return!1};B.regexp_eatRegExpIdentifierName=function(i){if(i.lastStringValue="",this.regexp_eatRegExpIdentifierStart(i)){for(i.lastStringValue+=Fi(i.lastIntValue);this.regexp_eatRegExpIdentifierPart(i);)i.lastStringValue+=Fi(i.lastIntValue);return!0}return!1};B.regexp_eatRegExpIdentifierStart=function(i){var e=i.pos,t=this.options.ecmaVersion>=11,n=i.current(t);return i.advance(t),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,t)&&(n=i.lastIntValue),Dw(n)?(i.lastIntValue=n,!0):(i.pos=e,!1)};function Dw(i){return Ri(i,!0)||i===36||i===95}B.regexp_eatRegExpIdentifierPart=function(i){var e=i.pos,t=this.options.ecmaVersion>=11,n=i.current(t);return i.advance(t),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,t)&&(n=i.lastIntValue),Bw(n)?(i.lastIntValue=n,!0):(i.pos=e,!1)};function Bw(i){return _r(i,!0)||i===36||i===95||i===8204||i===8205}B.regexp_eatAtomEscape=function(i){return this.regexp_eatBackReference(i)||this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)||i.switchN&&this.regexp_eatKGroupName(i)?!0:(i.switchU&&(i.current()===99&&i.raise("Invalid unicode escape"),i.raise("Invalid escape")),!1)};B.regexp_eatBackReference=function(i){var e=i.pos;if(this.regexp_eatDecimalEscape(i)){var t=i.lastIntValue;if(i.switchU)return t>i.maxBackReference&&(i.maxBackReference=t),!0;if(t<=i.numCapturingParens)return!0;i.pos=e}return!1};B.regexp_eatKGroupName=function(i){if(i.eat(107)){if(this.regexp_eatGroupName(i))return i.backReferenceNames.push(i.lastStringValue),!0;i.raise("Invalid named reference")}return!1};B.regexp_eatCharacterEscape=function(i){return this.regexp_eatControlEscape(i)||this.regexp_eatCControlLetter(i)||this.regexp_eatZero(i)||this.regexp_eatHexEscapeSequence(i)||this.regexp_eatRegExpUnicodeEscapeSequence(i,!1)||!i.switchU&&this.regexp_eatLegacyOctalEscapeSequence(i)||this.regexp_eatIdentityEscape(i)};B.regexp_eatCControlLetter=function(i){var e=i.pos;if(i.eat(99)){if(this.regexp_eatControlLetter(i))return!0;i.pos=e}return!1};B.regexp_eatZero=function(i){return i.current()===48&&!ic(i.lookahead())?(i.lastIntValue=0,i.advance(),!0):!1};B.regexp_eatControlEscape=function(i){var e=i.current();return e===116?(i.lastIntValue=9,i.advance(),!0):e===110?(i.lastIntValue=10,i.advance(),!0):e===118?(i.lastIntValue=11,i.advance(),!0):e===102?(i.lastIntValue=12,i.advance(),!0):e===114?(i.lastIntValue=13,i.advance(),!0):!1};B.regexp_eatControlLetter=function(i){var e=i.current();return Cg(e)?(i.lastIntValue=e%32,i.advance(),!0):!1};function Cg(i){return i>=65&&i<=90||i>=97&&i<=122}B.regexp_eatRegExpUnicodeEscapeSequence=function(i,e){e===void 0&&(e=!1);var t=i.pos,n=e||i.switchU;if(i.eat(117)){if(this.regexp_eatFixedHexDigits(i,4)){var r=i.lastIntValue;if(n&&r>=55296&&r<=56319){var s=i.pos;if(i.eat(92)&&i.eat(117)&&this.regexp_eatFixedHexDigits(i,4)){var a=i.lastIntValue;if(a>=56320&&a<=57343)return i.lastIntValue=(r-55296)*1024+(a-56320)+65536,!0}i.pos=s,i.lastIntValue=r}return!0}if(n&&i.eat(123)&&this.regexp_eatHexDigits(i)&&i.eat(125)&&Mw(i.lastIntValue))return!0;n&&i.raise("Invalid unicode escape"),i.pos=t}return!1};function Mw(i){return i>=0&&i<=1114111}B.regexp_eatIdentityEscape=function(i){if(i.switchU)return this.regexp_eatSyntaxCharacter(i)?!0:i.eat(47)?(i.lastIntValue=47,!0):!1;var e=i.current();return e!==99&&(!i.switchN||e!==107)?(i.lastIntValue=e,i.advance(),!0):!1};B.regexp_eatDecimalEscape=function(i){i.lastIntValue=0;var e=i.current();if(e>=49&&e<=57){do i.lastIntValue=10*i.lastIntValue+(e-48),i.advance();while((e=i.current())>=48&&e<=57);return!0}return!1};var bg=0,Oi=1,Pt=2;B.regexp_eatCharacterClassEscape=function(i){var e=i.current();if(Uw(e))return i.lastIntValue=-1,i.advance(),Oi;var t=!1;if(i.switchU&&this.options.ecmaVersion>=9&&((t=e===80)||e===112)){i.lastIntValue=-1,i.advance();var n;if(i.eat(123)&&(n=this.regexp_eatUnicodePropertyValueExpression(i))&&i.eat(125))return t&&n===Pt&&i.raise("Invalid property name"),n;i.raise("Invalid property name")}return bg};function Uw(i){return i===100||i===68||i===115||i===83||i===119||i===87}B.regexp_eatUnicodePropertyValueExpression=function(i){var e=i.pos;if(this.regexp_eatUnicodePropertyName(i)&&i.eat(61)){var t=i.lastStringValue;if(this.regexp_eatUnicodePropertyValue(i)){var n=i.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(i,t,n),Oi}}if(i.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(i)){var r=i.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(i,r)}return bg};B.regexp_validateUnicodePropertyNameAndValue=function(i,e,t){Br(i.unicodeProperties.nonBinary,e)||i.raise("Invalid property name"),i.unicodeProperties.nonBinary[e].test(t)||i.raise("Invalid property value")};B.regexp_validateUnicodePropertyNameOrValue=function(i,e){if(i.unicodeProperties.binary.test(e))return Oi;if(i.switchV&&i.unicodeProperties.binaryOfStrings.test(e))return Pt;i.raise("Invalid property name")};B.regexp_eatUnicodePropertyName=function(i){var e=0;for(i.lastStringValue="";xg(e=i.current());)i.lastStringValue+=Fi(e),i.advance();return i.lastStringValue!==""};function xg(i){return Cg(i)||i===95}B.regexp_eatUnicodePropertyValue=function(i){var e=0;for(i.lastStringValue="";Ww(e=i.current());)i.lastStringValue+=Fi(e),i.advance();return i.lastStringValue!==""};function Ww(i){return xg(i)||ic(i)}B.regexp_eatLoneUnicodePropertyNameOrValue=function(i){return this.regexp_eatUnicodePropertyValue(i)};B.regexp_eatCharacterClass=function(i){if(i.eat(91)){var e=i.eat(94),t=this.regexp_classContents(i);return i.eat(93)||i.raise("Unterminated character class"),e&&t===Pt&&i.raise("Negated character class may contain strings"),!0}return!1};B.regexp_classContents=function(i){return i.current()===93?Oi:i.switchV?this.regexp_classSetExpression(i):(this.regexp_nonEmptyClassRanges(i),Oi)};B.regexp_nonEmptyClassRanges=function(i){for(;this.regexp_eatClassAtom(i);){var e=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassAtom(i)){var t=i.lastIntValue;i.switchU&&(e===-1||t===-1)&&i.raise("Invalid character class"),e!==-1&&t!==-1&&e>t&&i.raise("Range out of order in character class")}}};B.regexp_eatClassAtom=function(i){var e=i.pos;if(i.eat(92)){if(this.regexp_eatClassEscape(i))return!0;if(i.switchU){var t=i.current();(t===99||Eg(t))&&i.raise("Invalid class escape"),i.raise("Invalid escape")}i.pos=e}var n=i.current();return n!==93?(i.lastIntValue=n,i.advance(),!0):!1};B.regexp_eatClassEscape=function(i){var e=i.pos;if(i.eat(98))return i.lastIntValue=8,!0;if(i.switchU&&i.eat(45))return i.lastIntValue=45,!0;if(!i.switchU&&i.eat(99)){if(this.regexp_eatClassControlLetter(i))return!0;i.pos=e}return this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)};B.regexp_classSetExpression=function(i){var e=Oi,t;if(!this.regexp_eatClassSetRange(i))if(t=this.regexp_eatClassSetOperand(i)){t===Pt&&(e=Pt);for(var n=i.pos;i.eatChars([38,38]);){if(i.current()!==38&&(t=this.regexp_eatClassSetOperand(i))){t!==Pt&&(e=Oi);continue}i.raise("Invalid character in character class")}if(n!==i.pos)return e;for(;i.eatChars([45,45]);)this.regexp_eatClassSetOperand(i)||i.raise("Invalid character in character class");if(n!==i.pos)return e}else i.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(i)){if(t=this.regexp_eatClassSetOperand(i),!t)return e;t===Pt&&(e=Pt)}};B.regexp_eatClassSetRange=function(i){var e=i.pos;if(this.regexp_eatClassSetCharacter(i)){var t=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassSetCharacter(i)){var n=i.lastIntValue;return t!==-1&&n!==-1&&t>n&&i.raise("Range out of order in character class"),!0}i.pos=e}return!1};B.regexp_eatClassSetOperand=function(i){return this.regexp_eatClassSetCharacter(i)?Oi:this.regexp_eatClassStringDisjunction(i)||this.regexp_eatNestedClass(i)};B.regexp_eatNestedClass=function(i){var e=i.pos;if(i.eat(91)){var t=i.eat(94),n=this.regexp_classContents(i);if(i.eat(93))return t&&n===Pt&&i.raise("Negated character class may contain strings"),n;i.pos=e}if(i.eat(92)){var r=this.regexp_eatCharacterClassEscape(i);if(r)return r;i.pos=e}return null};B.regexp_eatClassStringDisjunction=function(i){var e=i.pos;if(i.eatChars([92,113])){if(i.eat(123)){var t=this.regexp_classStringDisjunctionContents(i);if(i.eat(125))return t}else i.raise("Invalid escape");i.pos=e}return null};B.regexp_classStringDisjunctionContents=function(i){for(var e=this.regexp_classString(i);i.eat(124);)this.regexp_classString(i)===Pt&&(e=Pt);return e};B.regexp_classString=function(i){for(var e=0;this.regexp_eatClassSetCharacter(i);)e++;return e===1?Oi:Pt};B.regexp_eatClassSetCharacter=function(i){var e=i.pos;if(i.eat(92))return this.regexp_eatCharacterEscape(i)||this.regexp_eatClassSetReservedPunctuator(i)?!0:i.eat(98)?(i.lastIntValue=8,!0):(i.pos=e,!1);var t=i.current();return t<0||t===i.lookahead()&&Hw(t)||jw(t)?!1:(i.advance(),i.lastIntValue=t,!0)};function Hw(i){return i===33||i>=35&&i<=38||i>=42&&i<=44||i===46||i>=58&&i<=64||i===94||i===96||i===126}function jw(i){return i===40||i===41||i===45||i===47||i>=91&&i<=93||i>=123&&i<=125}B.regexp_eatClassSetReservedPunctuator=function(i){var e=i.current();return $w(e)?(i.lastIntValue=e,i.advance(),!0):!1};function $w(i){return i===33||i===35||i===37||i===38||i===44||i===45||i>=58&&i<=62||i===64||i===96||i===126}B.regexp_eatClassControlLetter=function(i){var e=i.current();return ic(e)||e===95?(i.lastIntValue=e%32,i.advance(),!0):!1};B.regexp_eatHexEscapeSequence=function(i){var e=i.pos;if(i.eat(120)){if(this.regexp_eatFixedHexDigits(i,2))return!0;i.switchU&&i.raise("Invalid escape"),i.pos=e}return!1};B.regexp_eatDecimalDigits=function(i){var e=i.pos,t=0;for(i.lastIntValue=0;ic(t=i.current());)i.lastIntValue=10*i.lastIntValue+(t-48),i.advance();return i.pos!==e};function ic(i){return i>=48&&i<=57}B.regexp_eatHexDigits=function(i){var e=i.pos,t=0;for(i.lastIntValue=0;Sg(t=i.current());)i.lastIntValue=16*i.lastIntValue+Tg(t),i.advance();return i.pos!==e};function Sg(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102}function Tg(i){return i>=65&&i<=70?10+(i-65):i>=97&&i<=102?10+(i-97):i-48}B.regexp_eatLegacyOctalEscapeSequence=function(i){if(this.regexp_eatOctalDigit(i)){var e=i.lastIntValue;if(this.regexp_eatOctalDigit(i)){var t=i.lastIntValue;e<=3&&this.regexp_eatOctalDigit(i)?i.lastIntValue=e*64+t*8+i.lastIntValue:i.lastIntValue=e*8+t}else i.lastIntValue=e;return!0}return!1};B.regexp_eatOctalDigit=function(i){var e=i.current();return Eg(e)?(i.lastIntValue=e-48,i.advance(),!0):(i.lastIntValue=0,!1)};function Eg(i){return i>=48&&i<=55}B.regexp_eatFixedHexDigits=function(i,e){var t=i.pos;i.lastIntValue=0;for(var n=0;n<e;++n){var r=i.current();if(!Sg(r))return i.pos=t,!1;i.lastIntValue=16*i.lastIntValue+Tg(r),i.advance()}return!0};var Zd=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Jo(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Z=Fe.prototype;Z.next=function(i){!i&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Zd(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Z.getToken=function(){return this.next(),new Zd(this)};typeof Symbol<"u"&&(Z[Symbol.iterator]=function(){var i=this;return{next:function(){var e=i.getToken();return{done:e.type===f.eof,value:e}}}});Z.nextToken=function(){var i=this.curContext();if((!i||!i.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(f.eof);if(i.override)return i.override(this);this.readToken(this.fullCharCodeAtPos())};Z.readToken=function(i){return Ri(i,this.options.ecmaVersion>=6)||i===92?this.readWord():this.getTokenFromCode(i)};Z.fullCharCodeAtPos=function(){var i=this.input.charCodeAt(this.pos);if(i<=55295||i>=56320)return i;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?i:(i<<10)+e-56613888};Z.skipBlockComment=function(){var i=this.options.onComment&&this.curPosition(),e=this.pos,t=this.input.indexOf("*/",this.pos+=2);if(t===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=t+2,this.options.locations)for(var n=void 0,r=e;(n=Yp(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,t),e,this.pos,i,this.curPosition())};Z.skipLineComment=function(i){for(var e=this.pos,t=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=i);this.pos<this.input.length&&!Dr(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+i,this.pos),e,this.pos,t,this.curPosition())};Z.skipSpace=function(){e:for(;this.pos<this.input.length;){var i=this.input.charCodeAt(this.pos);switch(i){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(i>8&&i<14||i>=5760&&Kp.test(String.fromCharCode(i)))++this.pos;else break e}}};Z.finishToken=function(i,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var t=this.type;this.type=i,this.value=e,this.updateContext(t)};Z.readToken_dot=function(){var i=this.input.charCodeAt(this.pos+1);if(i>=48&&i<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&i===46&&e===46?(this.pos+=3,this.finishToken(f.ellipsis)):(++this.pos,this.finishToken(f.dot))};Z.readToken_slash=function(){var i=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):i===61?this.finishOp(f.assign,2):this.finishOp(f.slash,1)};Z.readToken_mult_modulo_exp=function(i){var e=this.input.charCodeAt(this.pos+1),t=1,n=i===42?f.star:f.modulo;return this.options.ecmaVersion>=7&&i===42&&e===42&&(++t,n=f.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(f.assign,t+1):this.finishOp(n,t)};Z.readToken_pipe_amp=function(i){var e=this.input.charCodeAt(this.pos+1);if(e===i){if(this.options.ecmaVersion>=12){var t=this.input.charCodeAt(this.pos+2);if(t===61)return this.finishOp(f.assign,3)}return this.finishOp(i===124?f.logicalOR:f.logicalAND,2)}return e===61?this.finishOp(f.assign,2):this.finishOp(i===124?f.bitwiseOR:f.bitwiseAND,1)};Z.readToken_caret=function(){var i=this.input.charCodeAt(this.pos+1);return i===61?this.finishOp(f.assign,2):this.finishOp(f.bitwiseXOR,1)};Z.readToken_plus_min=function(i){var e=this.input.charCodeAt(this.pos+1);return e===i?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Mt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(f.incDec,2):e===61?this.finishOp(f.assign,2):this.finishOp(f.plusMin,1)};Z.readToken_lt_gt=function(i){var e=this.input.charCodeAt(this.pos+1),t=1;return e===i?(t=i===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+t)===61?this.finishOp(f.assign,t+1):this.finishOp(f.bitShift,t)):e===33&&i===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(t=2),this.finishOp(f.relational,t))};Z.readToken_eq_excl=function(i){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(f.equality,this.input.charCodeAt(this.pos+2)===61?3:2):i===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(f.arrow)):this.finishOp(i===61?f.eq:f.prefix,1)};Z.readToken_question=function(){var i=this.options.ecmaVersion;if(i>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var t=this.input.charCodeAt(this.pos+2);if(t<48||t>57)return this.finishOp(f.questionDot,2)}if(e===63){if(i>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(f.assign,3)}return this.finishOp(f.coalesce,2)}}return this.finishOp(f.question,1)};Z.readToken_numberSign=function(){var i=this.options.ecmaVersion,e=35;if(i>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Ri(e,!0)||e===92))return this.finishToken(f.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Fi(e)+"'")};Z.getTokenFromCode=function(i){switch(i){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(f.parenL);case 41:return++this.pos,this.finishToken(f.parenR);case 59:return++this.pos,this.finishToken(f.semi);case 44:return++this.pos,this.finishToken(f.comma);case 91:return++this.pos,this.finishToken(f.bracketL);case 93:return++this.pos,this.finishToken(f.bracketR);case 123:return++this.pos,this.finishToken(f.braceL);case 125:return++this.pos,this.finishToken(f.braceR);case 58:return++this.pos,this.finishToken(f.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(f.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(i);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(i);case 124:case 38:return this.readToken_pipe_amp(i);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(i);case 60:case 62:return this.readToken_lt_gt(i);case 61:case 33:return this.readToken_eq_excl(i);case 63:return this.readToken_question();case 126:return this.finishOp(f.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Fi(i)+"'")};Z.finishOp=function(i,e){var t=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(i,t)};Z.readRegexp=function(){for(var i,e,t=this.pos;;){this.pos>=this.input.length&&this.raise(t,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(Mt.test(n)&&this.raise(t,"Unterminated regular expression"),i)i=!1;else{if(n==="[")e=!0;else if(n==="]"&&e)e=!1;else if(n==="/"&&!e)break;i=n==="\\"}++this.pos}var r=this.input.slice(t,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new vi(this));o.reset(t,r,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var c=null;try{c=new RegExp(r,a)}catch{}return this.finishToken(f.regexp,{pattern:r,flags:a,value:c})};Z.readInt=function(i,e,t){for(var n=this.options.ecmaVersion>=12&&e===void 0,r=t&&this.input.charCodeAt(this.pos)===48,s=this.pos,a=0,o=0,c=0,u=e??1/0;c<u;++c,++this.pos){var d=this.input.charCodeAt(this.pos),h=void 0;if(n&&d===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),o===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),c===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=d;continue}if(d>=97?h=d-97+10:d>=65?h=d-65+10:d>=48&&d<=57?h=d-48:h=1/0,h>=i)break;o=d,a=a*i+h}return n&&o===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:a};function Gw(i,e){return e?parseInt(i,8):parseFloat(i.replace(/_/g,""))}function Pg(i){return typeof BigInt!="function"?null:BigInt(i.replace(/_/g,""))}Z.readRadixNumber=function(i){var e=this.pos;this.pos+=2;var t=this.readInt(i);return t==null&&this.raise(this.start+2,"Expected number in radix "+i),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(t=Pg(this.input.slice(e,this.pos)),++this.pos):Ri(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(f.num,t)};Z.readNumber=function(i){var e=this.pos;!i&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var t=this.pos-e>=2&&this.input.charCodeAt(e)===48;t&&this.strict&&this.raise(e,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!t&&!i&&this.options.ecmaVersion>=11&&n===110){var r=Pg(this.input.slice(e,this.pos));return++this.pos,Ri(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(f.num,r)}t&&/[89]/.test(this.input.slice(e,this.pos))&&(t=!1),n===46&&!t&&(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),(n===69||n===101)&&!t&&(n=this.input.charCodeAt(++this.pos),(n===43||n===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Ri(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=Gw(this.input.slice(e,this.pos),t);return this.finishToken(f.num,s)};Z.readCodePoint=function(){var i=this.input.charCodeAt(this.pos),e;if(i===123){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e};Z.readString=function(i){for(var e="",t=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===i)break;n===92?(e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!1),t=this.pos):n===8232||n===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Dr(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(t,this.pos++),this.finishToken(f.string,e)};var Vg={};Z.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(i){if(i===Vg)this.readInvalidTemplateToken();else throw i}this.inTemplateElement=!1};Z.invalidStringToken=function(i,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Vg;this.raise(i,e)};Z.readTmplToken=function(){for(var i="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var t=this.input.charCodeAt(this.pos);if(t===96||t===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===f.template||this.type===f.invalidTemplate)?t===36?(this.pos+=2,this.finishToken(f.dollarBraceL)):(++this.pos,this.finishToken(f.backQuote)):(i+=this.input.slice(e,this.pos),this.finishToken(f.template,i));if(t===92)i+=this.input.slice(e,this.pos),i+=this.readEscapedChar(!0),e=this.pos;else if(Dr(t)){switch(i+=this.input.slice(e,this.pos),++this.pos,t){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:i+=`
`;break;default:i+=String.fromCharCode(t);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};Z.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(f.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};Z.readEscapedChar=function(i){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Fi(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),i){var t=this.pos-1;this.invalidStringToken(t,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return r>255&&(n=n.slice(0,-1),r=parseInt(n,8)),this.pos+=n.length-1,e=this.input.charCodeAt(this.pos),(n!=="0"||e===56||e===57)&&(this.strict||i)&&this.invalidStringToken(this.pos-1-n.length,i?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return Dr(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};Z.readHexChar=function(i){var e=this.pos,t=this.readInt(16,i);return t===null&&this.invalidStringToken(e,"Bad character escape sequence"),t};Z.readWord1=function(){this.containsEsc=!1;for(var i="",e=!0,t=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(_r(r,n))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,i+=this.input.slice(t,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(e?Ri:_r)(a,n)||this.invalidStringToken(s,"Invalid Unicode escape"),i+=Fi(a),t=this.pos}else break;e=!1}return i+this.input.slice(t,this.pos)};Z.readWord=function(){var i=this.readWord1(),e=f.name;return this.keywords.test(i)&&(e=Gd[i]),this.finishToken(e,i)};var zw="8.14.0";Fe.acorn={Parser:Fe,version:zw,defaultOptions:Rl,Position:xs,SourceLocation:Jo,getLineInfo:Zp,Node:tc,TokenType:te,tokTypes:f,keywordTypes:Gd,TokContext:$t,tokContexts:_e,isIdentifierChar:_r,isIdentifierStart:Ri,Token:Zd,isNewLine:Dr,lineBreak:Mt,lineBreakG:pw,nonASCIIwhitespace:Kp};function qw(i,e){return Fe.parse(i,e)}const Jh={},ef=Symbol("forcedChain"),tf={"+":i=>+i,"-":i=>-i,"!":i=>!i,void:i=>{},typeof:i=>typeof i},nf={"+":(i,e)=>i+e,"-":(i,e)=>i-e,"*":(i,e)=>i*e,"**":(i,e)=>i**e,"/":(i,e)=>i/e,"%":(i,e)=>i%e,"<":(i,e)=>i<e,">":(i,e)=>i>e,"<=":(i,e)=>i<=e,">=":(i,e)=>i>=e,"==":(i,e)=>i==e,"!=":(i,e)=>i!=e,"===":(i,e)=>i===e,"!==":(i,e)=>i!==e,"|":(i,e)=>i|e,in:(i,e)=>i in e,instanceof:(i,e)=>i instanceof e},rf={"&&":(i,e)=>i&&e(),"||":(i,e)=>i||e(),"??":(i,e)=>i??e()},sf={ArrayExpression:(i,e,t,n)=>{const r=[];for(const s of i.elements){const a=Se(s,e,t,n);s.type=="SpreadElement"?r.push(...a):r.push(a)}return r},BinaryExpression:(i,e,t,n)=>{if(nf[i.operator]==null)throw new Error("Disallowed binary operator: "+i.operator);const r=Se(i.left,e,t,n);let s=i.right;if(i.operator=="|")switch(s.type=="ChainExpression"&&(s=s.expression),s.type=="CallExpression"&&(!s.arguments.includes(i.left)&&s.arguments.unshift(i.left),i.right.nsIsCallable=!0,s=s.callee),s.type){case"Identifier":case"MemberExpression":case"NewExpression":s.nsRequiresConverter=!0,s.nsIsPendingCall=!0;break;default:throw new Error("Invalid converter syntax")}const a=Se(i.right,e,t,n);if(i.operator=="|"){if(s.nsRequiresConverter){if(i.right.nsIsCallable)return a;if(cr(a))return a(r);if(Ai(a))throw new Error("Cannot perform a call using a null or undefined property")}throw new Error("Invalid converter syntax")}return nf[i.operator](r,a)},CallExpression:(i,e,t,n)=>{i.callee.nsIsPendingCall=!0;const r=Se(i.callee,e,t,n);if(!i.optional&&Ai(r))throw new Error("Cannot perform a call using a null or undefined property");const s=[];for(const a of i.arguments){const o=Se(a,e,t,n);a.type=="SpreadElement"?s.push(...o):s.push(o)}return i.optional?r==null?void 0:r(...s):r(...s)},ChainExpression:(i,e,t,n)=>Se(i.expression,e,t,n),ConditionalExpression:(i,e,t,n)=>{const r=Se(i.test,e,t,n);return Se(i[r?"consequent":"alternate"],e,t,n)},Identifier:(i,e,t,n)=>{const r=Xw(i.name,e,n);let s=r[i.name];return i.nsRequiresConverter&&(s=Lc(s,t)),i.nsIsPendingCall&&typeof s=="function"?s.bind(r):s},Literal:(i,e,t,n)=>i.regex!=null?new RegExp(i.regex.pattern,i.regex.flags):i.value,LogicalExpression:(i,e,t,n)=>{if(rf[i.operator]==null)throw new Error("Disallowed logical operator: "+i.operator);const r=Se(i.left,e,t,n);return rf[i.operator](r,()=>Se(i.right,e,t,n))},MemberExpression:(i,e,t,n)=>{var o;i.object.type=="MemberExpression"&&(i.object.nsIsChained=!0);const r=Se(i.object,e,t,n),s=i.computed?Se(i.property,e,t,n):(o=i.property)==null?void 0:o.name;if(r==null&&i.object.type=="Identifier")return i.nsIsChained?ef:void 0;if(r==ef)return i.nsIsChained?r:void 0;let a=i.optional&&r==null?void 0:r[s];return i.nsRequiresConverter&&(a=Lc(a,t)),i.nsIsPendingCall&&typeof a=="function"?a.bind(r):a},NewExpression:(i,e,t,n)=>{const r=Se(i.callee,e,t,n),s=[];for(const o of i.arguments){const c=Se(o,e,t,n);o.type=="SpreadElement"?s.push(...c):s.push(c)}let a=new r(...s);return i.nsRequiresConverter&&(a=Lc(a,t)),a},ObjectExpression:(i,e,t,n)=>{const r={};for(const s of i.properties){const a=Se(s,e,t,n);Object.assign(r,a)}return r},Property:(i,e,t,n)=>{var a;const r=i.computed?Se(i.key,e,t,n):(a=i.key)==null?void 0:a.name,s=Se(i.value,e,t,n);return{[r]:s}},SpreadElement:(i,e,t,n)=>Se(i.argument,e,t,n),TemplateElement:(i,e,t,n)=>i.value.cooked,TemplateLiteral:(i,e,t,n)=>{let r="";const s=i.quasis.length;for(let a=0;a<s;a++){const o=i.quasis[a];r+=Se(o,e,t,n),o.tail||(r+=Se(i.expressions[a],e,t,n))}return r},UnaryExpression:(i,e,t,n)=>{if(tf[i.operator]==null)throw Error("Disallowed unary operator: "+i.operator);const r=Se(i.argument,e,t,n);return tf[i.operator](r)}};function Xw(i,e,t){let n=i in t?t:e;return i in n||(n=global),n}function Lc(i,e){let t=null;return Ai(i)?t=i:cr(i)?t=e?Function.prototype:i:$s(i)&&(cr(i.toModel)||cr(i.toView))?t=(e?i.toModel:i.toView)||Function.prototype:t=i,t}function Yw(i){let e=Jh[i];if(e==null){const n=qw(i,{ecmaVersion:2020}).body;for(const r of n)if(r.type=="ExpressionStatement"){e=r.expression;break}Jh[i]=e}return e}function Se(i,e,t,n){if(!(i.type in sf))throw Error("Invalid expression syntax");return sf[i.type](i,e,t,n)}let Ag={};function Ig(){return Ag}function Kw(i){Ag=i}const Qw=/\[\s*(['"])*(\w*)\1\s*\]/,Pe=ke,Zw=[],af={};function of(i){if(!i)return Zw;let e=af[i];if(e)return e;const t=i.match(Ll);e=i.replace(Ll,"parentsMatch").replace(/\]/g,"").split(/\.|\[/);let n=0;for(let r=0,s=e.length;r<s;r++)e[r]==="parentsMatch"&&(e[r]=t[n++]);return af[i]=e,e}function Dl(i){return i.indexOf("on")===0?i.slice(2):i}function Jw(i){const e=i.trim().toLowerCase();return e==="tap"||e==="doubletap"||e==="pinch"||e==="pan"||e==="swipe"||e==="rotation"||e==="longpress"||e==="touch"}function Ng(i,e){if(typeof i=="string"){const t=Dl(i),n=`${t}Event`;return e.constructor&&n in e.constructor||Jw(t)}return!1}class Lg{constructor(e,t){if(this.propertyChangeListeners=new Map,this.target=new WeakRef(e),this.options=t,this.sourceProperties=of(t.sourceProperty),this.targetOptions=this.resolveOptions(e,of(t.targetProperty)),!this.targetOptions)throw new Error(`Invalid property: ${t.targetProperty} for target: ${e}`);if(t.twoWay){const n=this.targetOptions.instance.get();n instanceof se&&n.on(`${this.targetOptions.property}Change`,this.onTargetPropertyChanged,this)}}onTargetPropertyChanged(e){this.updateTwoWay(e.value)}loadedHandlerVisualTreeBinding(e){const t=e.object;t.off("loaded",this.loadedHandlerVisualTreeBinding,this);const n=t.bindingContext;n!=null&&this.update(n)}clearSource(){this.propertyChangeListeners.forEach((e,t,n)=>{bs(e,se.propertyChangeEvent,this.onSourcePropertyChanged,this)}),this.propertyChangeListeners.clear(),this.sourceOptions&&(this.sourceOptions.instance=void 0,this.sourceOptions=void 0)}sourceAsObject(e){const t=typeof e;return t==="number"?e=new Number(e):t==="boolean"?e=new Boolean(e):t==="string"&&(e=new String(e)),e}bindingContextChanged(e){if(!this.targetOptions.instance.get()){this.unbind();return}const n=e.value;n!=null?this.update(n):this.clearBinding()}bind(e){const t=this.targetOptions.instance.get();this.sourceIsBindingContext&&t instanceof se&&this.targetOptions.property!=="bindingContext"&&t.on("bindingContextChange",this.bindingContextChanged,this),this.update(e)}update(e){if(this.clearSource(),e=this.sourceAsObject(e),Ai(e)){if(!this.sourceIsBindingContext){const t=this.getSourcePropertyValue();this.updateTarget(t||e)}}else{this.source=new WeakRef(e),this.sourceOptions=this.resolveOptions(e,this.sourceProperties);const t=this.getSourcePropertyValue();this.updateTarget(t),this.addPropertyChangeListeners(this.source,this.sourceProperties)}}unbind(){const e=this.targetOptions.instance.get();e instanceof se&&(this.options.twoWay&&e.off(`${this.targetOptions.property}Change`,this.onTargetPropertyChanged,this),this.sourceIsBindingContext&&this.targetOptions.property!=="bindingContext"&&e.off("bindingContextChange",this.bindingContextChanged,this)),this.targetOptions&&(this.targetOptions=void 0),this.sourceProperties=void 0,this.source&&this.clearSource()}resolveObjectsAndProperties(e,t){const n=[];let r=e,s=!1;for(let a=0,o=t.length;a<o;a++){const c=t[a];if(c===Pe.bindingValueKey&&(s=!0),c===Pe.parentValueKey||c.indexOf(Pe.parentsValueKey)===0){const u=this.getParentView(this.target.get(),c).view;if(u)r=u.bindingContext;else{const d=this.target.get();d.off("loaded",this.loadedHandlerVisualTreeBinding,this),d.on("loaded",this.loadedHandlerVisualTreeBinding,this)}s=!0}if(r)n.push({instance:r,property:c});else break;!s&&a<o-1&&(r=r?r[t[a]]:null),s=!1}return n}addPropertyChangeListeners(e,t,n){const r=this.resolveObjectsAndProperties(e.get(),t);let s=n||"";for(let a=0,o=r.length;a<o;a++){const c=r[a].property;s+="$"+c;const u=r[a].instance;!this.propertyChangeListeners.has(s)&&u instanceof se&&u._isViewBase?(ur(u,`${c}Change`,this.onSourcePropertyChanged,this),ur(u,se.propertyChangeEvent,this.onSourcePropertyChanged,this),this.propertyChangeListeners.set(s,u)):!this.propertyChangeListeners.has(s)&&u instanceof se&&(ur(u,se.propertyChangeEvent,this.onSourcePropertyChanged,this),this.propertyChangeListeners.set(s,u))}}prepareExpressionForUpdate(){const e=Tv(this.options.sourceProperty),t=new RegExp(e,"g");return this.options.expression.replace(t,Pe.newPropertyValueKey)}updateTwoWay(e){if(this.updating||!this.options.twoWay)return;let t=e;if(this.options.expression){const n={},r=this.target.get();let s="";this.sourceOptions?s=this.sourceOptions.property:typeof this.options.sourceProperty=="string"&&this.options.sourceProperty.indexOf(".")===-1&&(s=this.options.sourceProperty);const a=this.prepareExpressionForUpdate();this.prepareContextForExpression(r,n,a),n[Pe.bindingValueKey]=e,n[Pe.newPropertyValueKey]=e,s!==""&&(n[s]=e);const o=this._getExpressionValue(a,!0,n);o instanceof Error&&l.write(o.message,l.categories.Binding,l.messageType.error),t=o}this.updateSource(t)}_getExpressionValue(e,t,n){let r=null;{let s;const a=this.target.get(),o=[];try{let c;try{c=Yw(e)}catch(u){r=new Error(u+" at "+a)}if(c){s=this.source&&this.source.get&&this.source.get()||global;const u=Ig();for(const d in u)u.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=u[d],o.push(d));this.prepareContextForExpression(a,s,e,o)?r=Se(c,s,t,n||s):(a.off("loaded",this.loadedHandlerVisualTreeBinding,this),a.on("loaded",this.loadedHandlerVisualTreeBinding,this))}}catch(c){r=new Error(c+" at "+a)}for(const c of o)delete s[c];o.length=0}return r}onSourcePropertyChanged(e){const t=this.sourceProperties,n=t.length;let r=t.indexOf(e.propertyName),s="";if(r>-1)for(s="$"+t.slice(0,r+1).join("$");this.propertyChangeListeners.get(s)!==e.object;)r+=t.slice(r+1).indexOf(e.propertyName)+1,s="$"+t.slice(0,r+1).join("$");if(this.options.expression){const a=this._getExpressionValue(this.options.expression,!1,void 0);a instanceof Error?l.write(a.message,l.categories.Binding,l.messageType.error):this.updateTarget(a)}else if(r>-1){const a=t.slice(r+1),o=a.length;if(o>0){let c=e.value;for(let u=0;u<o;u++)c=c[a[u]];this.updateTarget(c)}else e.propertyName===this.sourceOptions.property&&this.updateTarget(e.value)}if(r>-1&&r<n-1){const a=this.propertyChangeListeners.get(s);if(a&&a!==e.object[t[r]]){for(let u=n-1;u>r;u--){const d="$"+t.slice(0,u+1).join("$");this.propertyChangeListeners.has(d)&&(bs(this.propertyChangeListeners.get(d),se.propertyChangeEvent,this.onSourcePropertyChanged,this),this.propertyChangeListeners.delete(d))}const o=t.slice(r+1),c=e.object[t[r]];!Ai(c)&&typeof c=="object"&&this.addPropertyChangeListeners(new WeakRef(c),o,s)}}}prepareContextForExpression(e,t,n,r=[]){let s=!0,a,o,c=n;c.indexOf(Pe.bindingValueKey)>-1&&(t[Pe.bindingValueKey]=t,r.push(Pe.bindingValueKey));const u=c.match(Ll);if(u)for(let d=0;d<u.length;d++)c=c.replace(u[d],""),a=this.getParentView(e,u[d]),a.view?(t[Pe.parentsValueKey]=t[Pe.parentsValueKey]||{},t[Pe.parentsValueKey][a.index]=a.view.bindingContext,r.push(Pe.parentsValueKey)):s=!1;return c.indexOf(Pe.parentValueKey)>-1&&(o=this.getParentView(e,Pe.parentValueKey).view,o?(t[Pe.parentValueKey]=o.bindingContext,r.push(Pe.parentValueKey)):s=!1),s}getSourcePropertyValue(){if(this.options.expression){const e={};e[Pe.bindingValueKey]=this.source?this.source.get():void 0;const t=this._getExpressionValue(this.options.expression,!1,e);if(t instanceof Error)l.write(t.message,l.categories.Binding,l.messageType.error);else return t}if(this.sourceOptions){const e=this.sourceOptions.instance.get();if(this.sourceOptions.property===Pe.bindingValueKey)return e;if(e instanceof se&&this.sourceOptions.property&&this.sourceOptions.property!=="")return e.get(this.sourceOptions.property);if(e&&this.sourceOptions.property&&this.sourceOptions.property!==""&&this.sourceOptions.property in e)return e[this.sourceOptions.property];l.write("Property: '"+this.sourceOptions.property+"' is invalid or does not exist. SourceProperty: '"+this.options.sourceProperty+"'",l.categories.Binding,l.messageType.error)}return null}clearBinding(){this.clearSource(),this.updateTarget(D)}updateTarget(e){this.updating||this.updateOptions(this.targetOptions,Ai(e)?D:e)}updateSource(e){this.updating||!this.source||!this.source.get()||this.updateOptions(this.sourceOptions,e)}getParentView(e,t){if(!e)return{view:null,index:null};let n;t===Pe.parentValueKey&&(n=e.parent);let r=null;if(t.indexOf(Pe.parentsValueKey)===0){n=e.parent;const s=Qw.exec(t);if(s&&s.length>1&&(r=s[2]),isNaN(r)){if(Be(r))for(;n&&n.typeName!==r;)n=n.parent}else{let a=parseInt(r);for(;a>0;)n=n.parent,a--}}return{view:n,index:r}}resolveOptions(e,t){const n=this.resolveObjectsAndProperties(e,t);if(n.length>0){const r=n[n.length-1].instance,s=n[n.length-1].property;return{instance:new WeakRef(this.sourceAsObject(r)),property:s}}return null}updateOptions(e,t){let n;if(e&&e.instance&&(n=e.instance.get()),!!n){this.updating=!0;try{Ng(e.property,n)&&cr(t)?(n.off(e.property),n.on(e.property,t,n.bindingContext)):n instanceof se?n.set(e.property,t):n[e.property]=t}catch(r){l.write("Binding error while setting property "+e.property+" of "+n+": "+r,l.categories.Binding,l.messageType.error)}this.updating=!1}}}const ps="minWH",kc="minW",Rc="minH",nc=1e4,e_={isMatch:function(i){return new RegExp(`.${ps}\\d+`).test(i)},getMatchOccurences:function(i){return i.match(new RegExp(`.${ps}\\d+`,"g"))},getMatchValue(i,e){const t=parseInt(i.substr(ps.length+1));if(isNaN(t))return-1;const n=Math.min(e.width,e.height);return n<t?-1:nc-(n-t)}},t_={isMatch:function(i){return new RegExp(`.${kc}\\d+`).test(i)&&!new RegExp(`.${ps}\\d+`).test(i)},getMatchOccurences:function(i){return i.match(new RegExp(`.${kc}\\d+`,"g"))},getMatchValue(i,e){const t=parseInt(i.substr(kc.length+1));if(isNaN(t))return-1;const n=e.width;return n<t?-1:nc-(n-t)}},i_={isMatch:function(i){return new RegExp(`.${Rc}\\d+`).test(i)&&!new RegExp(`.${ps}\\d+`).test(i)},getMatchOccurences:function(i){return i.match(new RegExp(`.${Rc}\\d+`,"g"))},getMatchValue(i,e){const t=parseInt(i.substr(Rc.length+1));if(isNaN(t))return-1;const n=e.height;return n<t?-1:nc-(n-t)}},n_={isMatch:function(i){return i.includes(".android")||i.includes(".ios")},getMatchOccurences:function(i){return i.match(new RegExp("\\.android|\\.ios","g"))},getMatchValue(i,e){return i.substr(1)===e.os.toLowerCase()?1:-1}},r_={isMatch:function(i){return i.includes(".land")||i.includes(".port")},getMatchOccurences:function(i){return i.match(new RegExp("\\.land|\\.port","g"))},getMatchValue(i,e){const t=i.substr(1),n=e.width>e.height?1:-1;return t==="land"?n:-n}},gs=[e_,t_,i_,r_,n_];function s_(i,e){let t=0,n;for(let r=0;r<gs.length;r++){const s=gs[r];if(s.isMatch(i)){const a=s.getMatchOccurences(i);if(n=s.getMatchValue(a[a.length-1],e),n<0)return-1;n>0&&(t+=n+(gs.length-r)*nc)}}return t}function kg(i){for(let e=0;e<gs.length;e++){const t=gs[e];if(t.isMatch(i)){const n=t.getMatchOccurences(i);for(let r=0;r<n.length;r++)i=i.replace(n[r],"")}}return i}function a_(i,e,t,n){const r=e?i+e:i;let s=-1,a=null;for(let o=0;o<t.length;o++){const c=t[o];if(kg(c)!==r)continue;const d=s_(c,n);d>=0&&d>s&&(s=d,a=t[o])}return a}class Rg{constructor(e,t=global.getRegisteredModules){this.context=e,this.moduleListProvider=t,this._cache={},x.on("livesync",n=>c_()),x.on("orientationChanged",n=>{dr=void 0})}resolveModuleName(e,t){const n=e+t;let r=this._cache[n];return r===void 0&&(r=this.resolveModuleNameImpl(e,t),this._cache[n]=r),l.isEnabled()&&l.write(`path: '${e}' with ext: '${t}' resolved: '${r}'`,l.categories.ModuleNameResolver),r}clearCache(){this._cache={}}resolveModuleNameImpl(e,t){let n=null;t=t?"."+t:"",e=kg(e);const r=this.getCandidates(e,t);return n=a_(e,t,r,this.context),n}getCandidates(e,t){return this.moduleListProvider().filter(r=>r.startsWith(e)&&(!t||r.endsWith(t)))}}let dr;function Vt(i,e){return global.__snapshot?o_(i,e):(dr||(dr=new Rg({width:Ve.mainScreen.widthDIPs,height:Ve.mainScreen.heightDIPs,os:wr.os,deviceType:wr.deviceType})),dr.resolveModuleName(i,e))}function o_(i,e){return l.write(`Resolving module in SNAPSHOT context - path: '${i}' with ext: '${e}'`,l.categories.ModuleNameResolver),new Rg({width:400,height:800,os:"Android",deviceType:"Phone"}).resolveModuleName(i,e)}function c_(){dr&&dr.clearCache()}const l_=["text/formatted-string","text/span","ui/text-base/formatted-string","ui/text-base/span","ui/action-bar","ui/activity-indicator","ui/button","ui/content-view","ui/date-picker","ui/frame","ui/html-view","ui/image","ui/label","ui/layouts/absolute-layout","ui/layouts/dock-layout","ui/layouts/grid-layout","ui/layouts/stack-layout","ui/layouts/flexbox-layout","ui/layouts/wrap-layout","ui/list-picker","ui/page","ui/placeholder","ui/progress","ui/proxy-view-container","ui/repeater","ui/scroll-view","ui/search-bar","ui/segmented-bar","ui/slider","ui/switch","ui/tab-view","ui/web-view","ui/text-field","ui/text-view","ui/time-picker","ui/list-view"],cf="@nativescript/core/ui",u_="codeFile",Fc="cssFile",d_="import",h_=N("createComponentInstance",(i,e)=>{let t,n,r;try{typeof e=="string"?(l_.includes(e)?r=cf:r=Vt(e,""),n=global.loadModule(r,!0)):n=global.loadModule(cf,!1);const s=n[i];t=new s}catch(s){const a=require("../../../utils/debug");throw new a.ScopeError(s,"Module '"+(r||i)+"' not found for element '"+(e?e+":":"")+i+"'.")}return{instance:t,instanceModule:n}}),f_=N("getComponentModuleExports",(i,e,t)=>{if(t){const n=t[u_]||t[d_];if(n){const r=Vt(ki(n),"");if(r)e=global.loadModule(r,!0),i.exports=e;else throw new Error(`Code file with path "${n}" cannot be found! Looking for webpack module with name "${r}"`)}}return e}),p_=N("applyComponentCss",(i,e,t)=>{let n=!1;if(t&&t[Fc]){const r=Vt(ki(t[Fc]),"css");if(r)i.addCssFile(r),n=!0;else throw new Error(`Css file with path "${t[Fc]}" cannot be found! Looking for webpack module with name "${r}"`)}if(e&&!n){const r=Vt(e,"css");r&&i.addCssFile(r)}}),g_=N("applyComponentAttributes",(i,e,t,n)=>{if(i&&e)for(let r in n){const s=n[r];if(r.indexOf(":")!==-1)if(r.split(":")[0].trim().toLowerCase()===wr.os.toLowerCase())r=r.split(":")[1].trim();else continue;if(r.indexOf(".")!==-1){let a=i;const o=r.split("."),c=o[o.length-1];for(let u=0;u<o.length-1;u++)a!=null&&(a=a[o[u]]);a!=null&&Bl(a,e,t,c,s)}else Bl(i,e,t,r,s)}});function Fg(i,e,t,n,r,s){i=i.split("-").map(u=>u[0].toUpperCase()+u.substring(1)).join("");const{instance:a,instanceModule:o}=h_(i,e,null);n=f_(a,n,t),s&&p_(a,r,t),g_(a,o,n,t);let c;return a&&o&&(c={component:a,exports:o}),c}function Bl(i,e,t,n,r){if(y_(r)&&i.bind){const s=aw(n,m_(r));i.bind({sourceProperty:s[ke.sourceProperty],targetProperty:s[ke.targetProperty],expression:s[ke.expression],twoWay:s[ke.twoWay]},s[ke.source])}else if(Ng(n,i)){const s=t&&t[r];typeof s=="function"&&i.on(n,s)}else v_(n,i)&&t&&typeof t[r]=="function"?i[n]=t[r]:i[n]=r}function m_(i){return i.replace("{{","").replace("}}","").trim()}function y_(i){let e;if(typeof i=="string"){const t=i.trim();e=t.indexOf("{{")===0&&t.lastIndexOf("}}")===t.length-2}return e}const lf="knownFunctions";function v_(i,e){return e.constructor&&lf in e.constructor&&e.constructor[lf].indexOf(i)!==-1}var Oc={exports:{}},uf;function w_(){return uf||(uf=1,function(i,e){i.exports.EasySAXParser=t;function t(){if(!this)return null;this.angularSyntax=!1;function a(){}this.onTextNode=a,this.onStartNode=a,this.onEndNode=a,this.onCDATA=a,this.onError=a,this.onComment=null,this.onQuestion=null,this.onAttention=null,this.is_onComment=this.is_onQuestion=this.is_onAttention=!1,this.isNamespace=!1,this.useNS=null,this.default_xmlns=null,this.xmlns=null,this.nsmatrix={xmlns:this.xmlns},this.hasSurmiseNS=!1,this.attr_string="",this.attr_posstart=0,this.attr_res}t.prototype.on=function(a,o){if(!(typeof o!="function"&&o!==null))switch(a){case"error":this.onError=o||nullFunc;break;case"startNode":this.onStartNode=o||nullFunc;break;case"endNode":this.onEndNode=o||nullFunc;break;case"textNode":this.onTextNode=o||nullFunc;break;case"cdata":this.onCDATA=o||nullFunc;break;case"comment":this.onComment=o,this.is_onComment=!!o;break;case"question":this.onQuestion=o,this.is_onQuestion=!!o;break;case"attention":this.onAttention=o,this.is_onAttention=!!o;break}},t.prototype.ns=function(a,o){if(!(!a||typeof a!="string"||!o)){var c={},u,d,h;for(h in o)d=o[h],typeof d=="string"&&(a===d&&(u=!0),c[h]=d);u&&(this.isNamespace=!0,this.default_xmlns=a,this.useNS=c)}},t.prototype.parse=function(a){typeof a=="string"&&(this.isNamespace?(this.nsmatrix={xmlns:this.default_xmlns},parse(a),this.nsmatrix=!1):parse(a),this.attr_res=!0)};var n={constructor:!1,hasOwnProperty:!1,isPrototypeOf:!1,propertyIsEnumerable:!1,toLocaleString:!1,toString:!1,valueOf:!1,quot:'"',QUOT:'"',amp:"&",AMP:"&",nbsp:" ",apos:"'",lt:"<",LT:"<",gt:">",GT:">",copy:"©",laquo:"«",raquo:"»",reg:"®",deg:"°",plusmn:"±",sup2:"²",sup3:"³",micro:"µ",para:"¶"};function r(a,o,c,u){return u?n[u]||"":o?String.fromCodePoint(o):String.fromCodePoint(parseInt(c,16))}function s(a,o){return a=String(a),a.length>3&&a.indexOf("&")!==-1&&(a.indexOf("&gt;")!==-1&&(a=a.replace(/&gt;/g,">")),a.indexOf("&lt;")!==-1&&(a=a.replace(/&lt;/g,"<")),a.indexOf("&quot;")!==-1&&(a=a.replace(/&quot;/g,'"')),a.indexOf("&")!==-1&&(a=a.replace(/&#(\d+);|&#x([0123456789abcdef]+);|&(\w+);/ig,r))),a}t.prototype.allowedAngularAttributeChars=function(a){return this.angularSyntax?a===40||a===41||a===91||a===93||a===94||a===35:!1},t.prototype.getAttrs=function(){if(this.attr_res!==null)return this.attr_res;var a={},o=this.attr_string,c=this.attr_posstart,u=o.length,d=this.hasSurmiseNS?[]:!1,h,m="",p=!1,g=!1,v,y,A,P,I,w,k;e:for(;c<u;c++)if(y=o.charCodeAt(c),!(y===32||y<14&&y>8)){if(y<65&&!this.allowedAngularAttributeChars(y)||y>122||y>90&&y<97&&!this.allowedAngularAttributeChars(y))return this.attr_res=!1;for(v=c+1;v<u;v++){if(y=o.charCodeAt(v),y>96&&y<123||y>64&&y<91||y>47&&y<59||y===45||y===95||y===46)if(g){v--;break}else continue;if(!this.allowedAngularAttributeChars(y)){if(y===32||y>8&&y<14){g=!0;continue}else if(y===61){g=!1;break}else if(!g)return this.attr_res=!1;break}}if(h=o.substring(c,v).trim(),p=!0,h==="xmlns:xmlns")return this.attr_res=!1;for(y=o.charCodeAt(v+1);(y=o.charCodeAt(v+1))&&(y===32||y>8&&y<14);)v++;if(!g)if(y===34)v=o.indexOf('"',c=v+2);else if(y===39)v=o.indexOf("'",c=v+2);else return this.attr_res=!1;if(v===-1)return this.attr_res=!1;if(v+1<u&&!g&&(y=o.charCodeAt(v+1),y>32||y<9||y<32&&y>13))return this.attr_res=!1;if(g?m="":m=o.substring(c,v),c=v,this.isNamespace){if(this.hasSurmiseNS){if(k=h==="xmlns"?"xmlns":h.charCodeAt(0)===120&&h.substr(0,6)==="xmlns:"&&h.substr(6)){if(w=this.useNS[s(m)],w){if(this.nsmatrix[k]!==w){if(!I){I=!0,A={};for(P in this.nsmatrix)A[P]=this.nsmatrix[P];this.nsmatrix=A}this.nsmatrix[k]=w}}else if(this.nsmatrix[k]){if(!I){I=!0,A={};for(P in this.nsmatrix)A[P]=this.nsmatrix[P];this.nsmatrix=A}this.nsmatrix[k]=!1}a[h]=m;continue}d.push(h,m);continue}for(y=h.length;--y;)if(h.charCodeAt(y)===58){(y=this.nsmatrix[h.substring(0,y)])&&(a[y+h.substr(y)]=m);continue e}}a[h]=m,g=!1}if(!p)return this.attr_res=!0;if(this.hasSurmiseNS)e:for(c=0,u=d.length;c<u;c++){for(h=d[c++],y=h.length;--y;)if(h.charCodeAt(y)===58){(y=this.nsmatrix[h.substring(0,y)])&&(a[y+h.substr(y)]=d[c]);continue e}a[h]=d[c]}return this.attr_res=a},t.prototype.parse=function(o){var o=String(o),c=[],u=[],d,h=!1,m=!1,p=0,g=0,v=0,y,A,P,I,w,k,F=0,H,X,re,ut=0,de=0,M=-2,Le=-1;y=o.length;function wi(){return o.substring(g,p+1)}function Ht(){for(;M<Le&&Le<ut;)M=Le,Le=o.indexOf(`
`,Le+1),++de;return{line:de,column:ut-M}}function Ee(Gi){return ut=Gi,Ht}for(;p!==-1;){if(H=F>0,o.charCodeAt(p)===60?g=p:g=o.indexOf("<",p),g===-1){if(c.length){this.onError("end file",Ee(p));return}return}if(p!==g&&!H&&(re=this.onTextNode(o.substring(p,g),s,Ee(p)),re===!1))return;if(w=o.charCodeAt(g+1),w===33){if(w=o.charCodeAt(g+2),w===91&&o.substr(g+3,6)==="CDATA["){if(p=o.indexOf("]]>",g),p===-1){this.onError("cdata",Ee(g));return}if(!H&&(re=this.onCDATA(o.substring(g+9,p),!1,Ee(g)),re===!1))return;p+=3;continue}if(w===45&&o.charCodeAt(g+3)===45){if(p=o.indexOf("-->",g),p===-1){this.onError("expected -->",Ee(g));return}if(this.is_onComment&&!H&&(re=this.onComment(o.substring(g+4,p),s,Ee(g)),re===!1))return;p+=3;continue}if(p=o.indexOf(">",g+1),p===-1){this.onError('expected ">"',Ee(g+1));return}if(this.is_onAttention&&!H&&(re=this.onAttention(o.substring(g,p+1),s,Ee(g)),re===!1))return;p+=1;continue}else if(w===63){if(p=o.indexOf("?>",g),p===-1){this.onError("...?>",Ee(g));return}if(this.is_onQuestion&&(re=this.onQuestion(o.substring(g,p+2),Ee(g)),re===!1))return;p+=2;continue}var et=!1;for(v=g,p=-1;v<y;v++){var Zt=o.charCodeAt(v);if(et)Zt===et&&(et=!1);else if(Zt===34)et=Zt;else if(Zt===39)et=Zt;else if(Zt===62){p=v;break}}if(p==-1){this.onError("...>",Ee(g+1));return}if(this.attr_res=!0,w===47){if(m=!1,h=!0,A=d=c.pop(),I=g+2+A.length,o.substring(g+2,I)!==A){this.onError("close tagname",Ee(g+2));return}for(;I<p;I++)if(w=o.charCodeAt(I),!(w===32||w>8&&w<14)){this.onError("close tag",Ee(g+2));return}}else{if(o.charCodeAt(p-1)===47?(A=d=o.substring(g+1,p-1),m=!0,h=!0):(A=d=o.substring(g+1,p),m=!0,h=!1),!(w>96&&w<123||w>64&&w<91)){this.onError("first char nodeName",Ee(g+1));return}for(I=1,P=A.length;I<P;I++)if(w=A.charCodeAt(I),!(w>96&&w<123||w>64&&w<91||w>47&&w<59||w===45||w===95||w===46)){if(w===32||w<14&&w>8){d=A.substring(0,I),this.attr_res=null;break}this.onError("invalid nodeName",Ee(g+1));return}h||c.push(d)}if(this.isNamespace){if(H){h?m||--F===0&&(this.nsmatrix=u.pop()):F+=1,p+=1;continue}if(X=this.nsmatrix,h||(u.push(this.nsmatrix),this.attr_res!==!0&&(this.hasSurmiseNS=A.indexOf("xmlns",I)!==-1)&&(this.attr_string=A,this.attr_posstart=I,this.getAttrs(),this.hasSurmiseNS=!1)),w=d.indexOf(":"),w!==-1?(k=this.nsmatrix[d.substring(0,w)],d=d.substr(w+1)):k=this.nsmatrix.xmlns,!k){h?m?this.nsmatrix=X:this.nsmatrix=u.pop():(F=1,this.attr_res=!0),p+=1;continue}d=k+":"+d}if(m){this.attr_string=A,this.attr_posstart=I;var _n=this;if(re=this.onStartNode(d,function(){return _n.getAttrs()},s,h,wi,Ee(g)),re===!1)return;this.attr_res=!0}if(h){if(re=this.onEndNode(d,s,m,wi,Ee(g)),re===!1)return;this.isNamespace&&(m?this.nsmatrix=X:this.nsmatrix=u.pop())}p+=1}}}(Oc)),Oc.exports}var __=w_();class Oe{}Oe.StartElement="StartElement";Oe.EndElement="EndElement";Oe.Text="Text";Oe.CDATA="CDATA";Oe.Comment="Comment";class Qn{constructor(e,t,n,r,s,a,o){this._eventType=e,this._position=t,this._prefix=n,this._namespace=r,this._elementName=s,this._attributes=a,this._data=o}toString(){return JSON.stringify({eventType:this.eventType,position:this.position,prefix:this.prefix,namespace:this.namespace,elementName:this.elementName,attributes:this.attributes,data:this.data})}get eventType(){return this._eventType}get position(){return this._position}get prefix(){return this._prefix}get namespace(){return this._namespace}get elementName(){return this._elementName}get attributes(){return this._attributes}get data(){return this._data}}let wa;const C_=/&#(\d+);|&#x([0123456789abcdef]+);|&(\w+);/gi;function Og(){const i={Tab:9,NewLine:10,excl:33,quot:34,QUOT:34,num:35,dollar:36,percent:37,amp:38,AMP:38,apos:39,lpar:40,rpar:41,ast:42,midast:42,plus:43,comma:44,period:46,sol:47,colon:58,semi:59,lt:60,LT:60,equals:61,gt:62,GT:62,quest:63,commat:64,lsqb:91,lbrack:91,bsol:92,rsqb:92,rbrack:92,Hat:94,lowbar:95,grave:96,DiacriticalGrave:96,lcub:123,lbrace:123,verbar:124,vert:124,VerticalLine:124,rcub:125,rbrace:125,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,brkbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,hibar:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Dstrok:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,fnof:402,imped:437,gacute:501,jmath:567,circ:710,caron:711,Hacek:711,breve:728,Breve:728,dot:729,DiacriticalDot:729,ring:730,ogon:731,tilde:732,DiacriticalTilde:732,dblac:733,DiacriticalDoubleAcute:733,DownBreve:785,UnderBar:818,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,epsiv:949,varepsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigmav:962,varsigma:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetav:977,vartheta:977,thetasym:977,Upsi:978,upsih:978,straightphi:981,piv:982,varpi:982,Gammad:988,gammad:989,digamma:989,kappav:1008,varkappa:1008,rhov:1009,varrho:1009,epsi:1013,straightepsilon:1013,bepsi:1014,backepsilon:1014,euro:8364,trade:8482,TRADE:8482,forall:8704,part:8706,larr:8592,rarr:8593,hyphen:8208,dash:8208,ndash:8211,mdash:8212,horbar:8213,Vert:8214,Verbar:8214,lsquo:8216,OpenCurlyQuote:8216,rsquo:8217,rsquor:8217,CloseCurlyQuote:8217,lsquor:8218,sbquo:8218,ldquo:8220,OpenCurlyDoubleQuote:8220,rdquo:8221,rdquor:8221,CloseCurlyDoubleQuote:8221,ldquor:8222,bdquo:8222,dagger:8224,Dagger:8225,ddagger:8225,bull:8226,bullet:8226,nldr:8229,hellip:8230,mldr:8230,hybull:8259,tdot:8411,TripleDot:8411,DotDot:8412,star:9734,phone:9742,spades:9824,clubs:9827,hearts:9829,diams:9830,female:9792,male:9794,check:10003,checkmark:10003,cross:10007,VerticalSeparator:10072,EmptySmallSquare:9723,FilledSmallSquare:9724,starf:9733,bigstar:9733,square:9633,squ:9633,Square:9633},e=new Map;for(const t in i)i.hasOwnProperty(t)&&e.set(t,i[t]);return e}global.__snapshot&&(wa=Og());function b_(i,e,t,n){if(n){wa||(wa=Og());const r=wa.get(n);return r?String.fromCodePoint(r):i}return e?String.fromCodePoint(parseInt(e,10)):String.fromCodePoint(parseInt(t,16))}class ms{constructor(e,t,n){this._processNamespaces=n,this._parser=new __.EasySAXParser;const r=this;this._parser.on("startNode",function(s,a,o,c,u,d){let h=a();if(h===!0&&(h=void 0),h)for(const v in h)h.hasOwnProperty(v)&&(h[v]=ms._dereferenceEntities(h[v]));let m,p,g=s;if(r._processNamespaces){const v=ms._getNamespacesStackEntry(h);r._namespaceStack.push(v);const y=r._resolveNamespace(g);m=y.prefix,p=y.namespace,g=y.name}e(new Qn(Oe.StartElement,d(),m,p,g,h,void 0))}),this._parser.on("textNode",function(s,a,o){const c=a(ms._dereferenceEntities(s));e(new Qn(Oe.Text,o(),void 0,void 0,void 0,void 0,c))}),this._parser.on("endNode",function(s,a,o,c,u){let d,h,m=s;if(r._processNamespaces){const p=r._resolveNamespace(m);d=p.prefix,h=p.namespace,m=p.name}e(new Qn(Oe.EndElement,u(),d,h,m,void 0,void 0)),r._processNamespaces&&r._namespaceStack.pop()}),this._parser.on("cdata",function(s,a,o){e(new Qn(Oe.CDATA,o(),void 0,void 0,void 0,void 0,s))}),this._parser.on("comment",function(s,a,o){e(new Qn(Oe.Comment,o(),void 0,void 0,void 0,void 0,s))}),t&&this._parser.on("error",function(s,a){t(new Error(s),a())})}get angularSyntax(){return this._parser.angularSyntax}set angularSyntax(e){this._parser.angularSyntax=e}parse(e){this._processNamespaces&&(this._namespaceStack=[]),this._parser.parse(e)}static _getNamespacesStackEntry(e){const t={};if(!e)return t;let n,r;for(const s in e)e.hasOwnProperty(s)&&(n=s,n.indexOf("xmlns")===0&&(r="",n.indexOf(":")!==-1&&(r=n.split(":")[1]),t[r]=e[s]));return t}_resolveNamespace(e){const t={prefix:void 0,namespace:void 0,name:void 0};if(t.prefix="",e.indexOf(":")!==-1){const r=e.split(":");t.prefix=r[0],t.name=r[1]}else t.name=e;let n;for(let r=this._namespaceStack.length-1;r>=0;r--){n=this._namespaceStack[r];for(const s in n)if(n.hasOwnProperty(s)&&t.prefix===s)return t.namespace=n[s],t}return t}static _dereferenceEntities(e){return e=String(e),e.length>3&&e.indexOf("&")!==-1&&(e=e.replace(C_,b_)),e}}var Ci;(function(i){class e{pipe(p){return this._next=p,p}next(p){this._next.parse(p)}}i.XmlProducerBase=e;class t extends e{constructor(p){super(),this.error=p||n}parse(p){{const g=new ms(v=>{try{this.next(v)}catch(y){throw this.error(y,v.position)}},(v,y)=>{throw this.error(v,y)},!0);Be(p)?g.parse(p):$s(p)&&Be(p.default)&&g.parse(p.default)}}}i.XmlStringParser=t;function n(m,p){return new Ug(m,"Parsing XML at "+p.line+":"+p.column)}i.PositionErrorFormat=n;function r(m){return(p,g)=>{const v=g?new Gt(m,g.line,g.column):new Gt(m,-1,-1);return p=new D_(p,v,"Building UI from XML."),p}}i.SourceErrorFormat=r;function s(m){return(p,g)=>{if(!Gt.get(p)){const v=g?new Gt(m,g.line,g.column):new Gt(m,-1,-1);Gt.set(p,v)}}}i.ComponentSourceTracker=s;class a extends e{parse(p){if(p.eventType===Oe.StartElement&&a.isPlatform(p.elementName)){if(this.currentPlatformContext)throw new Error("Already in '"+this.currentPlatformContext+"' platform context and cannot switch to '"+p.elementName+"' platform! Platform tags cannot be nested.");this.currentPlatformContext=p.elementName;return}if(p.eventType===Oe.EndElement&&a.isPlatform(p.elementName)){this.currentPlatformContext=void 0;return}this.currentPlatformContext&&!a.isCurentPlatform(this.currentPlatformContext)||this.next(p)}static isPlatform(p){if(p){const g=p.toLowerCase();return g===S_||g===x_||g===T_}return!1}static isCurentPlatform(p){return p&&p.toLowerCase()===wr.os.toLowerCase()}}i.PlatformFilter=a;class o extends e{constructor(p,g){super(),this.args=p,this.error=g}replay(){this.args.forEach(p=>{try{this.next(p)}catch(g){throw this.error(g,p.position)}})}}i.XmlArgsReplay=o;class c{constructor(p){this.state=p}parse(p){this.state=this.state.parse(p)}}i.XmlStateParser=c;class u{constructor(p,g,v=!0){this.parent=p,this._context=g.context,this._recordedXmlStream=new Array,this._templateProperty=g,this._nestingLevel=0,this._state=0,this._setTemplateProperty=v}parse(p){return p.eventType===Oe.StartElement?this.parseStartElement(p.prefix,p.namespace,p.elementName,p.attributes):p.eventType===Oe.EndElement&&this.parseEndElement(p.prefix,p.elementName),this._recordedXmlStream.push(p),this._state===2?this.parent:this}get elementName(){return this._templateProperty.elementName}parseStartElement(p,g,v,y){if(this._state===0)this._state=1;else if(this._state===2)throw new Error("Template must have exactly one root element but multiple elements were found.");this._nestingLevel++}parseEndElement(p,g){if(this._state===0)throw new Error("Template must have exactly one root element but none was found.");if(this._state===2)throw new Error("No more closing elements expected for this template.");if(this._nestingLevel--,this._nestingLevel===0&&(this._state=2,this._setTemplateProperty&&this._templateProperty.name in this._templateProperty.parent.component)){const v=this.buildTemplate();this._templateProperty.parent.component[this._templateProperty.name]=v}}buildTemplate(){{const p=this._context,g=this._templateProperty.errorFormat,v=this._templateProperty.sourceTracker;return N("Template()",()=>{let A,P;return(A=new i.XmlArgsReplay(this._recordedXmlStream,g)).pipe(new c(P=new h(p,g,v))),A.replay(),P.rootComponentModule.component})}}}i.TemplateParser=u;class d{get value(){return this._value}constructor(p,g){this.parent=p,this.templateProperty=g,this._childParsers=new Array}parse(p){if(p.eventType===Oe.StartElement&&p.elementName==="template"){const g=new u(this,this.templateProperty,!1);return g.key=p.attributes.key,this._childParsers.push(g),g}if(p.eventType===Oe.EndElement&&h.getComplexPropertyName(p.elementName)===this.templateProperty.name){const v=new Array;for(let y=0;y<this._childParsers.length;y++)v.push({key:this._childParsers[y].key,createView:this._childParsers[y].buildTemplate()});return this._value=v,this.parent.parse(p)}return this}}i.MultiTemplateParser=d;class h{constructor(p,g,v,y){this.moduleName=y,this.parents=new Array,this.complexProperties=new Array,this.context=p,this.error=g,this.sourceTracker=v}buildComponent(p){if(p.prefix&&p.namespace)return Dg(p.namespace,p.elementName,p.attributes,this.context,this.currentRootView,!this.currentRootView,this.moduleName);{let g=p.namespace;return E_.test(g||"")&&(g=void 0),Fg(p.elementName,g,p.attributes,this.context,this.moduleName,!this.currentRootView)}}parse(p){const g=this.parents[this.parents.length-1],v=this.complexProperties[this.complexProperties.length-1];if(p.eventType===Oe.StartElement)if(h.isComplexProperty(p.elementName)){const y=h.getComplexPropertyName(p.elementName),A={parent:g,name:y,items:[]};if(this.complexProperties.push(A),h.isKnownTemplate(y,g.exports))return new u(this,{context:(g?Ul(g.component):null)||this.context,parent:g,name:y,elementName:p.elementName,templateItems:[],errorFormat:this.error,sourceTracker:this.sourceTracker});if(h.isKnownMultiTemplate(y,g.exports)){const P=new d(this,{context:(g?Ul(g.component):null)||this.context,parent:g,name:y,elementName:p.elementName,templateItems:[],errorFormat:this.error,sourceTracker:this.sourceTracker});return A.parser=P,P}}else{const y=this.buildComponent(p);y&&(this.sourceTracker(y.component,p.position),g?v&&v.parent==g?h.addToComplexProperty(g,v,y):g.component._addChildFromBuilder&&g.component._addChildFromBuilder(p.elementName,y.component):this.parents.length===0&&(this.rootComponentModule=y,this.rootComponentModule&&(this.currentRootView=this.rootComponentModule.component,this.currentRootView.exports&&(this.context=this.currentRootView.exports))),this.parents.push(y))}else p.eventType===Oe.EndElement&&(h.isComplexProperty(p.elementName)?(v&&(v.parser?g.component[v.name]=v.parser.value:g&&g.component._addArrayFromBuilder&&(g.component._addArrayFromBuilder(v.name,v.items),v.items=[])),this.complexProperties.pop()):this.parents.pop());return this}static isComplexProperty(p){return Be(p)&&p.indexOf(".")!==-1}static getComplexPropertyName(p){let g;if(Be(p)){const v=p.split(".");g=v[v.length-1]}return g}static isKnownTemplate(p,g){return Ke.knownTemplates.has(p)}static isKnownMultiTemplate(p,g){return Ke.knownMultiTemplates.has(p)}static addToComplexProperty(p,g,v){const y=p.component;h.isKnownCollection(g.name,p.exports)?g.items.push(v.component):y._addChildFromBuilder?y._addChildFromBuilder(g.name,v.component):y[g.name]=v.component}static isKnownCollection(p,g){return Ke.knownCollections.has(p)}}h.KNOWNCOLLECTIONS="knownCollections",h.KNOWNTEMPLATES="knownTemplates",h.KNOWNMULTITEMPLATES="knownMultiTemplates",__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Qn]),__metadata("design:returntype",Object)],h.prototype,"buildComponent",null),i.ComponentParser=h})(Ci||(Ci={}));const x_=Zo.ios.toLowerCase(),S_=Zo.android.toLowerCase(),T_=Zo.visionos.toLowerCase(),E_=/tns\.xsd$/i;class Ke{static createViewFromEntry(e){if(e.create){const t=e.create();if(!t)throw new Error("Failed to create View with entry.create() function.");return t}else if(e.moduleName){const t=ki(e.moduleName),n=Vt(t,""),r=n?global.loadModule(n,!0):null;if(r&&r.createPage){const s=r.createPage(),a=Vt(t,"css");return a&&s.addCssFile(a),s}else{let s;{const a=Ml(t,r);s=a&&a.component}return s}}throw new Error("Failed to load page XML file for module: "+e.moduleName)}static parse(e,t){if(typeof e=="function")return e();{const n=t?Ul(t):void 0,r=Wl(e,n);return r&&r.component}}static load(e,t){let n;if(typeof e=="string"){const r=ki(e);n=Ml(r,t)}else n=Dg(e.path,e.name,e.attributes,e.exports,e.page,!0);return n&&n.component}static parseMultipleTemplates(e,t){const n=`<ListView><ListView.itemTemplates>${e}</ListView.itemTemplates></ListView>`;return Wl(n,t).component.itemTemplates}}Ke.knownTemplates=new Set(["itemTemplate"]);Ke.knownMultiTemplates=new Set(["itemTemplates"]);Ke.knownCollections=new Set(["items","spans","actionItems"]);function Ml(i,e){let t;const n=Vt(i,"xml");if(n){const s=global.loadModule(n,!0);t=Wl(s,e,n,i)}const r=t&&t.component;if(r&&(r.exports=e,r._moduleName=i),!t)throw new Error("Failed to load component from module: "+i);return t}function Dg(i,e,t,n,r,s=!0,a){!r&&n&&(r=n._parentPage,delete n._parentPage);let o;i=ki(i);const c=`${i}/${e}`,u=Vt(c,""),d=Vt(c,"xml");let h=Vt(c,"css");if(d){let m=n;if(u&&(m=global.loadModule(u,!0)),m||(m={}),m._parentPage=r,o=Ml(c,m),wc(o)&&wc(o.component)&&wc(t))for(const p in t)Bl(o.component,m,n,p,t[p])}else o=Fg(e,i,t,n,a,s),h||(h=Vt(i,"css"));return r&&h&&r.addCssFile(h),o}function Ul(i){if(!!!i._domId)return i.exports||i;let t=i.exports,n=i.parent;for(;t===void 0&&n;)t=n.exports,n=n.parent;return t}function Wl(i,e,t,n){{let r,s;const a=t?Ci.SourceErrorFormat(t):Ci.PositionErrorFormat,o=t?Ci.ComponentSourceTracker(t):()=>{};return(r=new Ci.XmlStringParser(a)).pipe(new Ci.PlatformFilter).pipe(new Ci.XmlStateParser(s=new Ci.ComponentParser(e,a,o,n))),r.parse(i),s.rootComponentModule}}const df=[`${ue.CLASS_PREFIX}${E.DeviceOrientation.portrait}`,`${ue.CLASS_PREFIX}${E.DeviceOrientation.landscape}`,`${ue.CLASS_PREFIX}${E.DeviceOrientation.unknown}`],hf=[`${ue.CLASS_PREFIX}${E.SystemAppearance.light}`,`${ue.CLASS_PREFIX}${E.SystemAppearance.dark}`],Ie=global.NativeScriptGlobals.events;class pn{constructor(){this.launchEvent="launch",this.suspendEvent="suspend",this.displayedEvent="displayed",this.backgroundEvent="background",this.foregroundEvent="foreground",this.resumeEvent="resume",this.exitEvent="exit",this.lowMemoryEvent="lowMemory",this.uncaughtErrorEvent="uncaughtError",this.discardedErrorEvent="discardedError",this.orientationChangedEvent="orientationChanged",this.systemAppearanceChangedEvent="systemAppearanceChanged",this.fontScaleChangedEvent="fontScaleChanged",this.livesyncEvent="livesync",this.loadAppCssEvent="loadAppCss",this.cssChangedEvent="cssChanged",this.initRootViewEvent="initRootView",this.on=Ie.on.bind(Ie),this.once=Ie.once.bind(Ie),this.off=Ie.off.bind(Ie),this.notify=Ie.notify.bind(Ie),this.hasListeners=Ie.hasListeners.bind(Ie),this.cssFile="./app.css",this.autoSystemAppearanceChanged=!0,this._inBackground=!1,this._suspended=!1,this.started=!1,global.NativeScriptGlobals.appInstanceReady=!0,global.__onUncaughtError=e=>{this.notify({eventName:this.uncaughtErrorEvent,object:this,android:e,ios:e,error:e})},global.__onDiscardedError=e=>{this.notify({eventName:this.discardedErrorEvent,object:this,error:e})},global.__onLiveSync=e=>{if(this.suspended)return;const t=this.getRootView();this.livesync(t,e)}}livesync(e,t){this.notify({eventName:this.livesyncEvent,object:this});const n=global.__onLiveSyncCore;let r=!1;if(t&&t.path){const s=["css","scss"],a=this.getCssFileName(),o=a.substring(0,a.lastIndexOf(".")+1);r=s.some(c=>t.path===o.concat(c))}e&&r?e._onCssStateChange():n&&n(t)}applyCssClass(e,t,n,r=!1){if(!e.cssClasses.has(n)&&(t.forEach(s=>this.removeCssClass(e,s)),this.addCssClass(e,n),this.increaseStyleScopeApplicationCssSelectorVersion(e),r||e._onCssStateChange(),l.isEnabled())){const s=Array.from(e.cssClasses);l.write(`Applying root css class: ${n}. rootView css classes: ${s.join(" ")}`,l.categories.Style)}}addCssClass(e,t){ue.pushToSystemCssClasses(t),e.cssClasses.add(t)}removeCssClass(e,t){ue.removeSystemCssClass(t),e.cssClasses.delete(t)}increaseStyleScopeApplicationCssSelectorVersion(e){var n;const t=e._styleScope??((n=e==null?void 0:e.currentPage)==null?void 0:n._styleScope);t&&t._increaseApplicationCssSelectorVersion()}setRootViewCSSClasses(e){const t=wr.os.toLowerCase(),n=wr.deviceType.toLowerCase(),r=this.orientation(),s=this.systemAppearance();if(t&&ue.pushToSystemCssClasses(`${ue.CLASS_PREFIX}${t}`),n&&ue.pushToSystemCssClasses(`${ue.CLASS_PREFIX}${n}`),r&&ue.pushToSystemCssClasses(`${ue.CLASS_PREFIX}${r}`),s&&ue.pushToSystemCssClasses(`${ue.CLASS_PREFIX}${s}`),e.cssClasses.add(ue.ROOT_VIEW_CSS_CLASS),ue.getSystemCssClasses().forEach(o=>e.cssClasses.add(o)),this.increaseStyleScopeApplicationCssSelectorVersion(e),e._onCssStateChange(),l.isEnabled()){const o=Array.from(e.cssClasses);l.write(`Setting root css classes: ${o.join(" ")}`,l.categories.Style)}}setMaxRefreshRate(e){}getMainEntry(){return this.mainEntry}notifyLaunch(e){const t={eventName:this.launchEvent,object:this,ios:this.ios,android:this.android,...e};return this.notify(t),this.loadAppCss(),t.root}createRootView(e,t=!1,n){let r=e;if(!r){if(t&&(r=this.notifyLaunch(n),r===null))return null;if(!r){if(!this.mainEntry)throw new Error("Main entry is missing. App cannot be started. Verify app bootstrap.");r=Ke.createViewFromEntry(this.mainEntry)}}return r}getRootView(){throw new Error("getRootView() Not implemented.")}resetRootView(e){this.mainEntry=typeof e=="string"?{moduleName:e}:e}initRootView(e){this.setRootViewCSSClasses(e),Gv(),Uv(),this.notify({eventName:this.initRootViewEvent,rootView:e})}getResources(){return Ig()}setResources(e){Kw(e)}setCssFileName(e){this.cssFile=e,this.notify({eventName:this.cssChangedEvent,object:this,cssFile:e})}getCssFileName(){return this.cssFile}loadAppCss(){try{this.notify({eventName:this.loadAppCssEvent,object:this,ios:this.ios,android:this.android,cssFile:this.getCssFileName()})}catch{l.isEnabled()&&l.write(`The app CSS file ${this.getCssFileName()} couldn't be loaded!`,l.categories.Style,l.messageType.warn)}}addCss(e,t){if(this.notify({eventName:this.cssChangedEvent,object:this,cssText:e}),!t){const n=this.getRootView();n&&n._onCssStateChange()}}run(e){throw new Error("run() Not implemented.")}getOrientation(){throw new Error("getOrientation() not implemented")}setOrientation(e){this._orientation!==e&&(this._orientation=e,Ve.mainScreen._updateMetrics(),this.orientationChanged(this.getRootView(),e),this.notify({eventName:this.orientationChangedEvent,android:this.android,ios:this.ios,newValue:e,object:this}))}orientation(){return this._orientation??(this._orientation=this.getOrientation())}orientationChanged(e,t){if(!e)return;const n=`${ue.CLASS_PREFIX}${t}`;this.applyCssClass(e,df,n,!0),e._getRootModalViews().forEach(s=>{this.applyCssClass(s,df,n,!0),s._onCssStateChange()}),e._onCssStateChange()}getNativeApplication(){throw new Error("getNativeApplication() not implemented")}hasLaunched(){return global.NativeScriptGlobals&&global.NativeScriptGlobals.launched}getSystemAppearance(){throw new Error("getSystemAppearance() not implemented")}setSystemAppearance(e){this._systemAppearance!==e&&(this._systemAppearance=e,this.systemAppearanceChanged(this.getRootView(),e),this.notify({eventName:this.systemAppearanceChangedEvent,android:this.android,ios:this.ios,newValue:e,object:this}))}systemAppearance(){return this._systemAppearance??(this._systemAppearance=this.getSystemAppearance())}setAutoSystemAppearanceChanged(e){this.autoSystemAppearanceChanged=e}systemAppearanceChanged(e,t){if(!e||!this.autoSystemAppearanceChanged)return;const n=`${ue.CLASS_PREFIX}${t}`;this.applyCssClass(e,hf,n,!0),e._getRootModalViews().forEach(s=>{this.applyCssClass(s,hf,n,!0),s._onCssStateChange()}),e._onCssStateChange()}get inBackground(){return this._inBackground}setInBackground(e,t){this._inBackground=e,this.notify({eventName:e?this.backgroundEvent:this.foregroundEvent,object:this,ios:this.ios,...t})}get suspended(){return this._suspended}setSuspended(e,t){this._suspended=e,this.notify({eventName:e?this.suspendEvent:this.resumeEvent,object:this,ios:this.ios,android:this.android,...t})}get android(){}get ios(){}get AndroidApplication(){return this.android}get iOSApplication(){return this.ios}}pn.on=Ie.on.bind(Ie);pn.once=Ie.once.bind(Ie);pn.off=Ie.off.bind(Ie);pn.notify=Ie.notify.bind(Ie);pn.hasListeners=Ie.hasListeners.bind(Ie);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",Function)],pn.prototype,"notifyLaunch",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Function,Object,Object]),__metadata("design:returntype",void 0)],pn.prototype,"createRootView",null);let na;function P_(){if(na)return na;var i=function(e){__extends(t,e);function t(n){var r=e.call(this)||this;return r._onReceiveCallback=n,global.__native(r)}return t.prototype.onReceive=function(n,r){this._onReceiveCallback&&this._onReceiveCallback(n,r)},t}(android.content.BroadcastReceiver);return na=i,na}let ra;function V_(){if(ra)return ra;var i=function(e){__extends(t,e);function t(){var z=e!==null&&e.apply(this,arguments)||this;return z.activitiesCount=0,z}t.prototype.onActivityCreated=function(z,jt){this.setThemeOnLaunch(z),x.android.startActivity||x.android.setStartActivity(z),!this.nativescriptActivity&&"isNativeScriptActivity"in z&&(this.nativescriptActivity=z),this.notifyActivityCreated(z,jt),x.hasListeners(x.displayedEvent)&&this.subscribeForGlobalLayout(z)},t.prototype.onActivityDestroyed=function(z){z===x.android.foregroundActivity&&x.android.setForegroundActivity(void 0),z===this.nativescriptActivity&&(this.nativescriptActivity=void 0),z===x.android.startActivity&&(x.android.setStartActivity(void 0),this.nativescriptActivity&&x.android.setStartActivity(this.nativescriptActivity)),x.android.notify({eventName:x.android.activityDestroyedEvent,object:x.android,activity:z}),gc()},t.prototype.onActivityPaused=function(z){"isNativeScriptActivity"in z&&x.setSuspended(!0,{android:z,activity:z}),x.android.notify({eventName:x.android.activityPausedEvent,object:x.android,activity:z})},t.prototype.onActivityResumed=function(z){x.android.setForegroundActivity(z),x.android.notify({eventName:x.android.activityResumedEvent,object:x.android,activity:z})},t.prototype.onActivitySaveInstanceState=function(z,jt){x.android.notify({eventName:x.android.saveActivityStateEvent,object:x.android,activity:z,bundle:jt})},t.prototype.onActivityStarted=function(z){this.activitiesCount++,this.activitiesCount===1&&x.android.setInBackground(!1,{android:z,activity:z}),x.android.notify({eventName:x.android.activityStartedEvent,object:x.android,activity:z})},t.prototype.onActivityStopped=function(z){this.activitiesCount--,this.activitiesCount===0&&x.android.setInBackground(!0,{android:z,activity:z}),x.android.notify({eventName:x.android.activityStoppedEvent,object:x.android,activity:z})},t.prototype.setThemeOnLaunch=function(z){var jt=z.getPackageManager().getActivityInfo(z.getComponentName(),android.content.pm.PackageManager.GET_META_DATA);if(jt.metaData){var ea=jt.metaData.getInt("SET_THEME_ON_LAUNCH",-1);ea!==-1&&z.setTheme(ea)}},t.prototype.notifyActivityCreated=function(z,jt){x.android.notify({eventName:x.android.activityCreatedEvent,object:x.android,activity:z,bundle:jt})},t.prototype.subscribeForGlobalLayout=function(z){var jt=z.getWindow().getDecorView().getRootView();global.onGlobalLayoutListener=new android.view.ViewTreeObserver.OnGlobalLayoutListener({onGlobalLayout:function(){x.android.notify({eventName:x.displayedEvent,object:x,android:x.android,activity:z});var ea=jt.getViewTreeObserver();ea.removeOnGlobalLayoutListener(global.onGlobalLayoutListener)}}),jt.getViewTreeObserver().addOnGlobalLayoutListener(global.onGlobalLayoutListener)};var n,r,s,a,o,c,u,d,h,m,p,g,v,y,A,P,I,w,k,F,H,X,re,ut,de,M,Le,wi,Ht,Ee,et,Zt,_n,Gi,Mh,Uh;return __decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[typeof(s=typeof androidx<"u"&&(n=androidx.appcompat)!==void 0&&(r=n.app)!==void 0&&r.AppCompatActivity)=="function"?s:Object,typeof(o=typeof android<"u"&&(a=android.os)!==void 0&&a.Bundle)=="function"?o:Object]),__metadata("design:returntype",void 0)],t.prototype,"onActivityCreated",null),__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[typeof(d=typeof androidx<"u"&&(c=androidx.appcompat)!==void 0&&(u=c.app)!==void 0&&u.AppCompatActivity)=="function"?d:Object]),__metadata("design:returntype",void 0)],t.prototype,"onActivityDestroyed",null),__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[typeof(p=typeof androidx<"u"&&(h=androidx.appcompat)!==void 0&&(m=h.app)!==void 0&&m.AppCompatActivity)=="function"?p:Object]),__metadata("design:returntype",void 0)],t.prototype,"onActivityPaused",null),__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[typeof(y=typeof androidx<"u"&&(g=androidx.appcompat)!==void 0&&(v=g.app)!==void 0&&v.AppCompatActivity)=="function"?y:Object]),__metadata("design:returntype",void 0)],t.prototype,"onActivityResumed",null),__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[typeof(I=typeof androidx<"u"&&(A=androidx.appcompat)!==void 0&&(P=A.app)!==void 0&&P.AppCompatActivity)=="function"?I:Object,typeof(k=typeof android<"u"&&(w=android.os)!==void 0&&w.Bundle)=="function"?k:Object]),__metadata("design:returntype",void 0)],t.prototype,"onActivitySaveInstanceState",null),__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[typeof(X=typeof androidx<"u"&&(F=androidx.appcompat)!==void 0&&(H=F.app)!==void 0&&H.AppCompatActivity)=="function"?X:Object]),__metadata("design:returntype",void 0)],t.prototype,"onActivityStarted",null),__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[typeof(de=typeof androidx<"u"&&(re=androidx.appcompat)!==void 0&&(ut=re.app)!==void 0&&ut.AppCompatActivity)=="function"?de:Object]),__metadata("design:returntype",void 0)],t.prototype,"onActivityStopped",null),__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[typeof(wi=typeof androidx<"u"&&(M=androidx.appcompat)!==void 0&&(Le=M.app)!==void 0&&Le.AppCompatActivity)=="function"?wi:Object]),__metadata("design:returntype",void 0)],t.prototype,"setThemeOnLaunch",null),__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[typeof(et=typeof androidx<"u"&&(Ht=androidx.appcompat)!==void 0&&(Ee=Ht.app)!==void 0&&Ee.AppCompatActivity)=="function"?et:Object,typeof(_n=typeof android<"u"&&(Zt=android.os)!==void 0&&Zt.Bundle)=="function"?_n:Object]),__metadata("design:returntype",void 0)],t.prototype,"notifyActivityCreated",null),__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[typeof(Uh=typeof androidx<"u"&&(Gi=androidx.appcompat)!==void 0&&(Mh=Gi.app)!==void 0&&Mh.AppCompatActivity)=="function"?Uh:Object]),__metadata("design:returntype",void 0)],t.prototype,"subscribeForGlobalLayout",null),t=__decorate([JavaProxy("org.nativescript.NativeScriptLifecycleCallbacks")],t),t}(android.app.Application.ActivityLifecycleCallbacks);return ra=i,ra}let sa;function A_(){if(sa)return sa;var i=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.onLowMemory=function(){gc(),java.lang.System.gc(),x.notify({eventName:x.lowMemoryEvent,object:x,android:this})},t.prototype.onTrimMemory=function(a){},t.prototype.onConfigurationChanged=function(a){x.android.onConfigurationChanged(a)};var n,r,s;return __decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],t.prototype,"onLowMemory",null),__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Number]),__metadata("design:returntype",void 0)],t.prototype,"onTrimMemory",null),__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[typeof(s=typeof android<"u"&&(n=android.content)!==void 0&&(r=n.res)!==void 0&&r.Configuration)=="function"?s:Object]),__metadata("design:returntype",void 0)],t.prototype,"onConfigurationChanged",null),t=__decorate([JavaProxy("org.nativescript.NativeScriptComponentCallbacks")],t),t}(android.content.ComponentCallbacks2);return sa=i,sa}class ve extends pn{constructor(){super(...arguments),this.activityCreatedEvent=ve.activityCreatedEvent,this.activityDestroyedEvent=ve.activityDestroyedEvent,this.activityStartedEvent=ve.activityStartedEvent,this.activityPausedEvent=ve.activityPausedEvent,this.activityResumedEvent=ve.activityResumedEvent,this.activityStoppedEvent=ve.activityStoppedEvent,this.saveActivityStateEvent=ve.saveActivityStateEvent,this.activityResultEvent=ve.activityResultEvent,this.activityBackPressedEvent=ve.activityBackPressedEvent,this.activityNewIntentEvent=ve.activityNewIntentEvent,this.activityRequestPermissionsEvent=ve.activityRequestPermissionsEvent,this._registeredReceivers={},this._pendingReceiverRegistrations=new Array}init(e){if(this.nativeApp!==e){if(this.nativeApp)throw new Error("Application.android already initialized.");this._nativeApp=e,this._context=e.getApplicationContext(),this._packageName=e.getPackageName(),this.lifecycleCallbacks=new(V_()),this.nativeApp.registerActivityLifecycleCallbacks(this.lifecycleCallbacks),this.componentCallbacks=new(A_()),this.nativeApp.registerComponentCallbacks(this.componentCallbacks),this._registerPendingReceivers()}}_registerPendingReceivers(){this._pendingReceiverRegistrations.forEach(e=>e(this.context)),this._pendingReceiverRegistrations.length=0}onConfigurationChanged(e){this.setOrientation(this.getOrientationValue(e)),this.setSystemAppearance(this.getSystemAppearanceValue(e))}getNativeApplication(){let e=this.nativeApp;if(e)return e;if(com.tns.NativeScriptApplication&&(e=com.tns.NativeScriptApplication.getInstance()),!e&&or()&&(e=com.tns.embedding.ApplicationHolder.getInstance()),!e){const t=java.lang.Class.forName("android.app.ActivityThread");if(t){const n=t.getMethod("currentApplication",null);n&&(e=n.invoke(null,null))}}if(!e)throw new Error("Failed to retrieve native Android Application object. If you have a custom android.app.Application type implemented make sure that you've called the 'Application.android.init' method.");return e}get nativeApp(){return this._nativeApp}run(e){if(this.started)throw new Error("Application is already started.");if(this.started=!0,this.mainEntry=typeof e=="string"?{moduleName:e}:e,!this.nativeApp){const t=this.getNativeApplication();this.init(t)}}get startActivity(){return this._startActivity}get foregroundActivity(){return this._foregroundActivity}setStartActivity(e){this._startActivity=e}setForegroundActivity(e){this._foregroundActivity=e}get paused(){return this.suspended}get backgrounded(){return this.inBackground}get context(){return this._context}get packageName(){return this._packageName}registerBroadcastReceiver(e,t,n=2){const r=s=>{const a=new(P_())(t);G>=26?s.registerReceiver(a,new android.content.IntentFilter(e),n):s.registerReceiver(a,new android.content.IntentFilter(e)),this._registeredReceivers[e]=a};this.context?r(this.context):this._pendingReceiverRegistrations.push(r)}unregisterBroadcastReceiver(e){const t=this._registeredReceivers[e];t&&(this.context.unregisterReceiver(t),this._registeredReceivers[e]=void 0,delete this._registeredReceivers[e])}getRegisteredBroadcastReceiver(e){return this._registeredReceivers[e]}getRootView(){const e=this.foregroundActivity||this.startActivity;if(!e)return;const t=e._callbacks;return t?t.getRootView():void 0}resetRootView(e){super.resetRootView(e);const t=this.foregroundActivity||this.startActivity;if(!t)throw new Error("Cannot find android activity.");const n=t._callbacks;if(!n)throw new Error("Cannot find android activity callbacks.");n.resetActivityContent(t)}getSystemAppearance(){const t=this.context.getResources().getConfiguration();return this.getSystemAppearanceValue(t)}getSystemAppearanceValue(e){switch(e.uiMode&android.content.res.Configuration.UI_MODE_NIGHT_MASK){case android.content.res.Configuration.UI_MODE_NIGHT_YES:return"dark";case android.content.res.Configuration.UI_MODE_NIGHT_NO:case android.content.res.Configuration.UI_MODE_NIGHT_UNDEFINED:return"light"}}getOrientation(){const t=this.context.getResources().getConfiguration();return this.getOrientationValue(t)}getOrientationValue(e){switch(e.orientation){case android.content.res.Configuration.ORIENTATION_LANDSCAPE:return"landscape";case android.content.res.Configuration.ORIENTATION_PORTRAIT:return"portrait";default:return"unknown"}}get android(){return this}}ve.activityCreatedEvent="activityCreated";ve.activityDestroyedEvent="activityDestroyed";ve.activityStartedEvent="activityStarted";ve.activityPausedEvent="activityPaused";ve.activityResumedEvent="activityResumed";ve.activityStoppedEvent="activityStopped";ve.saveActivityStateEvent="saveActivityState";ve.activityResultEvent="activityResult";ve.activityBackPressedEvent="activityBackPressed";ve.activityNewIntentEvent="activityNewIntent";ve.activityRequestPermissionsEvent="activityRequestPermissions";const x=new ve;let ye;function Ki(){return ye||(ye=x.android.getNativeApplication().getApplicationContext()),ye}function me(i){return org.nativescript.widgets.FileHelper.fromString(Ki(),i)}function ne(i){return!!(typeof i=="string"&&i.startsWith("content:"))}class ht{constructor(){this._pathSeparator="/",this.copy=this.copySync.bind(this),this.readBuffer=this.readBufferSync.bind(this),this.read=this.readSync.bind(this),this.appendBuffer=this.appendBufferSync.bind(this),this.append=this.appendSync.bind(this),this.writeBuffer=this.writeBufferSync.bind(this),this.write=this.writeSync.bind(this),this.readText=this.readTextSync.bind(this),this.appendText=this.appendTextSync.bind(this),this.writeText=this.writeTextSync.bind(this)}getLastModified(e){const t=new java.io.File(e);return new Date(t.lastModified())}getFileSize(e){return new java.io.File(e).length()}getParent(e,t){try{const r=new java.io.File(e).getParentFile();return{path:r.getAbsolutePath(),name:r.getName()}}catch(n){t&&t(n);return}}getFile(e,t){return this.ensureFile(new java.io.File(e),!1,t)}getFolder(e,t){const n=new java.io.File(e),r=this.ensureFile(n,!0,t);if(r)return{path:r.path,name:r.name}}eachEntity(e,t,n){t&&this.enumEntities(e,t,n)}getEntities(e,t){const n=new Array,r=function(o){return n.push(o),!0};let s;const a=function(o){t&&t(o),s=!0};return this.enumEntities(e,r,a),s?null:n}fileExists(e){return new java.io.File(e).exists()}folderExists(e){const t=new java.io.File(e);return t.exists()&&t.isDirectory()}deleteFile(e,t){try{const n=new java.io.File(e);if(!n.isFile()){t&&t({message:"The specified parameter is not a File entity."});return}n.delete()||t&&t({message:"File deletion failed"})}catch(n){t&&t(n)}}deleteFolder(e,t){try{const n=new java.io.File(e);if(!n.getCanonicalFile().isDirectory()){t&&t({message:"The specified parameter is not a Folder entity."});return}this.deleteFolderContent(n),n.delete()||t&&t({message:"Folder deletion failed."})}catch(n){t&&t(n)}}emptyFolder(e,t){try{const n=new java.io.File(e);if(!n.getCanonicalFile().isDirectory()){t&&t({message:"The specified parameter is not a Folder entity."});return}this.deleteFolderContent(n)}catch(n){t&&t(n)}}rename(e,t,n){const r=new java.io.File(e);if(!r.exists()){n&&n(new Error("The file to rename does not exist"));return}const s=new java.io.File(t);if(s.exists()){n&&n(new Error("A file with the same name already exists."));return}r.renameTo(s)||n&&n(new Error("Failed to rename file '"+e+"' to '"+t+"'"))}getDocumentsFolderPath(){return Ki().getFilesDir().getAbsolutePath()}getExternalDocumentsFolderPath(){const e=Ki().getExternalFilesDirs(null);let t;return e&&e.length>1&&(t=e[e.length-1]),t||(t=Ki().getExternalFilesDir(null)),t.getAbsolutePath()}getLogicalRootPath(){return Ki().getFilesDir().getCanonicalPath()}getTempFolderPath(){return Ki().getCacheDir().getAbsolutePath()}getCurrentAppPath(){return this.getLogicalRootPath()+"/app"}copySync(e,t,n){try{return org.nativescript.widgets.Async.File.copySync(e,t,Ki())}catch(r){n&&n(r)}return!1}copyAsync(e,t){return new Promise((n,r)=>{try{org.nativescript.widgets.Async.File.copy(e,t,new org.nativescript.widgets.Async.CompleteCallback({onComplete:s=>{n(s)},onError:s=>{r(s)}}),Ki())}catch(s){r(s)}})}readBufferAsync(e){return new Promise((t,n)=>{try{org.nativescript.widgets.Async.File.readBuffer(e,new org.nativescript.widgets.Async.CompleteCallback({onComplete:r=>{t(ArrayBuffer.from(r))},onError:r=>{n(r)}}),null)}catch(r){n(r)}})}readBufferSync(e,t){try{const n=new java.io.File(e),s=new java.io.FileInputStream(n).getChannel(),a=new ArrayBuffer(n.length());return s.read(a),a}catch(n){t&&t(n)}}readAsync(e){return new Promise((t,n)=>{try{org.nativescript.widgets.Async.File.read(e,new org.nativescript.widgets.Async.CompleteCallback({onComplete:r=>{t(r)},onError:r=>{n(r)}}),null)}catch(r){n(r)}})}readSync(e,t){try{const n=new java.io.File(e),r=new java.io.FileInputStream(n),s=Array.create("byte",n.length());return new java.io.DataInputStream(r).readFully(s),s}catch(n){t&&t(n)}}static getBuffer(e){var t;return e instanceof ArrayBuffer?e.nativeObject||e:((t=e==null?void 0:e.buffer)==null?void 0:t.nativeObject)||e}appendBufferAsync(e,t){return new Promise((n,r)=>{try{org.nativescript.widgets.Async.File.appendBuffer(e,ht.getBuffer(t),new org.nativescript.widgets.Async.CompleteCallback({onComplete:()=>{n()},onError:s=>{r(s)}}),null)}catch(s){r(s)}})}appendBufferSync(e,t,n){try{const r=new java.io.File(e),s=new java.io.FileOutputStream(r);s.getChannel().write(ht.getBuffer(t)),s.close()}catch(r){n&&n(r)}}appendAsync(e,t){return new Promise((n,r)=>{try{org.nativescript.widgets.Async.File.append(e,t,new org.nativescript.widgets.Async.CompleteCallback({onComplete:()=>{n()},onError:s=>{r(s)}}),null)}catch(s){r(s)}})}appendSync(e,t,n){try{const r=new java.io.File(e),s=new java.io.FileOutputStream(r,!0);s.write(t,0,t.length),s.close()}catch(r){n&&n(r)}}writeBufferAsync(e,t){return new Promise((n,r)=>{try{org.nativescript.widgets.Async.File.writeBuffer(e,ht.getBuffer(t),new org.nativescript.widgets.Async.CompleteCallback({onComplete:()=>{n()},onError:s=>{r(s)}}),null)}catch(s){r(s)}})}writeBufferSync(e,t,n){try{const r=new java.io.File(e),s=new java.io.FileOutputStream(r);s.getChannel().write(ht.getBuffer(t)),s.close()}catch(r){n&&n(r)}}writeAsync(e,t){return new Promise((n,r)=>{try{org.nativescript.widgets.Async.File.write(e,t,new org.nativescript.widgets.Async.CompleteCallback({onComplete:()=>{n()},onError:s=>{r(s)}}),null)}catch(s){r(s)}})}writeSync(e,t,n){try{const r=new java.io.File(e),s=new java.io.FileOutputStream(r);s.write(t,0,t.length),s.close()}catch(r){n&&n(r)}}readTextAsync(e,t){let n=t;return n||(n=ri.UTF_8),new Promise((r,s)=>{try{org.nativescript.widgets.Async.File.readText(e,n,new org.nativescript.widgets.Async.CompleteCallback({onComplete:a=>{n===ri.UTF_8&&(a=ht._removeUtf8Bom(a)),r(a)},onError:a=>{s(a)}}),null)}catch(a){s(a)}})}readTextSync(e,t,n){try{const r=new java.io.File(e),s=new java.io.FileInputStream(r);let a=n;a||(a=ri.UTF_8);const o=new java.io.InputStreamReader(s,a),c=new java.io.BufferedReader(o);let u,d="";for(;u!==null&&(u=c.readLine(),u!==null);)d.length>0&&(d+=`
`),d+=u;return a===ri.UTF_8&&(d=ht._removeUtf8Bom(d)),c.close(),d}catch(r){t&&t(r)}}static _removeUtf8Bom(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}appendTextAsync(e,t,n){let r=n;return r||(r=ri.UTF_8),new Promise((s,a)=>{try{org.nativescript.widgets.Async.File.appendText(e,t,r,new org.nativescript.widgets.Async.CompleteCallback({onComplete:()=>{s()},onError:o=>{a(o)}}),null)}catch(o){a(o)}})}appendTextSync(e,t,n,r){try{const s=new java.io.File(e),a=new java.io.FileOutputStream(s,!0);let o=r;o||(o=ri.UTF_8);const c=new java.io.OutputStreamWriter(a,o);c.write(t),c.close()}catch(s){n&&n(s)}}writeTextAsync(e,t,n){let r=n;return r||(r=ri.UTF_8),new Promise((s,a)=>{try{org.nativescript.widgets.Async.File.writeText(e,t,r,new org.nativescript.widgets.Async.CompleteCallback({onComplete:()=>{s()},onError:o=>{a(o)}}),null)}catch(o){a(o)}})}writeTextSync(e,t,n,r){try{const s=new java.io.File(e),a=new java.io.FileOutputStream(s);let o=r;o||(o=ri.UTF_8);const c=new java.io.OutputStreamWriter(a,o);c.write(t),c.close()}catch(s){n&&n(s)}}deleteFolderContent(e){const t=e.listFiles();if(t.length===0)return!0;let n,r=!1;for(let s=0;s<t.length&&(n=t[s],!(n.getCanonicalFile().isDirectory()&&(r=this.deleteFolderContent(n),!r)));s++)r=n.delete();return r}ensureFile(e,t,n){try{if(!e.exists()){let s;if(t?s=e.mkdirs():(e.getParentFile().mkdirs(),s=e.createNewFile()),s)e.setReadable(!0),e.setWritable(!0);else{n&&n("Failed to create new java File for path "+e.getAbsolutePath());return}}const r=e.getAbsolutePath();return{path:r,name:e.getName(),extension:this.getFileExtension(r)}}catch(r){n&&n(r);return}}getFileExtension(e){return Ev(e)}enumEntities(e,t,n){try{let r=new java.io.File(e);if(!r.getCanonicalFile().isDirectory()){n&&n("There is no folder existing at path "+e);return}const s=r.listFiles(),a=s.length;let o,c;for(let u=0;u<a&&(r=s[u],o={path:r.getAbsolutePath(),name:r.getName()},r.isFile()&&(o.extension=this.getFileExtension(o.path)),c=t(o),c!==!1);u++);}catch(r){n&&n(r)}}getPathSeparator(){return this._pathSeparator}normalizePath(e){return G>=26?java.nio.file.Paths.get(e,[""]).normalize().toString():new java.io.File(e).getAbsolutePath()}joinPath(e,t){const n=new java.io.File(e);return new java.io.File(n,t).getPath()}joinPaths(e){if(!e||e.length===0)return"";if(e.length===1)return e[0];let t=e[0];for(let n=1;n<e.length;n++)t=this.joinPath(t,e[n]);return t}}class I_ extends ht{constructor(){super(...arguments),this.__skip=!0,this.appendBuffer=this.appendBufferSync.bind(this),this.append=this.appendSync.bind(this),this.appendText=this.appendTextSync.bind(this),this.readText=this.readTextSync.bind(this),this.readBuffer=this.readBufferSync.bind(this),this.read=this.readSync.bind(this),this.writeText=this.writeTextSync.bind(this),this.writeBuffer=this.writeBufferSync.bind(this),this.write=this.writeSync.bind(this)}getLastModified(e){return ne(e)?new Date(me(e).getLastModified()*1e3):super.getLastModified(e)}getFileSize(e){return ne(e)?me(e).getSize():super.getFileSize(e)}getParent(e,t){return ne(e)?null:super.getParent(e,t)}getFile(e,t){if(ne(e))try{const n=me(e);return{path:e,name:n.getName(),extension:n.getExtension()}}catch(n){typeof t=="function"&&t(n);return}return super.getFile(e,t)}getFolder(e,t){return ne(e)?null:super.getFolder(e,t)}getEntities(e,t){return ne(e)?null:super.getEntities(e,t)}eachEntity(e,t,n){if(ne(e))return null;super.eachEntity(e,t)}fileExists(e){return ne(e)?org.nativescript.widgets.FileHelper.exists(ye,e):super.fileExists(e)}folderExists(e){return ne(e)?null:super.folderExists(e)}deleteFile(e,t){if(ne(e))try{me(e).delete(ye)}catch(n){t==null||t(n)}else super.deleteFile(e,t)}deleteFolder(e,t){ne(e)||super.deleteFolder(e,t)}emptyFolder(e,t){ne(e)||super.emptyFolder(e,t)}rename(e,t,n){if(ne(e)){let r=null;typeof n=="function"&&(r=new org.nativescript.widgets.FileHelper.Callback({onSuccess(s){},onError(s){n(s)}})),me(e).renameSync(ye,t,r)}else super.rename(e,t,n)}renameAsync(e,t){return new Promise((n,r)=>{me(e).renameSync(ye,t,new org.nativescript.widgets.FileHelper.Callback({onSuccess(s){n()},onError(s){r(s)}}))})}getDocumentsFolderPath(){return super.getDocumentsFolderPath()}getTempFolderPath(){return super.getTempFolderPath()}getLogicalRootPath(){return super.getLogicalRootPath()}getCurrentAppPath(){return super.getCurrentAppPath()}appendBufferAsync(e,t){return ne(e)?new Promise((n,r)=>{me(e).appendBuffer(ye,ht.getBuffer(t),new org.nativescript.widgets.FileHelper.Callback({onSuccess(s){n()},onError(s){r(s)}}))}):super.appendAsync(e,t)}appendBufferSync(e,t,n){if(ne(e)){let r=null;typeof n=="function"&&(r=new org.nativescript.widgets.FileHelper.Callback({onSuccess(s){},onError(s){n(s)}})),me(e).appendSync(ye,ht.getBuffer(t),r)}else super.appendSync(e,t,n)}appendAsync(e,t){return ne(e)?new Promise((n,r)=>{me(e).append(ye,t,new org.nativescript.widgets.FileHelper.Callback({onSuccess(s){n()},onError(s){r(s)}}))}):super.appendAsync(e,t)}appendSync(e,t,n){if(ne(e)){let r=null;typeof n=="function"&&(r=new org.nativescript.widgets.FileHelper.Callback({onSuccess(s){},onError(s){n(s)}})),me(e).appendSync(ye,t,r)}else super.appendSync(e,t,n)}appendTextAsync(e,t,n){return ne(e)?new Promise((r,s)=>{me(e).appendText(ye,t,n??null,new org.nativescript.widgets.FileHelper.Callback({onSuccess(a){r()},onError(a){s(a)}}))}):super.appendTextAsync(e,t,n)}appendTextSync(e,t,n,r){if(ne(e)){let s=null;typeof n=="function"&&(s=new org.nativescript.widgets.FileHelper.Callback({onSuccess(a){},onError(a){n(a)}})),me(e).appendTextSync(ye,t,r??null,s)}else super.appendTextSync(e,t,n)}readTextAsync(e,t){return ne(e)?new Promise((n,r)=>{me(e).readText(ye,t??null,new org.nativescript.widgets.FileHelper.Callback({onSuccess(s){n(s)},onError(s){r(s)}}))}):super.readTextAsync(e,t)}readTextSync(e,t,n){if(ne(e)){let r=null;return typeof t=="function"&&(r=new org.nativescript.widgets.FileHelper.Callback({onSuccess(s){},onError(s){t(s)}})),me(e).readTextSync(ye,n??null,r)}else return super.readTextSync(e,t,n)}readBufferAsync(e){return ne(e)?new Promise((t,n)=>{me(e).readBuffer(ye,new org.nativescript.widgets.FileHelper.Callback({onSuccess(r){t(r)},onError(r){n(r)}}))}):super.readBufferAsync(e)}readBufferSync(e,t){if(ne(e)){let n=null;typeof t=="function"&&(n=new org.nativescript.widgets.FileHelper.Callback({onSuccess(s){},onError(s){t(s)}}));const r=me(e).readBufferSync(ye,n);return r?null:ArrayBuffer.from(r)}return super.readBufferSync(e,t)}readAsync(e){return ne(e)?new Promise((t,n)=>{me(e).read(ye,new org.nativescript.widgets.FileHelper.Callback({onSuccess(r){t(r)},onError(r){n(r)}}))}):super.readAsync(e)}readSync(e,t){if(ne(e)){let n=null;return typeof t=="function"&&(n=new org.nativescript.widgets.FileHelper.Callback({onSuccess(r){},onError(r){t(r)}})),me(e).readSync(ye,n)}return super.readSync(e,t)}writeTextAsync(e,t,n){return ne(e)?new Promise((r,s)=>{me(e).writeText(ye,t,n??null,new org.nativescript.widgets.FileHelper.Callback({onSuccess(a){r()},onError(a){s(a)}}))}):super.writeTextAsync(e,t,n)}writeTextSync(e,t,n,r){if(ne(e)){let s=null;typeof n=="function"&&(s=new org.nativescript.widgets.FileHelper.Callback({onSuccess(a){},onError(a){n(a)}})),me(e).writeTextSync(ye,t,r??null,s)}else super.writeTextSync(e,t,n)}writeBufferAsync(e,t){return ne(e)?new Promise((n,r)=>{me(e).writeBuffer(ye,ht.getBuffer(t),new org.nativescript.widgets.FileHelper.Callback({onSuccess(s){n()},onError(s){r(s)}}))}):super.writeAsync(e,t)}writeBufferSync(e,t,n){if(ne(e)){let r=null;typeof n=="function"&&(r=new org.nativescript.widgets.FileHelper.Callback({onSuccess(s){},onError(s){n(s)}})),me(e).writeSync(ye,ht.getBuffer(t),r)}else super.writeSync(e,t,n)}writeAsync(e,t){return ne(e)?new Promise((n,r)=>{me(e).write(ye,t,new org.nativescript.widgets.FileHelper.Callback({onSuccess(s){n()},onError(s){r(s)}}))}):super.writeAsync(e,t)}writeSync(e,t,n){if(ne(e)){let r=null;typeof n=="function"&&(r=new org.nativescript.widgets.FileHelper.Callback({onSuccess(s){},onError(s){n(s)}})),me(e).writeSync(ye,t,r)}else super.writeSync(e,t,n)}getFileExtension(e){return ne(e)?me(e).getExtension():super.getFileExtension(e)}getPathSeparator(){return super.getPathSeparator()}normalizePath(e){return super.normalizePath(e)}joinPath(e,t){return super.joinPath(e,t)}joinPaths(e){return super.joinPaths(e)}}let aa;function q(){return aa||(G>=29?aa=new I_:aa=new ht),aa}function _a(i){const e=new cn;return e._path=i.path,e._name=i.name,e._extension=i.extension,e}function ir(i){const e=We.documents();if(i.path===e.path)return e;const t=We.temp();if(i.path===t.path)return t;const n=new nr;return n._path=i.path,n._name=i.name,n}class Bg{get parent(){const e=function(n){throw n},t=q().getParent(this.path,e);if(t)return ir(t)}remove(){return new Promise((e,t)=>{let n=!1;const r=function(s){n=!0,t(s)};this.removeSync(r),n||e(!0)})}removeSync(e){if(this._isKnown){e&&e({message:"Cannot delete known folder."});return}const t=q();this instanceof cn?t.deleteFile(this.path,e):this instanceof nr&&t.deleteFolder(this.path,e)}rename(e){return new Promise((t,n)=>{let r=!1;const s=function(a){r=!0,n(a)};this.renameSync(e,s),r||t(!0)})}renameSync(e,t){if(this._isKnown){t&&t(new Error("Cannot rename known folder."));return}const n=function(c){return t&&t(c),null},r=q();if(r.__skip){r.rename(this.path,e,n);const c=q().getFile(this.path,null);c&&(this._name=c.name,this._extension=c.extension);return}const s=this.parent;if(!s){t&&t(new Error("No parent folder."));return}const a=s.path,o=r.joinPath(a,e);r.rename(this.path,o,n),this._path=o,this._name=e,this instanceof cn&&(this._extension=r.getFileExtension(o))}get name(){return this._name}get path(){return this._path}get lastModified(){return q().getLastModified(this.path)}}let Dc;function Mg(){return Dc||(Dc=x.android.getNativeApplication().getApplicationContext()),Dc}var it;(function(i){i.ALARMS="alarms",i.AUDIOBOOKS="audiobooks",i.DCIM="dcim",i.DOCUMENTS="documents",i.DOWNLOADS="downloads",i.MOVIES="movies",i.MUSIC="music",i.NOTIFICATIONS="notifications",i.PICTURES="pictures",i.PODCASTS="podcasts",i.RINGTONES="ringtones",i.SCREENSHOTS="screenshots"})(it||(it={}));function N_(i){switch(i){case it.ALARMS:return{path:android.os.Environment.DIRECTORY_ALARMS,column:android.provider.MediaStore.Audio.Media.EXTERNAL_CONTENT_URI};case it.AUDIOBOOKS:return{path:android.os.Environment.DIRECTORY_AUDIOBOOKS,column:android.provider.MediaStore.Audio.Media.EXTERNAL_CONTENT_URI};case it.DCIM:return{path:android.os.Environment.DIRECTORY_DCIM,column:android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI};case it.DOCUMENTS:return{path:android.os.Environment.DIRECTORY_DOCUMENTS,column:android.provider.MediaStore.Files.getContentUri("external")};case it.DOWNLOADS:return{path:android.os.Environment.DIRECTORY_DOWNLOADS,column:android.provider.MediaStore.Downloads.EXTERNAL_CONTENT_URI};case it.MOVIES:return{path:android.os.Environment.DIRECTORY_MOVIES,column:android.provider.MediaStore.Video.Media.EXTERNAL_CONTENT_URI};case it.MUSIC:return{path:android.os.Environment.DIRECTORY_MUSIC,column:android.provider.MediaStore.Audio.Media.EXTERNAL_CONTENT_URI};case it.NOTIFICATIONS:return{path:android.os.Environment.DIRECTORY_NOTIFICATIONS,column:android.provider.MediaStore.Audio.Media.EXTERNAL_CONTENT_URI};case it.PICTURES:return{path:android.os.Environment.DIRECTORY_PICTURES,column:android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI};case it.PODCASTS:return{path:android.os.Environment.DIRECTORY_PODCASTS,column:android.provider.MediaStore.Audio.Media.EXTERNAL_CONTENT_URI};case it.RINGTONES:return{path:android.os.Environment.DIRECTORY_RINGTONES,column:android.provider.MediaStore.Audio.Media.EXTERNAL_CONTENT_URI};case it.SCREENSHOTS:return{path:android.os.Environment.DIRECTORY_SCREENSHOTS,column:android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI};default:return null}}class L_{createFile(e){const t=Mg(),n=new android.content.ContentValues;n.put(android.provider.MediaStore.MediaColumns.DISPLAY_NAME,e.name),n.put(android.provider.MediaStore.MediaColumns.MIME_TYPE,e.mime);const r=N_(e.directory);if(G>=29){const a=e!=null&&e.relativePath?`/${e.relativePath}`:"";n.put(android.provider.MediaStore.MediaColumns.RELATIVE_PATH,`${r.path}${a}`)}else{const a=e!=null&&e.relativePath?`${e.relativePath}/`:"",o=android.os.Environment.getExternalStoragePublicDirectory(r.path),c=new java.io.File(o,`${a}${e.name}`);n.put(android.provider.MediaStore.MediaColumns.DATA,c.getAbsolutePath())}const s=t.getContentResolver().insert(r.column,n);return cn.fromPath(s.toString())}}const k_=new L_;class R_{}const F_=new R_;class cn extends Bg{static get ios(){return F_}static get android(){return k_}static fromPath(e,t=!1){const n=function(s){throw s};if(t&&e.startsWith("content:")){const s=q().getFile(e,n);if(s){const a=s.extension,o=`${s.name.replace(`.${a}`,"")}.${a}`,c=`${We.temp().path}/${o}`;q().copySync(e,c),e=c}else{const a=`${We.temp().path}/${java.util.UUID.randomUUID().toString()}`;org.nativescript.widgets.Async.File.copySync(e,a,Mg()),e=a}}const r=q().getFile(e,n);if(r)return _a(r)}static exists(e){return q().fileExists(e)}get extension(){return this._extension}get isLocked(){return!!this._locked}get size(){return q().getFileSize(this.path)}append(e){return new Promise((t,n)=>{try{this._checkAccess()}catch(r){n(r);return}this._locked=!0,q().appendAsync(this.path,e).then(()=>{t(),this._locked=!1},r=>{n(r),this._locked=!1})})}appendSync(e,t){this._checkAccess();try{this._locked=!0;const n=this,r=function(s){n._locked=!1,t&&t(s)};q().appendSync(this.path,e,r)}finally{this._locked=!1}}appendText(e,t){return new Promise((n,r)=>{try{this._checkAccess()}catch(s){r(s);return}this._locked=!0,q().appendTextAsync(this.path,e,t).then(()=>{n(!0),this._locked=!1},s=>{r(s),this._locked=!1})})}appendTextSync(e,t,n){this._checkAccess();try{this._locked=!0;const r=this,s=function(a){r._locked=!1,t&&t(a)};q().appendTextSync(this.path,e,s,n)}finally{this._locked=!1}}copy(e){return new Promise((t,n)=>{try{this._checkAccess()}catch(r){n(r);return}this._locked=!0,q().copyAsync(this.path,e).then(r=>{t(r),this._locked=!1},r=>{n(r),this._locked=!1})})}copySync(e,t){this._checkAccess(),this._locked=!0;const n=this,r=a=>{n._locked=!1,t&&t(a)},s=q().copySync(this.path,e,r);return this._locked=!1,s}read(){return new Promise((e,t)=>{try{this._checkAccess()}catch(n){t(n);return}this._locked=!0,q().readAsync(this.path).then(n=>{e(n),this._locked=!1},n=>{t(n),this._locked=!1})})}readSync(e){this._checkAccess(),this._locked=!0;const t=this,n=s=>{t._locked=!1,e&&e(s)},r=q().readSync(this.path,n);return this._locked=!1,r}write(e){return new Promise((t,n)=>{try{this._checkAccess()}catch(r){n(r);return}this._locked=!0,q().writeAsync(this.path,e).then(()=>{t(),this._locked=!1},r=>{n(r),this._locked=!1})})}writeSync(e,t){this._checkAccess();try{this._locked=!0;const n=this,r=function(s){n._locked=!1,t&&t(s)};q().writeSync(this.path,e,r)}finally{this._locked=!1}}readText(e){return new Promise((t,n)=>{try{this._checkAccess()}catch(r){n(r);return}this._locked=!0,q().readTextAsync(this.path,e).then(r=>{t(r),this._locked=!1},r=>{n(r),this._locked=!1})})}readTextSync(e,t){this._checkAccess(),this._locked=!0;const n=this,r=a=>{n._locked=!1,e&&e(a)},s=q().readTextSync(this.path,r,t);return this._locked=!1,s}writeText(e,t){return new Promise((n,r)=>{try{this._checkAccess()}catch(s){r(s);return}this._locked=!0,q().writeTextAsync(this.path,e,t).then(()=>{n(!0),this._locked=!1},s=>{r(s),this._locked=!1})})}writeTextSync(e,t,n){this._checkAccess();try{this._locked=!0;const r=this,s=function(a){r._locked=!1,t&&t(a)};q().writeTextSync(this.path,e,s,n)}finally{this._locked=!1}}_checkAccess(){if(this.isLocked)throw new Error("Cannot access a locked file.")}}class nr extends Bg{static fromPath(e){const t=function(r){throw r},n=q().getFolder(e,t);if(n)return ir(n)}static exists(e){return q().folderExists(e)}contains(e){const t=q(),n=t.joinPath(this.path,e);return t.fileExists(n)?!0:t.folderExists(n)}clear(){return new Promise((e,t)=>{let n=!1;const r=function(s){n=!0,t(s)};this.clearSync(r),n||e(!0)})}clearSync(e){q().emptyFolder(this.path,e)}get isKnown(){return this._isKnown}getFile(e){const t=q(),n=t.joinPath(this.path,e),r=function(a){throw a},s=t.getFile(n,r);if(s)return _a(s)}getFolder(e){const t=q(),n=t.joinPath(this.path,e),r=function(a){throw a},s=t.getFolder(n,r);if(s)return ir(s)}getEntities(){return new Promise((e,t)=>{let n=!1;const r=function(a){n=!0,t(a)},s=this.getEntitiesSync(r);n||e(s)})}getEntitiesSync(e){const t=q().getEntities(this.path,e);if(!t)return null;const n=new Array;for(let r=0;r<t.length;r++)t[r].extension?n.push(_a(t[r])):n.push(ir(t[r]));return n}eachEntity(e){if(!e)return;const t=function(r){let s;return r.extension?s=_a(r):s=ir(r),e(s)},n=function(r){throw r};q().eachEntity(this.path,t,n)}}var We;(function(i){let e,t,n,r;function s(){if(!e){const u=q().getDocumentsFolderPath();e=new nr,e._path=u,e._isKnown=!0}return e}i.documents=s;function a(){if(!t){const u=q().getExternalDocumentsFolderPath();t=new nr,t._path=u,t._isKnown=!0}return t}i.externalDocuments=a;function o(){if(!n){const u=q().getTempFolderPath();n=new nr,n._path=u,n._isKnown=!0}return n}i.temp=o;function c(){if(!r){const u=q().getCurrentAppPath();r=new nr,r._path=u,r._isKnown=!0}return r}i.currentApp=c,function(u){function d(M){throw new Error(`The "${M}" known folder is available on iOS only!`)}let h;function m(){if(d("library"),!h){const M=de(5);M&&(h=M.folder,h._path=M.path,h._isKnown=!0)}return h}u.library=m;let p;function g(){if(d("developer"),!p){const M=de(6);M&&(p=M.folder,p._path=M.path,p._isKnown=!0)}return p}u.developer=g;let v;function y(){if(d("desktop"),!v){const M=de(12);M&&(v=M.folder,v._path=M.path,v._isKnown=!0)}return v}u.desktop=y;let A;function P(){if(d("downloads"),!A){const M=de(15);M&&(A=M.folder,A._path=M.path,A._isKnown=!0)}return A}u.downloads=P;let I;function w(){if(d("movies"),!I){const M=de(17);M&&(I=M.folder,I._path=M.path,I._isKnown=!0)}return I}u.movies=w;let k;function F(){if(d("music"),!k){const M=de(18);M&&(k=M.folder,k._path=M.path,k._isKnown=!0)}return k}u.music=F;let H;function X(){if(d("pictures"),!H){const M=de(19);M&&(H=M.folder,H._path=M.path,H._isKnown=!0)}return H}u.pictures=X;let re;function ut(){if(d("sharedPublic"),!re){const M=de(21);M&&(re=M.folder,re._path=M.path,re._isKnown=!0)}return re}u.sharedPublic=ut;function de(M){const Le=q(),wi=Le.getKnownPath(M),Ht=Le.getExistingFolder(wi);if(Ht)return{folder:ir(Ht),path:wi}}}(i.ios||(i.ios={}))})(We||(We={}));var It;(function(i){function e(n){return q().normalizePath(n)}i.normalize=e;function t(...n){return q().joinPaths(n)}i.join=t,i.separator=q().getPathSeparator()})(It||(It={}));let Si;function O_(){Si||(Si=We.currentApp().path,Si=Si.substring(0,Si.length-4))}class Gt{constructor(e,t,n){O_(),e.length>Si.length&&e.substring(0,Si.length)===Si?this._uri="file://"+e.substring(Si.length):this._uri=e,this._line=t,this._column=n}get uri(){return this._uri}get line(){return this._line}get column(){return this._column}toString(){return this._uri+":"+this._line+":"+this._column}static get(e){return e[Gt._source]}static set(e,t){e[Gt._source]=t}}Gt._source=Symbol("source");class Ug extends Error{constructor(e,t){let n;t&&e.message?n=t+`
 > `+e.message.replace(`
`,`
  `):n=t||e.message||void 0,super(n),this.stack="Error: "+this.message+`
`+e.stack.substr(e.stack.indexOf(`
`)+1),this.message=n}}class D_ extends Ug{constructor(e,t,n){super(e,n?n+" @"+t:t+"")}}class T extends se{constructor(e){super(),this.unscopedCssVariables=new Map,this.scopedCssVariables=new Map,e.constructor.toString().indexOf("[native code]")!==-1?this.viewRef=e:this.viewRef=new WeakRef(e)}setScopedCssVariable(e,t){this.scopedCssVariables.set(e,t)}setUnscopedCssVariable(e,t){this.unscopedCssVariables.set(e,t)}removeScopedCssVariable(e){this.scopedCssVariables.delete(e)}removeUnscopedCssVariable(e){this.unscopedCssVariables.delete(e)}getCssVariable(e){const t=this.view;return t?this.unscopedCssVariables.has(e)?this.unscopedCssVariables.get(e):this.scopedCssVariables.has(e)?this.scopedCssVariables.get(e):!t.parent||!t.parent.style?null:t.parent.style.getCssVariable(e):null}resetScopedCssVariables(){this.scopedCssVariables.clear()}resetUnscopedCssVariables(){this.unscopedCssVariables.clear()}toString(){const e=this.viewRef.get();return e?`${e}.style`:(l.write('toString() of Style cannot execute correctly because ".viewRef" is cleared',l.categories.Animation,l.messageType.warn),"")}get view(){if(this.viewRef)return this.viewRef.get()}}T.prototype.PropertyBag=class{};const $a={};function C(i,e){return Array.isArray(i)?i.forEach(t=>$a[t.toLowerCase()]=e):$a[i.toLowerCase()]=e,e}function ff(i){if(i)return i.toLowerCase()in $a}function Wg(i){if(i)return $a[i.toLowerCase()]}C("Transparent",0);C("AliceBlue",4293982463);C("AntiqueWhite",4294634455);C("Aqua",4278255615);C("Aquamarine",4286578644);C("Azure",4293984255);C("Beige",4294309340);C("Bisque",4294960324);C("Black",4278190080);C("BlanchedAlmond",4294962125);C("Blue",4278190335);C("BlueViolet",4287245282);C("Brown",4289014314);C("BurlyWood",4292786311);C("CadetBlue",4284456608);C("Chartreuse",4286578432);C("Chocolate",4291979550);C("Coral",4294934352);C("CornflowerBlue",4284782061);C("Cornsilk",4294965468);C("Crimson",4292613180);C("Cyan",4278255615);C("DarkBlue",4278190219);C("DarkCyan",4278225803);C("DarkGoldenRod",4290283019);C(["DarkGray","DarkGrey"],4289309097);C("DarkGreen",4278215680);C("DarkKhaki",4290623339);C("DarkMagenta",4287299723);C("DarkOliveGreen",4283788079);C("DarkOrange",4294937600);C("DarkOrchid",4288230092);C("DarkRed",4287299584);C("DarkSalmon",4293498490);C("DarkSeaGreen",4287609999);C("DarkSlateBlue",4282924427);C(["DarkSlateGray","DarkSlateGrey"],4281290575);C("DarkTurquoise",4278243025);C("DarkViolet",4287889619);C("DeepPink",4294907027);C("DeepSkyBlue",4278239231);C(["DimGray","DimGrey"],4285098345);C("DodgerBlue",4280193279);C("FireBrick",4289864226);C("FloralWhite",4294966e3);C("ForestGreen",4280453922);C("Fuchsia",4294902015);C("Gainsboro",4292664540);C("GhostWhite",4294506751);C("Gold",4294956800);C("GoldenRod",4292519200);C(["Gray","Grey"],4286611584);C("Green",4278222848);C("GreenYellow",4289593135);C("HoneyDew",4293984240);C("HotPink",4294928820);C("IndianRed",4291648604);C("Indigo",4283105410);C("Ivory",4294967280);C("Khaki",4293977740);C("Lavender",4293322490);C("LavenderBlush",4294963445);C("LawnGreen",4286381056);C("LemonChiffon",4294965965);C("LightBlue",4289583334);C("LightCoral",4293951616);C("LightCyan",4292935679);C("LightGoldenRodYellow",4294638290);C(["LightGray","LightGrey"],4292072403);C("LightGreen",4287688336);C("LightPink",4294948545);C("LightSalmon",4294942842);C("LightSeaGreen",4280332970);C("LightSkyBlue",4287090426);C(["LightSlateGray","LightSlateGrey"],4286023833);C("LightSteelBlue",4289774814);C("LightYellow",4294967264);C("Lime",4278255360);C("LimeGreen",4281519410);C("Linen",4294635750);C("Magenta",4294902015);C("Maroon",4286578688);C("MediumAquaMarine",4284927402);C("MediumBlue",4278190285);C("MediumOrchid",4290401747);C("MediumPurple",4287852763);C("MediumSeaGreen",4282168177);C("MediumSlateBlue",4286277870);C("MediumSpringGreen",4278254234);C("MediumTurquoise",4282962380);C("MediumVioletRed",4291237253);C("MidnightBlue",4279834992);C("MintCream",4294311930);C("MistyRose",4294960353);C("Moccasin",4294960309);C("NavajoWhite",4294958765);C("Navy",4278190208);C("OldLace",4294833638);C("Olive",4286611456);C("OliveDrab",4285238819);C("Orange",4294944e3);C("OrangeRed",4294919424);C("Orchid",4292505814);C("PaleGoldenRod",4293847210);C("PaleGreen",4288215960);C("PaleTurquoise",4289720046);C("PaleVioletRed",4292571283);C("PapayaWhip",4294963157);C("PeachPuff",4294957753);C("Peru",4291659071);C("Pink",4294951115);C("Plum",4292714717);C("PowderBlue",4289781990);C("Purple",4286578816);C("RebeccaPurple",4284887961);C("Red",4294901760);C("RosyBrown",4290547599);C("RoyalBlue",4282477025);C("SaddleBrown",4287317267);C("Salmon",4294606962);C("SandyBrown",4294222944);C("SeaGreen",4281240407);C("SeaShell",4294964718);C("Sienna",4288696877);C("Silver",4290822336);C("SkyBlue",4287090411);C("SlateBlue",4285160141);C(["SlateGray","SlateGrey"],4285563024);C("Snow",4294966010);C("SpringGreen",4278255487);C("SteelBlue",4282811060);C("Tan",4291998860);C("Teal",4278222976);C("Thistle",4292394968);C("Tomato",4294927175);C("Turquoise",4282441936);C("Violet",4293821166);C("Wheat",4294303411);C("White",4294967295);C("WhiteSmoke",4294309365);C("Yellow",4294967040);C("YellowGreen",4288335154);const pf="#",B_=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)|(^#[0-9A-F]{4}$)/i;class M_{constructor(...e){if(e.length===1){const t=e[0];if(Be(t)){const n=t.toLowerCase();if(gf(n))this._argb=W_(n);else if(mf(n))this._argb=H_(n);else if(U_(n))this._argb=j_(n);else if(ff(n)){const r=Wg(n);this._name=t,this._argb=r}else if(t[0].charAt(0)===pf&&(t.length===4||t.length===5||t.length===7||t.length===9))this._argb=this._argbFromString(t);else throw new Error("Invalid color: "+t)}else if(Re(t))this._argb=t>>>0;else if(t&&t._argb)this._argb=t._argb>>>0;else throw new Error("Expected 1 or 4 constructor parameters.")}else if(e.length>=4){const t=e[0];switch(e[4]){case"hsl":{const{r:n,g:r,b:s}=Hg(e[1],e[2],e[3]);this._argb=(t&255)*16777216+(n&255)*65536+(r&255)*256+(s&255)*1;break}case"hsv":{const{r:n,g:r,b:s}=jg(e[1],e[2],e[3]);this._argb=(t&255)*16777216+(n&255)*65536+(r&255)*256+(s&255)*1;break}default:this._argb=(t&255)*16777216+(e[1]&255)*65536+(e[2]&255)*256+(e[3]&255)*1;break}}else throw new Error("Expected 1 or 4 constructor parameters.")}get a(){return this._argb/16777216&255}get r(){return this._argb/65536&255}get g(){return this._argb/256&255}get b(){return this._argb/1&255}get argb(){return this._argb}get hex(){let e=pf+("000000"+(this._argb&16777215).toString(16)).toUpperCase().slice(-6);return this.a!==255?e+=("00"+this.a.toString(16).toUpperCase()).slice(-2):e}get name(){return this._name}get ios(){}get android(){}_argbFromString(e){e=e.substring(1);const t=e.length;t===3?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:t===4&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);let n=parseInt(e,16);if(e.length===6)n=(n&16777215)+4278190080;else{const r=n/1&255;n=(n>>>8)+(r&255)*16777216}return n}equals(e){return e&&this.argb===e.argb}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}static isValid(e){if(e instanceof S)return!0;if(!Be(e))return!1;const t=e.toLowerCase();return ff(t)?!0:B_.test(e)||gf(t)||mf(t)}static fromHSL(e,t,n,r){return new S(e,t,n,r,"hsl")}static fromHSV(e,t,n,r){return new S(e,t,n,r,"hsv")}toString(){return this.hex}static fromIosColor(e){}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){return(this.r*299+this.g*587+this.b*114)/1e3}getLuminance(){let e,t,n;const r=this.r/255,s=this.g/255,a=this.b/255;return r<=.03928?e=r/12.92:e=Math.pow((r+.055)/1.055,2.4),s<=.03928?t=s/12.92:t=Math.pow((s+.055)/1.055,2.4),a<=.03928?n=a/12.92:n=Math.pow((a+.055)/1.055,2.4),.2126*e+.7152*t+.0722*n}setAlpha(e){return new S(e,this.r,this.g,this.b)}toHsl(){return{...Kn(this.r,this.g,this.b),a:this.a}}toHslString(){const e=Kn(this.r,this.g,this.b),t=Math.round(e.h),n=Math.round(e.s),r=Math.round(e.l),s=this.a;return s==255?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+(s/255).toFixed(2)+")"}toHsv(){return{...yf(this.r,this.g,this.b),a:this.a}}toHsvString(){const e=yf(this.r,this.g,this.b),t=Math.round(e.h*360),n=Math.round(e.s*100),r=Math.round(e.v*100),s=this.a;return s==255?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+(s/255).toFixed(2)+")"}toRgbString(){const e=this.a;return e==1?"rgb("+Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b)+")":"rgba("+Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b)+", "+(e/255).toFixed(2)+")"}desaturate(e){e=e===0?0:e||10;const t=Kn(this.r,this.g,this.b);return S.fromHSL(this.a,t.h,Math.min(100,Math.max(0,t.s-e)),t.l)}saturate(e){e=e===0?0:e||10;const t=Kn(this.r,this.g,this.b);return S.fromHSL(this.a,t.h,Math.min(100,Math.max(0,t.s+e)),t.l)}greyscale(){return this.desaturate(100)}lighten(e){e=e===0?0:e||10;const t=Kn(this.r,this.g,this.b);return S.fromHSL(this.a,t.h,t.s,Math.min(100,Math.max(0,t.l+e)))}brighten(e){e=e===0?0:e||10;const t=Math.max(0,Math.min(255,this.r-Math.round(255*-(e/100)))),n=Math.max(0,Math.min(255,this.g-Math.round(255*-(e/100)))),r=Math.max(0,Math.min(255,this.b-Math.round(255*-(e/100))));return new S(this.a,t,n,r)}darken(e){e=e===0?0:e||10;const t=Kn(this.r,this.g,this.b);return S.fromHSL(this.a,t.h,t.s,Math.min(100,Math.max(0,t.l-e)))}spin(e){const t=this.toHsl(),n=(t.h+e)%360;return t.h=n<0?360+n:n,S.fromHSL(this.a,t.h,t.s,t.l)}complement(){const e=this.toHsl();return e.h=(e.h+180)%360,S.fromHSL(this.a,e.h,e.s,e.l)}static mix(e,t,n=50){const r=n/100,s={r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b,a:(t.a-e.a)*r+e.a};return new S(s.a,s.r,s.g,s.b)}}function gf(i){return(i.startsWith("rgb(")||i.startsWith("rgba("))&&i.endsWith(")")}function mf(i){return(i.startsWith("hsl")||i.startsWith("hsla("))&&i.endsWith(")")}function U_(i){return(i.startsWith("hsv")||i.startsWith("hsva("))&&i.endsWith(")")}function Jd(i){const e=i.indexOf(",")!==-1?",":" ",t=i.replace(/(rgb|hsl|hsv)a?\(/,"").replace(")","").replace(/\//," ").replace(/%/g,"").split(e).filter(o=>!!o.length);let n=255,r=255,s=255,a=255;return t[0]&&(n=parseFloat(t[0].trim())),t[1]&&(r=parseFloat(t[1].trim())),t[2]&&(s=parseFloat(t[2].trim())),t[3]&&(a=Math.round(parseFloat(t[3].trim())*255)),{f:n,s:r,t:s,a}}function W_(i){const{f:e,s:t,t:n,a:r}=Jd(i);return(r&255)*16777216+(e&255)*65536+(t&255)*256+(n&255)}function H_(i){const{f:e,s:t,t:n,a:r}=Jd(i),{r:s,g:a,b:o}=Hg(e,t,n);return(r&255)*16777216+(s&255)*65536+(a&255)*256+(o&255)}function j_(i){const{f:e,s:t,t:n,a:r}=Jd(i),{r:s,g:a,b:o}=jg(e,t,n);return(r&255)*16777216+(s&255)*65536+(a&255)*256+(o&255)}function Kn(i,e,t){i/=255,e/=255,t/=255;const n=Math.max(i,e,t),r=Math.min(i,e,t);let s,a;const o=(n+r)/2;if(n==r)s=a=0;else{const c=n-r;switch(a=o>.5?c/(2-n-r):c/(n+r),n){case i:s=(e-t)/c+(e<t?6:0);break;case e:s=(t-i)/c+2;break;case t:s=(i-e)/c+4;break}s/=6}return{h:s*360,s:a*100,l:o*100}}function Bc(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function Hg(i,e,t){const n=i%360/360,r=e/100,s=t/100;let a,o,c;if(r===0)a=o=c=s;else{const u=s<.5?s*(1+r):s+r-s*r,d=2*s-u;a=Bc(d,u,n+1/3),o=Bc(d,u,n),c=Bc(d,u,n-1/3)}return{r:Math.round(a*255),g:Math.round(o*255),b:Math.round(c*255)}}function yf(i,e,t){i/=255,e/=255,t/=255;const n=Math.max(i,e,t),r=Math.min(i,e,t);let s;const a=n,o=n-r,c=n===0?0:o/n;if(n==r)s=0;else{switch(n){case i:s=(e-t)/o+(e<t?6:0);break;case e:s=(t-i)/o+2;break;case t:s=(i-e)/o+4;break}s/=6}return{h:s*360,s:c*100,v:a*100}}function jg(i,e,t){const n=i%360/360*6,r=e/100,s=t/100,a=Math.floor(n),o=n-a,c=s*(1-r),u=s*(1-o*r),d=s*(1-(1-o)*r),h=a%6,m=[s,u,c,c,d,s][h],p=[d,s,s,u,c,c][h],g=[c,c,d,s,s,u][h];return{r:m*255,g:p*255,b:g*255}}class S extends M_{get android(){return this.argb>>0}}let $g=class{get isItalic(){return this.fontStyle===Di.ITALIC}get isBold(){return this.fontWeight===he.SEMI_BOLD||this.fontWeight===he.BOLD||this.fontWeight==="700"||this.fontWeight===he.EXTRA_BOLD||this.fontWeight===he.BLACK}constructor(e,t,n,r,s,a){this.fontFamily=e,this.fontSize=t,this.fontVariationSettings=a,this.fontStyle=n??Di.NORMAL,this.fontWeight=r??he.NORMAL,this.fontScale=s??1}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontStyle===t.fontStyle&&e.fontWeight===t.fontWeight&&e.fontScale===t.fontScale&&ln.toString(e.fontVariationSettings)===ln.toString(t.fontVariationSettings)}};$g.default=void 0;var Di;(function(i){i.NORMAL="normal",i.ITALIC="italic",i.isValid=pe(i.NORMAL,i.ITALIC),i.parse=ge(i.isValid)})(Di||(Di={}));var he;(function(i){i.THIN="100",i.EXTRA_LIGHT="200",i.LIGHT="300",i.NORMAL="normal",i.MEDIUM="500",i.SEMI_BOLD="600",i.BOLD="bold",i.EXTRA_BOLD="800",i.BLACK="900",i.isValid=pe(i.THIN,i.EXTRA_LIGHT,i.LIGHT,i.NORMAL,"400",i.MEDIUM,i.SEMI_BOLD,i.BOLD,"700",i.EXTRA_BOLD,i.BLACK),i.parse=ge(i.isValid)})(he||(he={}));var ln;(function(i){function e(n){if(!n)return null;const r=["normal","inherit","initial","revert","revert-layer","unset"],s=n.trim();if(r.indexOf(s.toLowerCase())!==-1)return null;const a=s.split(",");if(a.length){const o=[];for(const c of a){const d=c.trim().split(" ");if(d.length===2){const h=d[0].trim(),m=parseFloat(d[1]);if(!isNaN(m)&&h.length===6&&(h.startsWith("'")&&h.endsWith("'")||h.startsWith('"')&&h.endsWith('"'))){const p=h.substring(1,h.length-1);o.push({axis:p,value:m})}else l.write("Invalid value (font-variation-settings): "+s,l.categories.Error,l.messageType.error)}else l.write("Invalid value (font-variation-settings): "+s,l.categories.Error,l.messageType.error)}return o}l.write("Invalid value (font-variation-settings): "+s,l.categories.Error,l.messageType.error)}i.parse=e;function t(n){return n!=null&&n.length?n.map(({axis:r,value:s})=>`'${r}' ${s}`).join(", "):null}i.toString=t})(ln||(ln={}));function $_(i){return i?i.split(",").map(e=>(e||"").trim().replace(/['"]+/g,"")).filter(e=>!!e):[]}var rr;(function(i){i.serif="serif",i.sansSerif="sans-serif",i.monospace="monospace",i.system="system"})(rr||(rr={}));const Gg=new Set;[Di.NORMAL,Di.ITALIC].forEach((i,e,t)=>Gg.add(i));const zg=new Set;[he.THIN,he.EXTRA_LIGHT,he.LIGHT,he.NORMAL,"400",he.MEDIUM,he.SEMI_BOLD,he.BOLD,"700",he.EXTRA_BOLD,he.BLACK].forEach((i,e,t)=>zg.add(i));function G_(i){const e={fontStyle:"normal",fontVariant:"normal",fontWeight:"normal"},t=i.split(/\s+/);let n;for(;n=t.shift();)if(n!=="normal")if(n==="small-caps")e.fontVariant=n;else if(Gg.has(n))e.fontStyle=n;else if(zg.has(n))e.fontWeight=n;else if(e.fontSize){e.fontFamily=n,t.length&&(e.fontFamily+=" "+t.join(" "));break}else{const r=n.split("/");e.fontSize=r[0],e.lineHeight=r.length>1?r[1]:void 0}return e}const vf="/fonts/",wf=new Map;let Mc;class ie extends $g{withFontFamily(e){return new ie(e,this.fontSize,this.fontStyle,this.fontWeight,1,this.fontVariationSettings)}withFontStyle(e){return new ie(this.fontFamily,this.fontSize,e,this.fontWeight,1,this.fontVariationSettings)}withFontWeight(e){return new ie(this.fontFamily,this.fontSize,this.fontStyle,e,1,this.fontVariationSettings)}withFontSize(e){return new ie(this.fontFamily,e,this.fontStyle,this.fontWeight,1,this.fontVariationSettings)}withFontScale(e){return new ie(this.fontFamily,this.fontSize,this.fontStyle,this.fontWeight,1,this.fontVariationSettings)}withFontVariationSettings(e){return new ie(this.fontFamily,this.fontSize,this.fontStyle,this.fontWeight,1,e)}getAndroidTypeface(){return this._typeface||(this._typeface=X_(this)),this._typeface}getUIFont(e){}}ie.default=new ie(void 0,void 0);function z_(i,e){return[i,String(ln.toString(e.fontVariationSettings)).replace(/'/g,"").replace(/[\s,]/g,"_")].join(":")}function q_(i,e){var r;const t=G>=26?z_(i,e):i;if(Mc=Mc||Ue.getApplicationContext().getAssets(),!Mc)return null;let n=wf.get(t);if(n===void 0){n=null;let s;const a=It.join(We.currentApp().path,"fonts",i);if(cn.exists(a+".ttf")?s=vf+i+".ttf":cn.exists(a+".otf")?s=vf+i+".otf":l.isEnabled()&&l.write("Could not find font file for "+i,l.categories.Error,l.messageType.error),s)try{if(s=It.join(We.currentApp().path,s),G>=26){const o=new android.graphics.Typeface.Builder(s);o?(o.setFontVariationSettings((r=e.fontVariationSettings)!=null&&r.length?ln.toString(e.fontVariationSettings):""),n=o.build()):(n=android.graphics.Typeface.createFromFile(s),l.isEnabled()&&l.write("Could not create builder for "+i,l.categories.Error,l.messageType.error))}else n=android.graphics.Typeface.createFromFile(s)}catch{l.isEnabled()&&l.write("Error loading font asset: "+s,l.categories.Error,l.messageType.error)}wf.set(t,n)}return n}function X_(i){let e=0;i.isBold&&(e|=android.graphics.Typeface.BOLD),i.isItalic&&(e|=android.graphics.Typeface.ITALIC);const t=$_(i.fontFamily);let n=null;for(const r of t){switch(r.toLowerCase()){case rr.serif:n=android.graphics.Typeface.create("serif"+oa(i.fontWeight),e);break;case rr.sansSerif:case rr.system:n=android.graphics.Typeface.create("sans-serif"+oa(i.fontWeight),e);break;case rr.monospace:n=android.graphics.Typeface.create("monospace"+oa(i.fontWeight),e);break;default:{n=q_(r,i),n&&e&&(n=android.graphics.Typeface.create(n,e));break}}if(n)break}return n||(n=android.graphics.Typeface.create("sans-serif"+oa(i.fontWeight),e)),n}function oa(i){switch(typeof i=="number"&&(i=i+""),i){case he.THIN:return G>=16?"-thin":"";case he.EXTRA_LIGHT:case he.LIGHT:return G>=16?"-light":"";case he.NORMAL:case"400":case void 0:case null:return"";case he.MEDIUM:case he.SEMI_BOLD:return G>=21?"-medium":"";case he.BOLD:case"700":case he.EXTRA_BOLD:return"";case he.BLACK:return G>=21?"-black":"";default:throw new Error(`Invalid font weight: "${i}"`)}}class At{static parse(e){const t=new At;return t.angle=e.angle,t.colorStops=e.colors.map(n=>{const r=n.offset||null;let s;return r&&r.unit==="%"&&(s={unit:"%",value:r.value}),{color:n.color,offset:s}}),t}static equals(e,t){if(!e&&!t)return!0;if(!e||!t||e.angle!==t.angle||e.colorStops.length!==t.colorStops.length)return!1;for(let n=0;n<e.colorStops.length;n++){const r=e.colorStops[n],s=t.colorStops[n];if(r.offset!==s.offset||!S.equals(r.color,s.color))return!1}return!0}}var Uc={},_f;function Y_(){if(_f)return Uc;_f=1,Uc.parse=i;function i(t){return new e(t).parse()}function e(t){this.str=t}return e.prototype.skip=function(t){this.str=this.str.slice(t[0].length)},e.prototype.comma=function(){var t=/^, */.exec(this.str);if(t)return this.skip(t),{type:"comma",string:","}},e.prototype.ident=function(){var t=/^([\w-]+) */.exec(this.str);if(t)return this.skip(t),{type:"ident",string:t[1]}},e.prototype.int=function(){var t=/^(([-\+]?\d+)(\S+)?) */.exec(this.str);if(t){this.skip(t);var n=~~t[2],r=t[3];return{type:"number",string:t[1],unit:r||"",value:n}}},e.prototype.float=function(){var t=/^(((?:[-\+]?\d+)?\.\d+)(\S+)?) */.exec(this.str);if(t){this.skip(t);var n=parseFloat(t[2]),r=t[3];return{type:"number",string:t[1],unit:r||"",value:n}}},e.prototype.number=function(){return this.float()||this.int()},e.prototype.double=function(){var t=/^"([^"]*)" */.exec(this.str);return t&&(this.skip(t),{type:"string",quote:'"',string:'"'+t[1]+'"',value:t[1]})},e.prototype.single=function(){var t=/^'([^']*)' */.exec(this.str);return t&&(this.skip(t),{type:"string",quote:"'",string:"'"+t[1]+"'",value:t[1]})},e.prototype.string=function(){return this.single()||this.double()},e.prototype.value=function(){return this.number()||this.ident()||this.string()||this.comma()},e.prototype.parse=function(){for(var t=[];this.str.length;){var n=this.value();if(!n)throw new Error("failed to parse near `"+this.str.slice(0,10)+"...`");t.push(n)}return t},Uc}var K_=Y_();class On{constructor(){this.borderTopWidth=0,this.borderRightWidth=0,this.borderBottomWidth=0,this.borderLeftWidth=0,this.borderTopLeftRadius=0,this.borderTopRightRadius=0,this.borderBottomLeftRadius=0,this.borderBottomRightRadius=0,this.clearFlags=0}clone(){const e=new On;return e.color=this.color,e.image=this.image,e.repeat=this.repeat,e.position=this.position,e.size=this.size,e.borderTopColor=this.borderTopColor,e.borderRightColor=this.borderRightColor,e.borderBottomColor=this.borderBottomColor,e.borderLeftColor=this.borderLeftColor,e.borderTopWidth=this.borderTopWidth,e.borderRightWidth=this.borderRightWidth,e.borderBottomWidth=this.borderBottomWidth,e.borderLeftWidth=this.borderLeftWidth,e.borderTopLeftRadius=this.borderTopLeftRadius,e.borderTopRightRadius=this.borderTopRightRadius,e.borderBottomRightRadius=this.borderBottomRightRadius,e.borderBottomLeftRadius=this.borderBottomLeftRadius,e.clipPath=this.clipPath,e.boxShadow=this.boxShadow,e.clearFlags=this.clearFlags,e}withColor(e){const t=this.clone();return t.color=e,e||(t.clearFlags|=1),t}withImage(e){const t=this.clone();return t.image=e,t}withRepeat(e){const t=this.clone();return t.repeat=e,t}withPosition(e){const t=this.clone();return t.position=e,t}withSize(e){const t=this.clone();return t.size=e,t}withBorderTopColor(e){const t=this.clone();return t.borderTopColor=e,t}withBorderRightColor(e){const t=this.clone();return t.borderRightColor=e,t}withBorderBottomColor(e){const t=this.clone();return t.borderBottomColor=e,t}withBorderLeftColor(e){const t=this.clone();return t.borderLeftColor=e,t}withBorderTopWidth(e){const t=this.clone();return t.borderTopWidth=e,t}withBorderRightWidth(e){const t=this.clone();return t.borderRightWidth=e,t}withBorderBottomWidth(e){const t=this.clone();return t.borderBottomWidth=e,t}withBorderLeftWidth(e){const t=this.clone();return t.borderLeftWidth=e,t}withBorderTopLeftRadius(e){const t=this.clone();return t.borderTopLeftRadius=e,t}withBorderTopRightRadius(e){const t=this.clone();return t.borderTopRightRadius=e,t}withBorderBottomRightRadius(e){const t=this.clone();return t.borderBottomRightRadius=e,t}withBorderBottomLeftRadius(e){const t=this.clone();return t.borderBottomLeftRadius=e,t}withClipPath(e){const t=this.clone();return t.clipPath=e,t}withBoxShadow(e){const t=this.clone();return t.boxShadow=e,e||(t.clearFlags|=2),t}isEmpty(){return!this.color&&!this.image&&!this.hasBorderWidth()&&!this.hasBorderRadius()&&!this.clipPath}static equals(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;let n=!1;return e instanceof At&&t instanceof At?n=At.equals(e,t):n=e.image===t.image,S.equals(e.color,t.color)&&n&&e.position===t.position&&e.repeat===t.repeat&&e.size===t.size&&S.equals(e.borderTopColor,t.borderTopColor)&&S.equals(e.borderRightColor,t.borderRightColor)&&S.equals(e.borderBottomColor,t.borderBottomColor)&&S.equals(e.borderLeftColor,t.borderLeftColor)&&e.borderTopWidth===t.borderTopWidth&&e.borderRightWidth===t.borderRightWidth&&e.borderBottomWidth===t.borderBottomWidth&&e.borderLeftWidth===t.borderLeftWidth&&e.borderTopLeftRadius===t.borderTopLeftRadius&&e.borderTopRightRadius===t.borderTopRightRadius&&e.borderBottomRightRadius===t.borderBottomRightRadius&&e.borderBottomLeftRadius===t.borderBottomLeftRadius&&e.clipPath===t.clipPath}hasBorderColor(){return!!this.borderTopColor||!!this.borderRightColor||!!this.borderBottomColor||!!this.borderLeftColor}hasBorderWidth(){return this.borderTopWidth>0||this.borderRightWidth>0||this.borderBottomWidth>0||this.borderLeftWidth>0}hasBorderRadius(){return this.borderTopLeftRadius>0||this.borderTopRightRadius>0||this.borderBottomRightRadius>0||this.borderBottomLeftRadius>0}hasBorder(){return this.hasBorderColor()&&this.hasBorderWidth()||this.hasBorderRadius()}hasUniformBorderColor(){return S.equals(this.borderTopColor,this.borderRightColor)&&S.equals(this.borderTopColor,this.borderBottomColor)&&S.equals(this.borderTopColor,this.borderLeftColor)}hasUniformBorderWidth(){return this.borderTopWidth===this.borderRightWidth&&this.borderTopWidth===this.borderBottomWidth&&this.borderTopWidth===this.borderLeftWidth}hasUniformBorderRadius(){return this.borderTopLeftRadius===this.borderTopRightRadius&&this.borderTopLeftRadius===this.borderBottomRightRadius&&this.borderTopLeftRadius===this.borderBottomLeftRadius}hasUniformBorder(){return this.hasUniformBorderColor()&&this.hasUniformBorderWidth()&&this.hasUniformBorderRadius()}getUniformBorderColor(){if(this.hasUniformBorderColor())return this.borderTopColor}getUniformBorderWidth(){return this.hasUniformBorderWidth()?this.borderTopWidth:0}getUniformBorderRadius(){return this.hasUniformBorderRadius()?this.borderTopLeftRadius:0}hasBoxShadow(){return!!this.boxShadow}getBoxShadow(){return this.boxShadow}toString(){return`isEmpty: ${this.isEmpty()}; color: ${this.color}; image: ${this.image}; repeat: ${this.repeat}; position: ${this.position}; size: ${this.size}; borderTopColor: ${this.borderTopColor}; borderRightColor: ${this.borderRightColor}; borderBottomColor: ${this.borderBottomColor}; borderLeftColor: ${this.borderLeftColor}; borderTopWidth: ${this.borderTopWidth}; borderRightWidth: ${this.borderRightWidth}; borderBottomWidth: ${this.borderBottomWidth}; borderLeftWidth: ${this.borderLeftWidth}; borderTopLeftRadius: ${this.borderTopLeftRadius}; borderTopRightRadius: ${this.borderTopRightRadius}; borderBottomRightRadius: ${this.borderBottomRightRadius}; borderBottomLeftRadius: ${this.borderBottomLeftRadius}; clipPath: ${this.clipPath};`}}On.default=new On;function Q_(i){const e=android.util.Base64.decode(i,android.util.Base64.DEFAULT);return android.graphics.BitmapFactory.decodeByteArray(e,0,e.length)}function Z_(i){const e=Array.create("int",i.colorStops.length),t=Array.create("float",i.colorStops.length);let n=!1;i.colorStops.forEach((u,d)=>{e[d]=u.color.android,u.offset&&(t[d]=u.offset.value,n=!0)});const r=i.angle/(Math.PI*2),s=Math.pow(Math.sin(Math.PI*(r+.75)),2),a=Math.pow(Math.sin(Math.PI*(r+.5)),2),o=Math.pow(Math.sin(Math.PI*(r+.25)),2),c=Math.pow(Math.sin(Math.PI*r),2);return new org.nativescript.widgets.LinearGradientDefinition(s,a,o,c,e,n?t:null)}const J_=/url\(('|")(.*?)\1\)/;function Cf(i,e){const n=i.nativeViewProtected.getContext(),r=i.style.backgroundInternal;if(r){const s=bf(r.position),a=bf(r.size),o=-16777216;let c;if(r.image&&typeof r.image=="string"&&r.image!=="none"){c=r.image;const h=c.match(J_);h&&h[2]&&(c=h[2])}let u=null;if(jd(c)){const h=c.split(",")[1];h!==void 0&&(u=Q_(h),c=null)}else if(Ko(c)&&c.indexOf(Yt)!==0){let h=c;h.indexOf("~/")===0&&(h=It.join(We.currentApp().path,h.replace("~/",""))),c=Sv+h}let d=null;r.image&&r.image instanceof At&&(d=Z_(r.image)),e.refresh(r.borderTopColor?r.borderTopColor.android:o,r.borderRightColor?r.borderRightColor.android:o,r.borderBottomColor?r.borderBottomColor.android:o,r.borderLeftColor?r.borderLeftColor.android:o,r.borderTopWidth,r.borderRightWidth,r.borderBottomWidth,r.borderLeftWidth,r.borderTopLeftRadius,r.borderTopRightRadius,r.borderBottomRightRadius,r.borderBottomLeftRadius,r.clipPath,r.color?r.color.android:0,c,u,d,n,r.repeat,r.position,s,r.size,a)}}function bf(i){if(!i)return null;const e=K_.parse(i),t=Array.create(org.nativescript.widgets.CSSValue,e.length);for(let n=0,r=e.length;n<r;n++)t[n]=new org.nativescript.widgets.CSSValue(e[n].type,e[n].string,e[n].unit,e[n].value);return t}var ys;(function(i){i[i.none=0]="none",i[i.memory=1]="memory",i[i.diskAndMemory=2]="diskAndMemory"})(ys||(ys={}));let xf,Xt;function eC(i,e=ys.diskAndMemory,t=.25,n=10*1024*1024){if(xf===e)return;xf=e,Xt?Xt.clearCache():Xt=org.nativescript.widgets.image.Fetcher.getInstance(i);const r=new org.nativescript.widgets.image.Cache.CacheParams;r.memoryCacheEnabled=e!==ys.none,r.setMemCacheSizePercent(t),r.diskCacheEnabled=e===ys.diskAndMemory,r.diskCacheSize=n;const s=org.nativescript.widgets.image.Cache.getInstance(r);Xt.addImageCache(s),Xt.initCache()}function tC(i){Xt&&Xt.clearCache()}global.NativeScriptGlobals.events.on("livesync",tC);global.NativeScriptGlobals.addEventWiring(()=>{x.android.on("activityStarted",i=>{Xt?Xt.initCache():eC(i.activity)})});global.NativeScriptGlobals.addEventWiring(()=>{x.android.on("activityStopped",i=>{Xt&&Xt.closeCache()})});const qg=i=>i*(180/Math.PI),iC=i=>i*(Math.PI/180),nC=({property:i,value:e})=>rC[i](e),rC={scale:({x:i,y:e})=>[i,0,0,0,e,0,0,0,1],translate:({x:i,y:e})=>[1,0,i,0,1,e,0,0,1],rotate:({x:i,y:e,z:t})=>{const n=iC(t),r=Math.cos(n),s=Math.sin(n);return[r,-s,0,s,r,0,0,0,1]}},sC=i=>[i[0],i[3],i[1],i[4],i[2],i[5]];function aC(i,e){return[i[0]*e[0]+i[1]*e[3],i[0]*e[1]+i[1]*e[4],i[0]*e[2]+i[1]*e[5]+i[2],i[3]*e[0]+i[4]*e[3],i[3]*e[1]+i[4]*e[4],i[3]*e[2]+i[4]*e[5]+i[5]]}function oC(i){cC(i);const[e,t,n,r,s,a]=[...i],o=e*r-t*n,c={x:s||0,y:a||0};let u=0,d={x:1,y:1};if(e||t){const h=Math.sqrt(e*e+t*t);u=t>0?Math.acos(e/h):-Math.acos(e/h),d={x:h,y:o/h}}else if(n||r){const h=Math.sqrt(n*n+r*r);u=Math.PI/2-(r>0?Math.acos(-n/h):-Math.acos(n/h)),d={x:o/h,y:h}}return u=qg(u),{translate:c,rotate:{x:0,y:0,z:u},scale:d}}function cC(i){if(i.length<6)throw new Error("Transform matrix should be 2x3.")}const Wc=/\s*url\((?:(['"])([^\1]*)\1|([^)]*))\)\s*/gy;function lC(i,e=0){Wc.lastIndex=e;const t=Wc.exec(i);if(!t)return null;const n=Wc.lastIndex,r=t[2]||t[3];return{start:e,end:n,value:r}}const Hc=/\s*#((?:[0-9A-F]{8})|(?:[0-9A-F]{6})|(?:[0-9A-F]{4})|(?:[0-9A-F]{3}))\s*/giy;function uC(i,e=0){Hc.lastIndex=e;const t=Hc.exec(i);if(!t)return null;const n=Hc.lastIndex;return{start:e,end:n,value:new S("#"+t[1])}}const jc=/\s*((?:rgb|rgba|hsl|hsla|hsv|hsva)\([^\(\)]*\))/gy;function dC(i,e=0){jc.lastIndex=e;const t=jc.exec(i);if(!t)return null;const n=jc.lastIndex;try{return{start:e,end:n,value:new S(t[1])}}catch{return null}}function hC(i,e,t=Dn(i,e)){const n=t&&Wg(t.value);if(n!=null){const r=t.end;return{start:e,end:r,value:new S(n)}}return null}function Xg(i,e=0,t=Dn(i,e)){return uC(i,e)||hC(i,e,t)||dC(i,e)}const $c=/\s*([a-z][\w\-]*)\s*/giy;function Dn(i,e=0){$c.lastIndex=e;const t=$c.exec(i);if(!t)return null;const n=$c.lastIndex,r=t[1];return{start:e,end:n,value:r}}const fC=new Set(["repeat","repeat-x","repeat-y","no-repeat"]);function pC(i,e=0,t=Dn(i,e)){if(t&&fC.has(t.value)){const n=t.end,r=t.value;return{start:e,end:n,value:r}}return null}const Gc=/\s*([+\-]?(?:\d+\.\d+|\d+|\.\d+)(?:[eE][+\-]?\d+)?)([a-zA-Z]+|%)?\s*/gy;function Yg(i,e=0){Gc.lastIndex=e;const t=Gc.exec(i);if(!t)return null;const n=Gc.lastIndex,r=parseFloat(t[1]),s=t[2]||"dip";return{start:e,end:n,value:{value:r,unit:s}}}function Tn(i,e=0){const t=Yg(i,e);if(t){const{start:n,end:r}=t,s=t.value;if(s.unit==="%")s.value/=100;else if(!s.unit)s.unit="dip";else if(!(s.unit==="px"||s.unit==="dip"))return null;return{start:n,end:r,value:s}}return null}const gC={deg:(i,e,t)=>({start:i,end:e,value:t/180*Math.PI}),rad:(i,e,t)=>({start:i,end:e,value:t}),grad:(i,e,t)=>({start:i,end:e,value:t/200*Math.PI}),turn:(i,e,t)=>({start:i,end:e,value:t*Math.PI*2})};function mC(i,e=0){const t=Yg(i,e);if(t){const{start:n,end:r,value:s}=t;return(gC[s.unit]||((a,o,c)=>null))(n,r,s.value)}return null}const yC=new Set(["auto","contain","cover"]);function vC(i,e=0,t=Dn(i,e)){let n=e;if(t&&yC.has(t.value)){n=t.end;const s=t.value;return{start:e,end:n,value:s}}const r=Tn(i,n);if(r){n=r.end;const s=Tn(i,r.end);return s?(n=s.end,{start:e,end:n,value:{x:r.value,y:s.value}}):{start:e,end:n,value:{x:r.value,y:"auto"}}}return null}const Sf=Object.freeze(new Set(["left","right","top","bottom","center"])),Tf={left:"x",right:"x",center:"center",top:"y",bottom:"y"};function wC(i,e=0,t=Dn(i,e)){function n(a,o){return a.value==="center"?"center":o&&o.value.value!==0?{align:a.value,offset:o.value}:a.value}function r(a,o){return a.value==="center"?"center":o&&o.value.value!==0?{align:a.value,offset:o.value}:a.value}let s=e;if(t&&Sf.has(t.value)){s=t.end;const a=Tf[t.value],o=a!=="center"&&Tn(i,s);o&&(s=o.end);const c=Dn(i,s);if(c&&Sf.has(c.value)){s=c.end;const u=Tf[c.end];if(a===u&&a!=="center")return null;const d=u!=="center"&&Tn(i,s);return d&&(s=d.end),a===u&&u==="center"||a==="x"||u==="y"?{start:e,end:s,value:{x:n(t,o),y:r(c,d)}}:{start:e,end:s,value:{x:n(c,d),y:r(t,o)}}}else return a==="center"?{start:e,end:s,value:{x:"center",y:"center"}}:a==="x"?{start:e,end:s,value:{x:n(t,o),y:"center"}}:{start:e,end:s,value:{x:"center",y:r(t,o)}}}else{const a=Tn(i,s);if(a){s=a.end;const o=Tn(i,s);return o?(s=o.end,{start:e,end:s,value:{x:{align:"left",offset:a.value},y:{align:"top",offset:o.value}}}):{start:e,end:s,value:{x:{align:"left",offset:a.value},y:"center"}}}else return null}}const zc=/\s*to\s*(left|right|top|bottom)\s*(left|right|top|bottom)?\s*/gy,_C={top:Math.PI*0/2,right:Math.PI*1/2,bottom:Math.PI*2/2,left:Math.PI*3/2},CC={top:{right:Math.PI*1/4,left:Math.PI*7/4},right:{top:Math.PI*1/4,bottom:Math.PI*3/4},bottom:{right:Math.PI*3/4,left:Math.PI*5/4},left:{top:Math.PI*7/4,bottom:Math.PI*5/4}};function bC(i,e=0){zc.lastIndex=e;const t=zc.exec(i);if(!t)return null;const n=zc.lastIndex,r=t[1];if(t[2]){const s=t[2],a=CC[r][s];return a===void 0?null:{start:e,end:n,value:a}}else return{start:e,end:n,value:_C[r]}}const qc=/\s*\(\s*/gy,Ef=/\s*\)\s*/gy,Xc=/\s*([),])\s*/gy;function xC(i,e,t){if(qc.lastIndex=e,!qc.exec(i))return null;let r=qc.lastIndex;const s=[];if(Ef.lastIndex=r,Ef.exec(i))return{start:e,end:r,value:s};for(let o=0;;o++){const c=t(i,r,o);if(!c)return null;r=c.end,s.push(c),Xc.lastIndex=r;const u=Xc.exec(i);if(u){if(r=Xc.lastIndex,u[1]===",")continue;if(u[1]===")")return{start:e,end:r,value:s}}else return null}}function SC(i,e=0){const t=Xg(i,e);if(!t)return null;let n=t.end;const r=Tn(i,n);return r?(n=r.end,{start:e,end:n,value:{color:t.value,offset:r.value}}):{start:e,end:n,value:{color:t.value}}}const Yc=/\s*linear-gradient\s*/gy;function Kg(i,e=0){if(Yc.lastIndex=e,!Yc.exec(i))return null;let n=Yc.lastIndex,r=Math.PI;const s=[],a=xC(i,n,(o,c,u)=>{if(u===0){const h=mC(o,c)||bC(o,c);if(h)return r=h.value,h}const d=SC(o,c);return d?(s.push(d.value),d):null});return a?(n=a.end,{start:e,end:n,value:{angle:r,colors:s}}):null}const Kc=/\s*(\/)\s*/gy;function TC(i,e){if(Kc.lastIndex=e,!Kc.exec(i))return null;const n=Kc.lastIndex;return{start:e,end:n,value:"/"}}function Qg(i,e=0){const t={};let n=e;for(;n<i.length;){const r=Dn(i,n),s=Xg(i,n,r);if(s){t.color=s.value,n=s.end;continue}const a=pC(i,n,r);if(a){t.repeat=a.value,n=a.end;continue}const o=wC(i,n,r);if(o){o.value.text=i.substring(o.start,o.end),t.position=o.value,n=o.end;const d=TC(i,n);if(d){n=d.end;const h=vC(i,n);if(!h)return null;t.size=h.value,n=h.end}continue}const c=lC(i,n);if(c){t.image=c.value,n=c.end;continue}const u=Kg(i,n);if(u){t.image=u.value,n=u.end;continue}return null}return{start:e,end:n,value:t}}function Zg(i,e){if(typeof i!="string")return""+i;const t=i==null?void 0:i.indexOf("!important");return t>=0?(l.isEnabled()&&l.write(`The !important css rule is currently not supported. Property: ${e}`,l.categories.Style,l.messageType.warn),i.substring(0,t).trim()):i}const EC=/\s(?![^(]*\))/,PC=/^-?[0-9]+[a-zA-Z%]*?$/,Pf=i=>i==="0"||PC.test(i);function Jg(i){const e=i.trim().split(EC),t=e[0];if(["","none","unset"].includes(t))return null;{const n=["inset","unset"],r=e.includes("inset"),s=e[e.length-1];let a="black";t&&!Pf(t)&&!n.includes(t)?a=t:s&&!Pf(s)&&!n.includes(s)&&(a=s);const o=e.filter(c=>!n.includes(c)).filter(c=>c!==a).map(c=>{try{return _.parse(c)}catch{return E.zeroLength}});return{inset:r,color:a,values:o}}}function eh(i){const e=Jg(i);if(!e)return null;const[t,n,r,s]=e.values;return{inset:e.inset,offsetX:t,offsetY:n,blurRadius:r,spreadRadius:s,color:e.color?new S(e.color):void 0}}function em(i,e){return i=="auto"?e=="auto":typeof i=="number"?e=="auto"?!1:typeof e=="number"?i==e:e?e.unit=="dip"&&i==e.value:!1:e=="auto"?!1:typeof e=="number"?i?i.unit=="dip"&&i.value==e:!1:!i||!e?!1:i.value==e.value&&i.unit==e.unit}function tm(i){if(i=="auto")return"auto";if(typeof i=="number")return i.toString();let e=i.value;return i.unit==="%"&&(e*=100),e+i.unit}function im(i,e=Number.NaN,t=Number.NaN){if(i=="auto")return e;if(typeof i=="number")return V.round(V.toDevicePixels(i));if(!i)return e;switch(i.unit){case"px":return V.round(i.value);case"%":return V.round(t*i.value);case"dip":default:return V.round(V.toDevicePixels(i.value))}}var fe;(function(i){function e(t){if(t=="auto")return"auto";if(typeof t=="string"){let n=t.trim();const r=n.indexOf("%");if(r!==-1){let s;if(r!==n.length-1||r===0?s=Number.NaN:s=parseFloat(n.substring(0,n.length-1).trim())/100,isNaN(s)||!isFinite(s))throw new Error(`Invalid value: ${t}`);return{unit:"%",value:s}}else if(n.indexOf("px")!==-1){n=n.replace("px","").trim();const s=parseFloat(n);if(isNaN(s)||!isFinite(s))throw new Error(`Invalid value: ${t}`);return{unit:"px",value:s}}else{const s=parseFloat(n);if(isNaN(s)||!isFinite(s))throw new Error(`Invalid value: ${t}`);return s}}else return t}i.parse=e,i.equals=em,i.toDevicePixels=im,i.convertToString=tm})(fe||(fe={}));var _;(function(i){function e(t){if(t=="auto")return"auto";if(typeof t=="string"){let n=t.trim();if(n.indexOf("px")!==-1){n=n.replace("px","").trim();const r=parseFloat(n);if(isNaN(r)||!isFinite(r))throw new Error(`Invalid value: ${n}`);return{unit:"px",value:r}}else{const r=parseFloat(n);if(isNaN(r)||!isFinite(r))throw new Error(`Invalid value: ${n}`);return r}}else return t}i.parse=e,i.equals=em,i.toDevicePixels=im,i.convertToString=tm})(_||(_={}));const rc=new R({name:"minWidth",cssName:"min-width",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueChanged:(i,e,t)=>{const n=i.viewRef.get();n?n.effectiveMinWidth=_.toDevicePixels(t,0):l.write(`${t} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn)},valueConverter:_.parse});rc.register(T);const sc=new R({name:"minHeight",cssName:"min-height",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueChanged:(i,e,t)=>{const n=i.viewRef.get();n?n.effectiveMinHeight=_.toDevicePixels(t,0):l.write(`${t} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn)},valueConverter:_.parse});sc.register(T);const Cr=new Ne({name:"width",cssName:"width",defaultValue:"auto",equalityComparer:_.equals,valueChanged:(i,e,t)=>{},valueConverter:fe.parse});Cr.register(T);const br=new Ne({name:"height",cssName:"height",defaultValue:"auto",equalityComparer:_.equals,valueChanged:(i,e,t)=>{},valueConverter:fe.parse});br.register(T);const VC=new Bt({name:"margin",cssName:"margin",getter:function(){return fe.equals(this.marginTop,this.marginRight)&&fe.equals(this.marginTop,this.marginBottom)&&fe.equals(this.marginTop,this.marginLeft)?this.marginTop:`${fe.convertToString(this.marginTop)} ${fe.convertToString(this.marginRight)} ${fe.convertToString(this.marginBottom)} ${fe.convertToString(this.marginLeft)}`},converter:IC});VC.register(T);const Ts=new R({name:"marginLeft",cssName:"margin-left",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueConverter:fe.parse});Ts.register(T);const Es=new R({name:"marginRight",cssName:"margin-right",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueConverter:fe.parse});Es.register(T);const Ps=new R({name:"marginTop",cssName:"margin-top",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueConverter:fe.parse});Ps.register(T);const Vs=new R({name:"marginBottom",cssName:"margin-bottom",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueConverter:fe.parse});Vs.register(T);const AC=new Bt({name:"padding",cssName:"padding",getter:function(){return _.equals(this.paddingTop,this.paddingRight)&&_.equals(this.paddingTop,this.paddingBottom)&&_.equals(this.paddingTop,this.paddingLeft)?this.paddingTop:`${_.convertToString(this.paddingTop)} ${_.convertToString(this.paddingRight)} ${_.convertToString(this.paddingBottom)} ${_.convertToString(this.paddingLeft)}`},converter:NC});AC.register(T);const Lt=new R({name:"paddingLeft",cssName:"padding-left",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueChanged:(i,e,t)=>{const n=i.viewRef.get();n?n.effectivePaddingLeft=_.toDevicePixels(t,0):l.write(`${t} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn)},valueConverter:_.parse});Lt.register(T);const kt=new R({name:"paddingRight",cssName:"padding-right",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueChanged:(i,e,t)=>{const n=i.viewRef.get();n?n.effectivePaddingRight=_.toDevicePixels(t,0):l.write(`${t} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn)},valueConverter:_.parse});kt.register(T);const Rt=new R({name:"paddingTop",cssName:"padding-top",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueChanged:(i,e,t)=>{const n=i.viewRef.get();n?n.effectivePaddingTop=_.toDevicePixels(t,0):l.write(`${t} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn)},valueConverter:_.parse});Rt.register(T);const Ft=new R({name:"paddingBottom",cssName:"padding-bottom",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueChanged:(i,e,t)=>{const n=i.viewRef.get();n?n.effectivePaddingBottom=_.toDevicePixels(t,0):l.write(`${t} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn)},valueConverter:_.parse});Ft.register(T);const Ii=new R({name:"horizontalAlignment",cssName:"horizontal-align",defaultValue:E.HorizontalAlignment.stretch,affectsLayout:!1,valueConverter:E.HorizontalAlignment.parse});Ii.register(T);const Ni=new R({name:"verticalAlignment",cssName:"vertical-align",defaultValue:E.VerticalAlignmentText.stretch,affectsLayout:!1,valueConverter:E.VerticalAlignmentText.parse});Ni.register(T);function ac(i){if(typeof i=="string"){const e=i.split(/[ ,]+/);let t,n,r,s;if(e.length===1)t=e[0],n=e[0],r=e[0],s=e[0];else if(e.length===2)t=e[0],r=e[0],n=e[1],s=e[1];else if(e.length===3)t=e[0],n=e[1],s=e[1],r=e[2];else if(e.length===4)t=e[0],n=e[1],r=e[2],s=e[3];else throw new Error("Expected 1, 2, 3 or 4 parameters. Actual: "+i);return{top:t,right:n,bottom:r,left:s}}else return i}function IC(i){if(typeof i=="string"&&i!=="auto"){const e=ac(i);return[[Ps,fe.parse(e.top)],[Es,fe.parse(e.right)],[Vs,fe.parse(e.bottom)],[Ts,fe.parse(e.left)]]}else return[[Ps,i],[Es,i],[Vs,i],[Ts,i]]}function NC(i){if(typeof i=="string"&&i!=="auto"){const e=ac(i);return[[Rt,_.parse(e.top)],[kt,_.parse(e.right)],[Ft,_.parse(e.bottom)],[Lt,_.parse(e.left)]]}else return[[Rt,i],[kt,i],[Ft,i],[Lt,i]]}const _t=new Ne({name:"rotate",cssName:"rotate",defaultValue:0,valueConverter:parseFloat});_t.register(T);const zt=new Ne({name:"rotateX",cssName:"rotatex",defaultValue:0,valueConverter:parseFloat});zt.register(T);const qt=new Ne({name:"rotateY",cssName:"rotatey",defaultValue:0,valueConverter:parseFloat});qt.register(T);const th=new Ne({name:"perspective",cssName:"perspective",defaultValue:1e3,valueConverter:parseFloat});th.register(T);const Ct=new Ne({name:"scaleX",cssName:"scaleX",defaultValue:1,valueConverter:parseFloat});Ct.register(T);const bt=new Ne({name:"scaleY",cssName:"scaleY",defaultValue:1,valueConverter:parseFloat});bt.register(T);function nm(i){return i.indexOf("px")!==-1?V.toDeviceIndependentPixels(parseFloat(i.replace("px","").trim())):parseFloat(i.replace("dip","").trim())}const xt=new Ne({name:"translateX",cssName:"translateX",defaultValue:0,valueConverter:nm});xt.register(T);const St=new Ne({name:"translateY",cssName:"translateY",defaultValue:0,valueConverter:nm});St.register(T);const LC=new Bt({name:"transform",cssName:"transform",getter:function(){const i=this.scaleX,e=this.scaleY,t=this.translateX,n=this.translateY,r=this.rotate,s=this.rotateX,a=this.rotateY;let o="";return(t!==0||n!==0)&&(o+=`translate(${t}, ${n}) `),(i!==1||e!==1)&&(o+=`scale(${i}, ${e}) `),(s!==0||a!==0||r!==0)&&(o+=`rotate(${s}, ${a}, ${r}) `,o+=`rotate (${r})`),o.trim()},converter:OC});LC.register(T);const dt={translate:{x:0,y:0},rotate:{x:0,y:0,z:0},scale:{x:1,y:1}},kC=new RegExp(/\s*(.+?)\((.*?)\)/g),RC=Object.freeze(["rotate","rotateX","rotateY","rotate3d","translate","translate3d","translateX","translateY","scale","scale3d","scaleX","scaleY"]),FC=Object.freeze({scale:i=>({property:"scale",value:i}),scale3d:i=>({property:"scale",value:i}),scaleX:({x:i})=>({property:"scale",value:{x:i,y:dt.scale.y}}),scaleY:({y:i})=>({property:"scale",value:{y:i,x:dt.scale.x}}),translate:i=>({property:"translate",value:i}),translate3d:i=>({property:"translate",value:i}),translateX:({x:i})=>({property:"translate",value:{x:i,y:dt.translate.y}}),translateY:({y:i})=>({property:"translate",value:{y:i,x:dt.translate.x}}),rotate3d:i=>({property:"rotate",value:i}),rotateX:i=>({property:"rotate",value:{x:i,y:dt.rotate.y,z:dt.rotate.z}}),rotateY:i=>({property:"rotate",value:{x:dt.rotate.x,y:i,z:dt.rotate.z}}),rotate:i=>({property:"rotate",value:{x:dt.rotate.x,y:dt.rotate.y,z:i}})});function OC(i){i===D&&(i="none");const{translate:e,rotate:t,scale:n}=ih(i);return[[xt,e.x],[St,e.y],[Ct,n.x],[bt,n.y],[_t,t.z],[zt,t.x],[qt,t.y]]}function ih(i){const e=DC(i);if(i==="none"||i===""||!e.length)return dt;const t=e.map(s=>s.property);if(!Pv(t)){const s={...dt};return e.forEach(a=>{s[a.property]=a.value}),s}const n=e.map(nC).reduce(aC),r=sC(n);return oC(r)}function DC(i){const e=[];let t;for(;(t=kC.exec(i))!==null;){const n=t[1],r=MC(n,t[2]);RC.indexOf(n)!==-1&&e.push(BC({property:n,value:r}))}return e}function BC({property:i,value:e}){return FC[i](e)}function MC(i,e){let[t,n,r]=e.split(",").map(parseFloat);return i==="translate"?n??(n=dt.translate.y):(n??(n=t),r??(r=n)),i==="rotate"||i==="rotateX"||i==="rotateY"?e.slice(-3)==="rad"?qg(t):t:{x:t,y:n,z:r}}const UC=new Bt({name:"background",cssName:"background",getter:function(){return`${this.backgroundColor} ${this.backgroundImage} ${this.backgroundRepeat} ${this.backgroundPosition}`},converter:WC});UC.register(T);const Ot=new R({name:"backgroundInternal",cssName:"_backgroundInternal",defaultValue:On.default});Ot.register(T);const Ga=new R({name:"backgroundImage",cssName:"background-image",valueChanged:(i,e,t)=>{i.backgroundInternal=i.backgroundInternal.withImage(t)},equalityComparer:(i,e)=>i instanceof At&&e instanceof At?At.equals(i,e):i===e,valueConverter:i=>{if(typeof i=="string"){const e=Qg(i);e&&(i=typeof e.value.image=="object"?At.parse(e.value.image):i)}return i}});Ga.register(T);const we=new Ne({name:"backgroundColor",cssName:"background-color",valueChanged:(i,e,t)=>{i.backgroundInternal=i.backgroundInternal.withColor(t)},equalityComparer:S.equals,valueConverter:i=>new S(i)});we.register(T);const za=new R({name:"backgroundRepeat",cssName:"background-repeat",valueConverter:E.BackgroundRepeat.parse,valueChanged:(i,e,t)=>{i.backgroundInternal=i.backgroundInternal.withRepeat(t)}});za.register(T);const rm=new R({name:"backgroundSize",cssName:"background-size",valueChanged:(i,e,t)=>{i.backgroundInternal=i.backgroundInternal.withSize(t)}});rm.register(T);const qa=new R({name:"backgroundPosition",cssName:"background-position",valueChanged:(i,e,t)=>{i.backgroundInternal=i.backgroundInternal.withPosition(t)}});qa.register(T);function WC(i){if(typeof i=="string"){const e=Qg(i).value;let t=D;e.color&&(t=e.color instanceof S?e.color:new S(e.color));let n;typeof e.image=="object"&&e.image?n=At.parse(e.image):n=e.image||D;const r=e.repeat||D,s=e.position?e.position.text:D;return[[we,t],[Ga,n],[za,r],[qa,s]]}else return[[we,D],[Ga,D],[za,D],[qa,D]]}function HC(i){const e={top:void 0,right:void 0,bottom:void 0,left:void 0};if(i.indexOf("rgb")===0||i.indexOf("hsl")===0)return e.top=e.right=e.bottom=e.left=new S(i),e;const t=i.split(/[ ,]+/);if(t.length===1){const n=new S(t[0]);e.top=n,e.right=n,e.bottom=n,e.left=n}else if(t.length===2){const n=new S(t[0]),r=new S(t[1]);e.top=n,e.right=r,e.bottom=n,e.left=r}else if(t.length===3){const n=new S(t[0]),r=new S(t[1]),s=new S(t[2]);e.top=n,e.right=r,e.bottom=s,e.left=r}else if(t.length===4){const n=new S(t[0]),r=new S(t[1]),s=new S(t[2]),a=new S(t[3]);e.top=n,e.right=r,e.bottom=s,e.left=a}else throw new Error(`Expected 1, 2, 3 or 4 parameters. Actual: ${i}`);return e}const jC=new Bt({name:"borderColor",cssName:"border-color",getter:function(){return S.equals(this.borderTopColor,this.borderRightColor)&&S.equals(this.borderTopColor,this.borderBottomColor)&&S.equals(this.borderTopColor,this.borderLeftColor)?this.borderTopColor:`${this.borderTopColor} ${this.borderRightColor} ${this.borderBottomColor} ${this.borderLeftColor}`},converter:function(i){if(typeof i=="string"){const e=HC(i);return[[Xa,e.top],[Ya,e.right],[Ka,e.bottom],[Qa,e.left]]}else return[[Xa,i],[Ya,i],[Ka,i],[Qa,i]]}});jC.register(T);const Xa=new R({name:"borderTopColor",cssName:"border-top-color",valueChanged:(i,e,t)=>{i.backgroundInternal=i.backgroundInternal.withBorderTopColor(t)},equalityComparer:S.equals,valueConverter:i=>new S(i)});Xa.register(T);const Ya=new R({name:"borderRightColor",cssName:"border-right-color",valueChanged:(i,e,t)=>{i.backgroundInternal=i.backgroundInternal.withBorderRightColor(t)},equalityComparer:S.equals,valueConverter:i=>new S(i)});Ya.register(T);const Ka=new R({name:"borderBottomColor",cssName:"border-bottom-color",valueChanged:(i,e,t)=>{i.backgroundInternal=i.backgroundInternal.withBorderBottomColor(t)},equalityComparer:S.equals,valueConverter:i=>new S(i)});Ka.register(T);const Qa=new R({name:"borderLeftColor",cssName:"border-left-color",valueChanged:(i,e,t)=>{i.backgroundInternal=i.backgroundInternal.withBorderLeftColor(t)},equalityComparer:S.equals,valueConverter:i=>new S(i)});Qa.register(T);const $C=new Bt({name:"borderWidth",cssName:"border-width",getter:function(){return _.equals(this.borderTopWidth,this.borderRightWidth)&&_.equals(this.borderTopWidth,this.borderBottomWidth)&&_.equals(this.borderTopWidth,this.borderLeftWidth)?this.borderTopWidth:`${_.convertToString(this.borderTopWidth)} ${_.convertToString(this.borderRightWidth)} ${_.convertToString(this.borderBottomWidth)} ${_.convertToString(this.borderLeftWidth)}`},converter:function(i){if(typeof i=="string"&&i!=="auto"){const e=ac(i);return[[Za,e.top],[Ja,e.right],[eo,e.bottom],[to,e.left]]}else return[[Za,i],[Ja,i],[eo,i],[to,i]]}});$C.register(T);const Za=new R({name:"borderTopWidth",cssName:"border-top-width",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueChanged:(i,e,t)=>{const n=_.toDevicePixels(t,0);if(!gn(n))throw new Error(`border-top-width should be Non-Negative Finite number. Value: ${n}`);const r=i.viewRef.get();r?r.effectiveBorderTopWidth=n:l.write(`${t} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn),i.backgroundInternal=i.backgroundInternal.withBorderTopWidth(n)},valueConverter:_.parse});Za.register(T);const Ja=new R({name:"borderRightWidth",cssName:"border-right-width",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueChanged:(i,e,t)=>{const n=_.toDevicePixels(t,0);if(!gn(n))throw new Error(`border-right-width should be Non-Negative Finite number. Value: ${n}`);const r=i.viewRef.get();r?r.effectiveBorderRightWidth=n:l.write(`${t} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn),i.backgroundInternal=i.backgroundInternal.withBorderRightWidth(n)},valueConverter:_.parse});Ja.register(T);const eo=new R({name:"borderBottomWidth",cssName:"border-bottom-width",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueChanged:(i,e,t)=>{const n=_.toDevicePixels(t,0);if(!gn(n))throw new Error(`border-bottom-width should be Non-Negative Finite number. Value: ${n}`);const r=i.viewRef.get();r?r.effectiveBorderBottomWidth=n:l.write(`${t} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn),i.backgroundInternal=i.backgroundInternal.withBorderBottomWidth(n)},valueConverter:_.parse});eo.register(T);const to=new R({name:"borderLeftWidth",cssName:"border-left-width",defaultValue:E.zeroLength,affectsLayout:!1,equalityComparer:_.equals,valueChanged:(i,e,t)=>{const n=_.toDevicePixels(t,0);if(!gn(n))throw new Error(`border-left-width should be Non-Negative Finite number. Value: ${n}`);const r=i.viewRef.get();r?r.effectiveBorderLeftWidth=n:l.write(`${t} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn),i.backgroundInternal=i.backgroundInternal.withBorderLeftWidth(n)},valueConverter:_.parse});to.register(T);const GC=new Bt({name:"borderRadius",cssName:"border-radius",getter:function(){return _.equals(this.borderTopLeftRadius,this.borderTopRightRadius)&&_.equals(this.borderTopLeftRadius,this.borderBottomRightRadius)&&_.equals(this.borderTopLeftRadius,this.borderBottomLeftRadius)?this.borderTopLeftRadius:`${_.convertToString(this.borderTopLeftRadius)} ${_.convertToString(this.borderTopRightRadius)} ${_.convertToString(this.borderBottomRightRadius)} ${_.convertToString(this.borderBottomLeftRadius)}`},converter:function(i){if(typeof i=="string"){const e=ac(i);return[[io,e.top],[no,e.right],[ro,e.bottom],[so,e.left]]}else return[[io,i],[no,i],[ro,i],[so,i]]}});GC.register(T);const io=new R({name:"borderTopLeftRadius",cssName:"border-top-left-radius",defaultValue:0,affectsLayout:!1,valueChanged:(i,e,t)=>{const n=_.toDevicePixels(t,0);if(!gn(n))throw new Error(`border-top-left-radius should be Non-Negative Finite number. Value: ${n}`);i.backgroundInternal=i.backgroundInternal.withBorderTopLeftRadius(n)},valueConverter:_.parse,equalityComparer:_.equals});io.register(T);const no=new R({name:"borderTopRightRadius",cssName:"border-top-right-radius",defaultValue:0,affectsLayout:!1,valueChanged:(i,e,t)=>{const n=_.toDevicePixels(t,0);if(!gn(n))throw new Error(`border-top-right-radius should be Non-Negative Finite number. Value: ${n}`);i.backgroundInternal=i.backgroundInternal.withBorderTopRightRadius(n)},valueConverter:_.parse,equalityComparer:_.equals});no.register(T);const ro=new R({name:"borderBottomRightRadius",cssName:"border-bottom-right-radius",defaultValue:0,affectsLayout:!1,valueChanged:(i,e,t)=>{const n=_.toDevicePixels(t,0);if(!gn(n))throw new Error(`border-bottom-right-radius should be Non-Negative Finite number. Value: ${n}`);i.backgroundInternal=i.backgroundInternal.withBorderBottomRightRadius(n)},valueConverter:_.parse,equalityComparer:_.equals});ro.register(T);const so=new R({name:"borderBottomLeftRadius",cssName:"border-bottom-left-radius",defaultValue:0,affectsLayout:!1,valueChanged:(i,e,t)=>{const n=_.toDevicePixels(t,0);if(!gn(n))throw new Error(`border-bottom-left-radius should be Non-Negative Finite number. Value: ${n}`);i.backgroundInternal=i.backgroundInternal.withBorderBottomLeftRadius(n)},valueConverter:_.parse,equalityComparer:_.equals});so.register(T);const zC=new R({name:"boxShadow",cssName:"box-shadow",valueChanged:(i,e,t)=>{i.backgroundInternal=i.backgroundInternal.withBoxShadow(t?{inset:t.inset,offsetX:_.toDevicePixels(t.offsetX,0),offsetY:_.toDevicePixels(t.offsetY,0),blurRadius:_.toDevicePixels(t.blurRadius,0),spreadRadius:_.toDevicePixels(t.spreadRadius,0),color:t.color}:null)},valueConverter:i=>eh(i)});zC.register(T);function gn(i){return isFinite(i)&&!isNaN(i)&&i>=0}const qC=["rect","circle","ellipse","polygon","inset"];function XC(i){if(!i)return!0;const e=i.substring(0,i.indexOf("(")).trim();return qC.indexOf(e)!==-1}const sm=new R({name:"clipPath",cssName:"clip-path",valueChanged:(i,e,t)=>{if(!XC(t))throw new Error("clip-path is not valid.");i.backgroundInternal=i.backgroundInternal.withClipPath(t)}});sm.register(T);function YC(i){const e=parseFloat(i);if(isNaN(e))throw new Error(`Invalid value: ${e}`);return e}const As=new R({name:"zIndex",cssName:"z-index",valueConverter:YC});As.register(T);function KC(i){const e=parseFloat(i);if(!isNaN(e)&&0<=e&&e<=1)return e;throw new Error(`Opacity should be between [0, 1]. Value: ${e}`)}const Tt=new Ne({name:"opacity",cssName:"opacity",defaultValue:1,valueConverter:KC});Tt.register(T);const Te=new He({name:"color",cssName:"color",equalityComparer:S.equals,valueConverter:i=>new S(i)});Te.register(T);const Dt=new R({name:"fontInternal",cssName:"_fontInternal"});Dt.register(T);const ao=new He({name:"fontFamily",cssName:"font-family",affectsLayout:!1,valueChanged:(i,e,t)=>{const n=i.fontInternal||ie.default;if(n.fontFamily!==t){const r=n.withFontFamily(t);i.fontInternal=ie.equals(ie.default,r)?D:r}}});ao.register(T);const am=new He({name:"fontScaleInternal",cssName:"_fontScaleInternal",defaultValue:1,valueConverter:i=>parseFloat(i)});am.register(T);const ct=new He({name:"fontSize",cssName:"font-size",affectsLayout:!1,valueChanged:(i,e,t)=>{if(i.viewRef.handleFontSize===!0)return;const n=i.fontInternal||ie.default;if(n.fontSize!==t){const r=n.withFontSize(t);i.fontInternal=ie.equals(ie.default,r)?D:r}},valueConverter:i=>parseFloat(i)});ct.register(T);const oo=new He({name:"fontStyle",cssName:"font-style",affectsLayout:!1,defaultValue:Di.NORMAL,valueConverter:Di.parse,valueChanged:(i,e,t)=>{const n=i.fontInternal||ie.default;if(n.fontStyle!==t){const r=n.withFontStyle(t);i.fontInternal=ie.equals(ie.default,r)?D:r}}});oo.register(T);const co=new He({name:"fontWeight",cssName:"font-weight",affectsLayout:!1,defaultValue:he.NORMAL,valueConverter:he.parse,valueChanged:(i,e,t)=>{const n=i.fontInternal||ie.default;if(n.fontWeight!==t){const r=n.withFontWeight(t);i.fontInternal=ie.equals(ie.default,r)?D:r}}});co.register(T);const QC=new Bt({name:"font",cssName:"font",getter:function(){return`${this.fontStyle} ${this.fontWeight} ${this.fontSize} ${this.fontFamily}`},converter:function(i){if(i===D)return[[oo,D],[co,D],[ct,D],[ao,D]];{const e=G_(i),t=parseFloat(e.fontSize);return[[oo,e.fontStyle],[co,e.fontWeight],[ct,t],[ao,e.fontFamily]]}}});QC.register(T);const om=new He({name:"fontVariationSettings",cssName:"font-variation-settings",affectsLayout:!1,valueChanged:(i,e,t)=>{const n=i.fontInternal||ie.default;if(n.fontVariationSettings!==t){const r=n.withFontVariationSettings(t);i.fontInternal=ie.equals(ie.default,r)?D:r}},valueConverter:i=>ln.parse(i)});om.register(T);const xr=new R({name:"visibility",cssName:"visibility",defaultValue:E.Visibility.visible,affectsLayout:!1,valueConverter:E.Visibility.parse,valueChanged:(i,e,t)=>{const n=i.viewRef.get();n?n.isCollapsed=t===E.Visibility.collapse:l.write(`${t} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn)}});xr.register(T);const lo=new R({name:"androidElevation",cssName:"android-elevation",valueConverter:parseFloat});lo.register(T);const uo=new R({name:"androidDynamicElevationOffset",cssName:"android-dynamic-elevation-offset",valueConverter:parseFloat});uo.register(T);var Ce;(function(i){i.Attribute="attribute",i.Pseudo="pseudo",i.PseudoElement="pseudo-element",i.Tag="tag",i.Universal="universal",i.Adjacent="adjacent",i.Child="child",i.Descendant="descendant",i.Parent="parent",i.Sibling="sibling",i.ColumnCombinator="column-combinator"})(Ce||(Ce={}));var Et;(function(i){i.Any="any",i.Element="element",i.End="end",i.Equals="equals",i.Exists="exists",i.Hyphen="hyphen",i.Not="not",i.Start="start"})(Et||(Et={}));const Vf=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,ZC=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,JC=new Map([[126,Et.Element],[94,Et.Start],[36,Et.End],[42,Et.Any],[33,Et.Not],[124,Et.Hyphen]]),eb=new Set(["has","not","matches","is","where","host","host-context"]);function tb(i){switch(i.type){case Ce.Adjacent:case Ce.Child:case Ce.Descendant:case Ce.Parent:case Ce.Sibling:case Ce.ColumnCombinator:return!0;default:return!1}}const ib=new Set(["contains","icontains"]);function nb(i,e,t){const n=parseInt(e,16)-65536;return n!==n||t?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)}function Yr(i){return i.replace(ZC,nb)}function Qc(i){return i===39||i===34}function Af(i){return i===32||i===9||i===10||i===12||i===13}function rb(i){const e=[],t=cm(e,`${i}`,0);if(t<i.length)throw new Error(`Unmatched selector: ${i.slice(t)}`);return e}function cm(i,e,t){let n=[];function r(m){const p=e.slice(t+m).match(Vf);if(!p)throw new Error(`Expected name, found ${e.slice(t)}`);const[g]=p;return t+=m+g.length,Yr(g)}function s(m){for(t+=m;t<e.length&&Af(e.charCodeAt(t));)t++}function a(){t+=1;const m=t;let p=1;for(;p>0&&t<e.length;t++)e.charCodeAt(t)===40&&!o(t)?p++:e.charCodeAt(t)===41&&!o(t)&&p--;if(p)throw new Error("Parenthesis not matched");return Yr(e.slice(m,t-1))}function o(m){let p=0;for(;e.charCodeAt(--m)===92;)p++;return(p&1)===1}function c(){if(n.length>0&&tb(n[n.length-1]))throw new Error("Did not expect successive traversals.")}function u(m){if(n.length>0&&n[n.length-1].type===Ce.Descendant){n[n.length-1].type=m;return}c(),n.push({type:m})}function d(m,p){n.push({type:Ce.Attribute,name:m,action:p,value:r(1),namespace:null,ignoreCase:"quirks"})}function h(){if(n.length&&n[n.length-1].type===Ce.Descendant&&n.pop(),n.length===0)throw new Error("Empty sub-selector");i.push(n)}if(s(0),e.length===t)return t;e:for(;t<e.length;){const m=e.charCodeAt(t);switch(m){case 32:case 9:case 10:case 12:case 13:{(n.length===0||n[0].type!==Ce.Descendant)&&(c(),n.push({type:Ce.Descendant})),s(1);break}case 62:{u(Ce.Child),s(1);break}case 60:{u(Ce.Parent),s(1);break}case 126:{u(Ce.Sibling),s(1);break}case 43:{u(Ce.Adjacent),s(1);break}case 46:{d("class",Et.Element);break}case 35:{d("id",Et.Equals);break}case 91:{s(1);let p,g=null;e.charCodeAt(t)===124?p=r(1):e.startsWith("*|",t)?(g="*",p=r(2)):(p=r(0),e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==61&&(g=p,p=r(1))),s(0);let v=Et.Exists;const y=JC.get(e.charCodeAt(t));if(y){if(v=y,e.charCodeAt(t+1)!==61)throw new Error("Expected `=`");s(2)}else e.charCodeAt(t)===61&&(v=Et.Equals,s(1));let A="",P=null;if(v!=="exists"){if(Qc(e.charCodeAt(t))){const k=e.charCodeAt(t);let F=t+1;for(;F<e.length&&(e.charCodeAt(F)!==k||o(F));)F+=1;if(e.charCodeAt(F)!==k)throw new Error("Attribute value didn't end");A=Yr(e.slice(t+1,F)),t=F+1}else{const k=t;for(;t<e.length&&(!Af(e.charCodeAt(t))&&e.charCodeAt(t)!==93||o(t));)t+=1;A=Yr(e.slice(k,t))}s(0);const w=e.charCodeAt(t)|32;w===115?(P=!1,s(1)):w===105&&(P=!0,s(1))}if(e.charCodeAt(t)!==93)throw new Error("Attribute selector didn't terminate");t+=1;const I={type:Ce.Attribute,name:p,action:v,value:A,namespace:g,ignoreCase:P};n.push(I);break}case 58:{if(e.charCodeAt(t+1)===58){n.push({type:Ce.PseudoElement,name:r(2).toLowerCase(),data:e.charCodeAt(t)===40?a():null});continue}const p=r(1).toLowerCase();let g=null;if(e.charCodeAt(t)===40)if(eb.has(p)){if(Qc(e.charCodeAt(t+1)))throw new Error(`Pseudo-selector ${p} cannot be quoted`);if(g=[],t=cm(g,e,t+1),e.charCodeAt(t)!==41)throw new Error(`Missing closing parenthesis in :${p} (${e})`);t+=1}else{if(g=a(),ib.has(p)){const v=g.charCodeAt(0);v===g.charCodeAt(g.length-1)&&Qc(v)&&(g=g.slice(1,-1))}g=Yr(g)}n.push({type:Ce.Pseudo,name:p,data:g});break}case 44:{h(),n=[],s(1);break}default:{if(e.startsWith("/*",t)){const v=e.indexOf("*/",t+2);if(v<0)throw new Error("Comment was not terminated");t=v+2,n.length===0&&s(0);break}let p=null,g;if(m===42)t+=1,g="*";else if(m===124){if(g="",e.charCodeAt(t+1)===124){u(Ce.ColumnCombinator),s(2);break}}else if(Vf.test(e.slice(t)))g=r(0);else break e;e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==124&&(p=g,e.charCodeAt(t+1)===42?(g="*",t+=2):g=r(1)),n.push(g==="*"?{type:Ce.Universal,namespace:p}:{type:Ce.Tag,name:g,namespace:p})}}}return h(),t}const sb=/^(?:(only|not)?\s*([_a-z][_a-z0-9-]*)|(\([^\)]+\)))(?:\s*and\s*(.*))?$/i,ab=/^\(\s*([_a-z-][_a-z0-9-]*)\s*(?:\:\s*([^\)]+))?\s*\)$/,ob=/^(?:(min|max)-)?(.+)/;var ho;(function(i){i.all="all",i.print="print",i.screen="screen"})(ho||(ho={}));function cb(i,e){return lb(i).some(n=>{const{type:r,inverse:s,features:a}=n,o=n.type==="all"||e.type===n.type;if(o&&s||!(o||s))return!1;const c=a.every(u=>{const d=e[u.property];if(!d&&d!==0)return!1;switch(u.property){case"orientation":case"prefers-color-scheme":return typeof d!="string"?!1:d.toLowerCase()===u.value.toLowerCase();default:{let h;if(typeof d!="number")return l.write(`Unknown CSS media query feature property: '${u.property}' on '${n}'`,l.categories.MediaQuery,l.messageType.warn),!1;switch(u.property){case"width":case"height":case"device-width":case"device-height":{h=_.toDevicePixels(_.parse(u.value),0);break}default:l.write(`Unknown CSS media query feature property: '${u.property}' on '${n}'`,l.categories.MediaQuery,l.messageType.warn);break}switch(u.modifier){case"min":return d>=h;case"max":return d<=h;default:return d===h}}}});return c&&!s||!c&&s})}function lb(i){return i.split(",").map(t=>{t=t.trim();const n=t.match(sb);if(!n)throw new SyntaxError(`Invalid CSS media query: '${t}'`);const r=n[1],s=n[2],a=((n[3]||"")+(n[4]||"")).trim(),o={inverse:!!r&&r.toLowerCase()==="not",type:ho[s?s.toLowerCase():"all"]??"all",features:[]};if(!a)return o;const c=a.match(/\([^\)]+\)/g);if(!c)throw new SyntaxError(`Invalid CSS media query features: '${a}' on '${t}'`);for(const u of c){const d=u.match(ab);if(!d)throw new SyntaxError(`Invalid CSS media query feature: '${u}' on '${t}'`);const h=d[1].toLowerCase().match(ob);o.features.push({modifier:h[1],property:h[2],value:d[2]})}return o})}const Zn=[],ub=[x.orientationChangedEvent,x.systemAppearanceChangedEvent];function If(i){for(const e of ub)i?x.on(e,Nf):x.off(e,Nf)}function Nf(i){for(const e of Zn){const t=lm(e.media);e.matches!==t&&(e._matches=t,e.notify({eventName:bi.changeEvent,object:e,matches:e.matches,media:e.media}))}}function lm(i){const{widthPixels:e,heightPixels:t}=Ve.mainScreen;let n;try{n=cb(i,{type:ho.screen,width:e,height:t,"device-width":e,"device-height":t,orientation:x.orientation(),"prefers-color-scheme":x.systemAppearance()})}catch(r){n=!1,l.write(r,l.categories.MediaQuery,l.messageType.error)}return n}class bi extends se{constructor(){throw super(),new TypeError("Illegal constructor")}get media(){var e;return(e=this._throwInvocationError)==null||e.call(this),this._media}get matches(){var e;return(e=this._throwInvocationError)==null||e.call(this),this._matches}addEventListener(e,t,n){var s;(s=this._throwInvocationError)==null||s.call(this);const r=this.hasListeners(bi.changeEvent);super.addEventListener(e,t,n),e===bi.changeEvent&&!r&&(Zn.push(this),Zn.length===1&&If(!0))}removeEventListener(e,t,n){var r;if((r=this._throwInvocationError)==null||r.call(this),super.removeEventListener(e,t,n),e===bi.changeEvent&&!this.hasListeners(bi.changeEvent)){const a=Zn.indexOf(this);a>=0&&(Zn.splice(a,1),Zn.length||If(!1))}}addListener(e){var n;(n=this._throwInvocationError)==null||n.call(this);const t=r=>{e.call(this,{matches:this.matches,media:this.media})};this.addEventListener(bi.changeEvent,t),this.mediaQueryChangeListeners.set(e,t)}removeListener(e){var t;(t=this._throwInvocationError)==null||t.call(this),this.mediaQueryChangeListeners.has(e)&&(this.removeEventListener(bi.changeEvent,this.mediaQueryChangeListeners.get(e)),this.mediaQueryChangeListeners.delete(e))}get onchange(){var e;return(e=this._throwInvocationError)==null||e.call(this),this._onChange}set onchange(e){var t;(t=this._throwInvocationError)==null||t.call(this),this._onChange&&this.removeListener(this._onChange),e&&this.addListener(e),this._onChange=e}_throwInvocationError(){throw new TypeError("Illegal invocation")}}bi.changeEvent="change";const um="&&";var li;(function(i){i.descendant=" ",i.child=">",i.adjacent="+",i.sibling="~",i.parent="<",i["column-combinator"]="||"})(li||(li={}));var Hl;(function(i){i.exists="",i.equals="=",i.start="^=",i.end="$=",i.any="*=",i.element="~=",i.hyphen="|="})(Hl||(Hl={}));var fi;(function(i){i.Dynamic=!0,i.Static=!1})(fi||(fi={}));function Zc(i,e){if(!i.parent||!i.parent.getChildIndex||!i.parent.getChildAt||!i.parent.getChildrenCount)return;const t=i.parent.getChildIndex(i);if(t===0)return;i.parent.getChildrenCount();let n=!0;for(let r=t-1;r>=0&&n;r--){const s=i.parent.getChildAt(r);n=e(s)}}function Jc(i){if(!i.parent||!i.parent.getChildIndex||!i.parent.getChildAt)return null;const e=i.parent.getChildIndex(i);return e===0?null:i.parent.getChildAt(e-1)}function mn(i,e,t=!1){return n=>(n.prototype.specificity=i,n.prototype.rarity=e,n.prototype.combinator=void 0,n.prototype.dynamic=t,n)}function nh(i,e,t){return n=>(n.prototype.specificity=i,n.prototype.rarity=e,n.prototype.combinator=void 0,n.prototype.dynamic=!1,n.prototype.pseudoSelectorListType=t,n)}class jl{}let Is=class extends jl{lookupSort(e,t){e.sortAsUniversal(t||this)}};Is=__decorate([mn(0,0,fi.Static)],Is);class ji extends Is{accumulateChanges(e,t){if(this.dynamic){if(this.mayMatch(e))return this.trackChanges(e,t),!0}else return this.match(e);return!1}mayMatch(e){return this.match(e)}trackChanges(e,t){}}function Bi(i){return i?` ${i} `:""}let Nt=class extends ji{constructor(e){super(),this.e=e}toString(){return`<${this.e}>`}match(e){return!1}lookupSort(e,t){}};Nt=__decorate([mn(0,4,fi.Static),__metadata("design:paramtypes",[Error])],Nt);let fo=class extends ji{toString(){return`*${Bi(this.combinator)}`}match(e){return!0}};fo=__decorate([mn(0,0,fi.Static)],fo);let $l=class extends ji{constructor(e){super(),this.id=e}toString(){return`#${this.id}${Bi(this.combinator)}`}match(e){return e.id===this.id}lookupSort(e,t){e.sortById(this.id,t||this)}};$l=__decorate([mn(100,3,fi.Static),__metadata("design:paramtypes",[String])],$l);let po=class extends ji{constructor(e){super(),this.cssType=e}toString(){return`${this.cssType}${Bi(this.combinator)}`}match(e){return e.cssType===this.cssType}lookupSort(e,t){e.sortByType(this.cssType,t||this)}};po=__decorate([mn(1,1,fi.Static),__metadata("design:paramtypes",[String])],po);let go=class extends ji{constructor(e){super(),this.cssClass=e}toString(){return`.${this.cssClass}${Bi(this.combinator)}`}match(e){return e.cssClasses&&e.cssClasses.has(this.cssClass)}lookupSort(e,t){e.sortByClass(this.cssClass,t||this)}};go=__decorate([mn(10,2,fi.Static),__metadata("design:paramtypes",[String])],go);let mo=class extends ji{constructor(e,t,n,r){super(),this.attribute=e,this.test=t,this.value=n,this.ignoreCase=r}toString(){return`[${this.attribute}${Bi(Hl[this.test]??this.test)}${this.value||""}]${Bi(this.combinator)}`}match(e){let t=e[this.attribute];if(this.test==="exists")return!Ai(t);if(!this.value)return!1;if(t+="",this.ignoreCase&&(t=t.toLowerCase(),this.value=this.value.toLowerCase()),this.test==="equals")return t===this.value;if(this.test==="start")return t.startsWith(this.value);if(this.test==="end")return t.endsWith(this.value);if(this.test==="any")return t.indexOf(this.value)!==-1;if(this.test==="element"){const n=t.split(" ");return n&&n.indexOf(this.value)!==-1}return this.test==="hyphen"?t===this.value||t.startsWith(this.value+"-"):!1}mayMatch(e){return!0}trackChanges(e,t){t.addAttribute(e,this.attribute)}};mo=__decorate([mn(10,0,fi.Dynamic),__metadata("design:paramtypes",[String,String,String,Boolean])],mo);let Ns=class extends ji{constructor(e){super(),this.cssPseudoClass=e}toString(){return`:${this.cssPseudoClass}${Bi(this.combinator)}`}match(e){return e.cssPseudoClasses&&e.cssPseudoClasses.has(this.cssPseudoClass)}mayMatch(e){return!0}trackChanges(e,t){t.addPseudoClass(e,this.cssPseudoClass)}};Ns=__decorate([mn(10,0,fi.Dynamic),__metadata("design:paramtypes",[String])],Ns);class rh extends Ns{constructor(e,t){super(e);const n=[],r=this.specificity===-1;let s=0;if(Array.isArray(t))for(const a of t){const o=pm(a);if(o instanceof Nt){if(this.selectorListType!==1){n.splice(0),s=0;break}continue}r&&o.specificity>s&&(s=o.specificity),n.push(o)}this.selectors=n,this.specificity=s,this.dynamic=this.selectors.some(a=>a.dynamic)}toString(){return`:${this.cssPseudoClass}(${this.selectors.join(", ")})${Bi(this.combinator)}`}match(e){return!1}mayMatch(e){return!0}trackChanges(e,t){this.selectors.forEach(n=>n.trackChanges(e,t))}}let Gl=class extends rh{match(e){return!this.selectors.some(t=>t.match(e))}};Gl=__decorate([nh(-1,0,0)],Gl);let zl=class extends rh{match(e){return this.selectors.some(t=>t.match(e))}lookupSort(e,t){this.selectors.length===1?this.selectors[0].lookupSort(e,t||this):super.lookupSort(e,t||this)}};zl=__decorate([nh(-1,0,1)],zl);let ql=class extends rh{match(e){return this.selectors.some(t=>t.match(e))}lookupSort(e,t){this.selectors.length===1?this.selectors[0].lookupSort(e,t||this):super.lookupSort(e,t||this)}};ql=__decorate([nh(0,0,1)],ql);class dm extends ji{constructor(e){super(),this.selectors=e,this.specificity=e.reduce((t,n)=>n.specificity+t,0),this.head=e.reduce((t,n)=>!t||n.rarity>t.rarity?n:t,null),this.dynamic=e.some(t=>t.dynamic)}toString(){return`${this.selectors.join("")}${Bi(this.combinator)}`}match(e){return this.selectors.every(t=>t.match(e))}mayMatch(e){return this.selectors.every(t=>t.mayMatch(e))}trackChanges(e,t){this.selectors.forEach(n=>n.trackChanges(e,t))}lookupSort(e,t){this.head.lookupSort(e,t||this)}}class db extends Is{constructor(e){super(),this.selectors=e;let t,n;const r=[];this.specificity=0,this.dynamic=!1;for(let s=e.length-1;s>=0;s--){const a=e[s];switch(a.combinator){case void 0:case li.descendant:t=[],n=[t],r.push(n);break;case li.child:t=[],n.push(t);break;case li.adjacent:case li.sibling:break;default:throw new Error(`Unsupported combinator "${a.combinator}" for selector ${a}.`)}this.specificity+=a.specificity,a.dynamic&&(this.dynamic=!0),t.push(a)}this.groups=r.map(s=>new Ls.ChildGroup(s.map(a=>a.length>1?new Ls.SiblingGroup(a):a[0]))),this.last=e[e.length-1]}toString(){return this.selectors.join("")}match(e){return this.groups.every((t,n)=>{if(n===0)return e=t.getMatchingNode(e,!0),!!e;{let r=e;for(;r=r.parent??r._modalParent;)if(e=t.getMatchingNode(r,!0))return!0;return!1}})}mayMatch(e){return!1}trackChanges(e,t){this.selectors.forEach(n=>n.trackChanges(e,t))}lookupSort(e,t){this.last.lookupSort(e,t||this)}accumulateChanges(e,t){if(!this.dynamic)return this.match(e);const n=[],r=this.groups.every((s,a)=>{if(a===0){const o=s.getMatchingNode(e,!1);return n.push({left:e,right:e}),e=o,!!e}else{let o=e;for(;o=o.parent;){const c=s.getMatchingNode(o,!1);if(c)return n.push({left:o,right:null}),e=c,!0}return!1}});if(!r)return!1;if(!t)return r;for(let s=0;s<this.groups.length;s++){const a=this.groups[s];if(!a.dynamic)continue;const o=n[s];let c=o.left;do a.mayMatch(c)&&a.trackChanges(c,t);while(c!==o.right&&(c=c.parent))}return r}}var Ls;(function(i){class e extends jl{constructor(r){super(),this.selectors=r,this.dynamic=r.some(s=>s.dynamic)}getMatchingNode(r,s){const a=s?"match":"mayMatch";return this.selectors.every((o,c)=>(r=c===0?r:r.parent)&&o[a](r))?r:null}match(r){return this.getMatchingNode(r,!0)!=null}mayMatch(r){return this.getMatchingNode(r,!1)!=null}trackChanges(r,s){this.selectors.forEach((a,o)=>{o===0?r&&a.trackChanges(r,s):(r=r.parent,r&&a.mayMatch(r)&&a.trackChanges(r,s))})}}i.ChildGroup=e;class t extends jl{constructor(r){super(),this.selectors=r,this.dynamic=r.some(s=>s.dynamic)}match(r){return this.selectors.every((s,a)=>{if(a===0)return r&&s.match(r);if(s.combinator===li.adjacent)return r=Jc(r),r&&s.match(r);let o=!1;return Zc(r,c=>(o=s.match(c),!o)),o})}mayMatch(r){return this.selectors.every((s,a)=>{if(a===0)return r&&s.mayMatch(r);if(s.combinator===li.adjacent)return r=Jc(r),r&&s.mayMatch(r);let o=!1;return Zc(r,c=>(o=s.mayMatch(c),!o)),o})}trackChanges(r,s){this.selectors.forEach((a,o)=>{if(o===0)r&&a.trackChanges(r,s);else if(a.combinator===li.adjacent)r=Jc(r),r&&a.mayMatch(r)&&a.trackChanges(r,s);else{let c;Zc(r,u=>{const d=a.mayMatch(u);return d&&(c=u),!d}),c&&a.trackChanges(c,s)}})}}i.SiblingGroup=t})(Ls||(Ls={}));class hm{constructor(e,t){this.selectors=e,this.declarations=t,this.selectors.forEach(n=>n.ruleset=this)}toString(){let e=`${this.selectors.join(", ")} {${this.declarations.map((t,n)=>`${n===0?" ":""}${t.property}: ${t.value}`).join("; ")} }`;return this.mediaQueryString&&(e=`@media ${this.mediaQueryString} { ${e} }`),e}lookupSort(e){this.selectors.forEach(t=>t.lookupSort(e))}}function fm(i){const e=i.declarations.filter(fb).map(hb),t=i.selectors.map(gm);return new hm(t,e)}function hb(i){return{property:_s(i.property)?i.property:i.property.toLowerCase(),value:i.value}}function Xl(i){return i.type==="attribute"?i.name==="class"?new go(i.value):i.name==="id"?new $l(i.value):new mo(i.name,i.action,i.value,!!i.ignoreCase):i.type==="tag"?new po(i.name.replace("-","").toLowerCase()):i.type==="pseudo"?i.name==="is"?new zl(i.name,i.data):i.name==="where"?new ql(i.name,i.data):i.name==="not"?new Gl(i.name,i.data):new Ns(i.name):i.type==="universal"?new fo:new Nt(new Error(i.type))}function el(i){if(i.length===0)return new Nt(new Error("Empty simple selector sequence."));if(i.length===1)return Xl(i[0]);const e=[];for(const t of i){const n=Xl(t);if(n instanceof Nt)return n;e.push(n)}return new dm(e)}function pm(i){if(i.length===0)return new Nt(new Error("Empty selector."));if(i.length===1)return Xl(i[0]);const e=[];let t=[],n=0;for(const r of i){const s=li[r.type];if(s!=null){const a=el(t);if(a instanceof Nt)return a;a.combinator=s,e.push(a),n++,t=[]}else t.push(r)}if(n>0){if(t.length){const r=el(t);if(r instanceof Nt)return r;e.push(r)}return new db(e)}return el(t)}function gm(i){try{const e=rb(i);return e!=null&&e.length?pm(e[0]):new Nt(new Error("Empty selector"))}catch(e){return new Nt(e)}}function fb(i){return i.type==="declaration"}function mm(i,e){return i.split(um).every(n=>{let r;return e.includes(n)?r=!0:(r=lm(n),r&&e.push(n)),r})}class sh{constructor(){this.id={},this.class={},this.type={},this.universal=[],this.position=0}getSelectorCandidates(e){const{cssClasses:t,id:n,cssType:r}=e,s=[this.universal,this.id[n],this.type[r]];return t&&t.size&&t.forEach(a=>s.push(this.class[a])),s.reduce((a,o)=>a.concat(o||[]),[])}sortById(e,t){this.addToMap(this.id,e,t)}sortByClass(e,t){this.addToMap(this.class,e,t)}sortByType(e,t){this.addToMap(this.type,e,t)}sortAsUniversal(e){this.universal.push(this.makeDocSelector(e))}addToMap(e,t,n){e[t]||(e[t]=[]),e[t].push(this.makeDocSelector(n))}makeDocSelector(e){return e.pos=this.position++,e}}class ym extends sh{constructor(e){super(),this._mediaQueryString=e}get mediaQueryString(){return this._mediaQueryString}}class vm extends sh{constructor(e){super(),this.lookupRulesets(e)}createMediaQuerySelectorScope(e){const t=new ym(e);return t.position=this.position,this.mediaQuerySelectorScopes?this.mediaQuerySelectorScopes.push(t):this.mediaQuerySelectorScopes=[t],t}lookupRulesets(e){let t;for(let n=0,r=e.length;n<r;n++){const s=e[n];t&&t.mediaQueryString!==s.mediaQueryString&&(this.position=t.position,t=null),s.mediaQueryString?(t||(t=this.createMediaQuerySelectorScope(s.mediaQueryString)),s.lookupSort(t)):s.lookupSort(this)}t&&(this.position=t.position,t=null)}query(e){const t=new ah,n=this.getSelectorCandidates(e);if(this.mediaQuerySelectorScopes){const r=[];for(let s=0,a=this.mediaQuerySelectorScopes.length;s<a;s++){const o=this.mediaQuerySelectorScopes[s];if(mm(o.mediaQueryString,r)){const u=o.getSelectorCandidates(e);n.push(...u)}}}return t.selectors=n.filter(r=>r.accumulateChanges(e,t)).sort((r,s)=>r.specificity-s.specificity||r.pos-s.pos),t}}class ah{constructor(){this.changeMap=new Map}addAttribute(e,t){const n=this.properties(e);n.attributes||(n.attributes=new Set),n.attributes.add(t)}addPseudoClass(e,t){const n=this.properties(e);n.pseudoClasses||(n.pseudoClasses=new Set),n.pseudoClasses.add(t)}properties(e){let t=this.changeMap.get(e);return t||this.changeMap.set(e,t={}),t}}const pb={createSelector:gm,SelectorCore:Is,SimpleSelector:ji,InvalidSelector:Nt,UniversalSelector:fo,TypeSelector:po,ClassSelector:go,AttributeSelector:mo,PseudoClassSelector:Ns,SimpleSelectorSequence:dm,Selector:Ls,RuleSet:hm,SelectorScope:sh,MediaQuerySelectorScope:ym,StyleSheetSelectorScope:vm,fromAstNode:fm,SelectorsMatch:ah};let yo;function wm(){yo||(yo=require("../animation/keyframe-animation"))}let ks;function Yl(){ks||(ks=require("./css-animation-parser"))}let Lf="css-tree";try{const i=require("~/package.json");i&&(i.cssParser==="rework"?Lf="rework":i.cssParser==="nativescript"&&(Lf="nativescript"))}catch{}let Kl=[],Ql=[];const hr=[];let Zl=[],Jl=[];const fr=[];let Ln=0;const tl=new Map;let as=null;const vo=Symbol("animations"),kf=/-([a-z])/g,gb=/('|")(.*?)\1/;function _m(i,e,t){const n=Ap(i,e,t);if(n==="unset")return D;t=n;try{t=nv(t)}catch(r){return l.write(`Failed to evaluate css-calc for property [${e}] for expression [${t}] to ${i}. ${r.stack}`,l.categories.Error,l.messageType.error),D}return t}function oc(){Kl=Ql.slice(),Kl.push(...hr)}function cc(){Zl=Jl.slice(),Zl.push(...fr)}class ce{constructor(e,t,n,r){this._ast=e,this._url=t,this._file=n,this._source=r,this._selectors=[],this._keyframes=[],this.parse()}static fromDetect(e,t){return typeof e=="string"?ce.fromSource(e,t):typeof e=="object"&&(e.default&&(e=e.default),e.type==="stylesheet"&&e.stylesheet&&e.stylesheet.rules)?ce.fromAST(e,t):ce.fromSource(e.toString(),t)}static fromURI(e){const t=ce.pathRelativeToApp(e),n=ki(t),r=Vt(n,"css");try{const s=global.loadModule(r,!0);if(s)return ce.fromDetect(s,r)}catch(s){l.isEnabled()&&l.write(`Could not load CSS from ${e}: ${s}`,l.categories.Error,l.messageType.warn)}return ce.fromFile(t)}static pathRelativeToApp(e){if(!e.startsWith("/"))return e;const t=We.currentApp().path;return e.startsWith(t)?`.${e.substring(t.length)}`:(l.write(`${e} does not start with ${t}`,l.categories.Error,l.messageType.error),e)}static fromFile(e){const t=e.replace(/\..\w+$/,".css");if(t!==e){const r=ce.resolveCSSPathFromURL(t);if(r)return new ce(void 0,e,r,void 0)}const n=ce.resolveCSSPathFromURL(e);return new ce(void 0,e,n,void 0)}static fromFileImport(e,t){const n=ce.resolveCSSPathFromURL(e,t);return new ce(void 0,e,n,void 0)}static resolveCSSPathFromURL(e,t){const n=We.currentApp().path;return bm(e,n,cn.exists,t)}static fromSource(e,t){return new ce(void 0,t,void 0,e)}static fromAST(e,t){return new ce(e,t,void 0,void 0)}get selectors(){return this._selectors}get keyframes(){return this._keyframes}get source(){return this._source}load(){const e=cn.fromPath(this._file);this._source=e.readTextSync()}parse(){try{this._ast||(!this._source&&this._file&&this.load(),this._source&&this.source!=="[object Object]"&&this.parseCSSAst()),this._ast?this.createSelectorsAndKeyframes():this._selectors=[]}catch(e){l.isEnabled()&&l.write("Css styling failed: "+e,l.categories.Style,l.messageType.error),this._selectors=[]}}parseCSSAst(){if(this._source){if(cssParser==="css-tree"){const e=require("../../css/css-tree-parser").cssTreeParse;this._ast=e(this._source,this._file)}else if(cssParser==="nativescript"){const e=require("../../css/CSS3Parser").CSS3Parser,t=require("../../css/CSSNativeScript").CSSNativeScript,r=new e(this._source).parseAStylesheet(),s=new t;this._ast=s.parseStylesheet(r)}else if(cssParser==="rework"){const e=require("../../css").parse;this._ast=e(this._source,{source:this._file})}}}createSelectorsAndKeyframes(){if(this._ast){const e=this._ast.stylesheet.rules,t=[],n=[];mb(e,t,n),Cm(e,t,n),t&&t.length&&(Yl(),t.forEach(r=>{r[vo]=ks.CssAnimationParser.keyframeAnimationsFromCSSDeclarations(r.declarations)})),this._selectors=t,this._keyframes=n}}toString(){return this._file||this._url||"(in-memory)"}}__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ce.prototype,"load",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ce.prototype,"parse",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ce.prototype,"parseCSSAst",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ce.prototype,"createSelectorsAndKeyframes",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[String,String]),__metadata("design:returntype",String)],ce,"resolveCSSPathFromURL",null);function mb(i,e,t){const n=i.filter(u=>u.type==="import");if(!n.length)return;const r=u=>{const d=u.import,h=d&&d.match(gb);return h&&h[2]},s=u=>u.position&&u.position.source,a=u=>({url:r(u),source:s(u)}),o=({url:u,source:d})=>d?ce.fromFileImport(u,d):ce.fromURI(u),c=n.map(a).filter(({url:u})=>!!u).map(o);for(const u of c)u&&(e.push(...u.selectors),t.push(...u.keyframes))}function Cm(i,e,t,n){for(const r of i)if(Tb(r)){const s={name:r.name,keyframes:r.keyframes,mediaQueryString:n};t.push(s)}else if(Sb(r)){const s=n?n+um+r.media:r.media;Cm(r.rules,e,t,s)}else if(Eb(r)){const s=fm(r);s.mediaQueryString=n,e.push(s)}}function yb(i){let e=!1,t=!1,n=!1;for(let r=0;r<hr.length;r++)hr[r].tag===i&&(hr.splice(r,1),r--,e=!0);for(let r=0;r<fr.length;r++)fr[r].tag===i&&(fr.splice(r,1),r--,t=!0);return e&&(oc(),n=!0),t&&(cc(),n=!0),n&&Ln++,n}function vb(i,e){const{selectors:t,keyframes:n}=ce.fromDetect(i,void 0),r=as||e&&tl.has(e)&&tl.get(e)||null;r&&e&&tl.set(e,r);let s=!1;if(t&&t.length){if(e!=null||r!=null)for(let a=0,o=t.length;a<o;a++)t[a].tag=e,t[a].scopedTag=r;hr.push(...t),oc(),s=!0}if(n&&n.length){if(e!=null||r!=null)for(let a=0,o=n.length;a<o;a++)n[a].tag=e,n[a].scopedTag=r;fr.push(...n),cc(),s=!0}return s&&Ln++,s}const wb=N('"style-scope".onCssChanged',i=>{if(i.cssText){const{selectors:e,keyframes:t}=ce.fromSource(i.cssText,i.cssFile);let n=!1;e&&(hr.push(...e),oc(),n=!0),t&&(fr.push(...t),cc(),n=!0),n&&Ln++}else i.cssFile&&oh(i.cssFile,null,null)});function _b(i){oh(x.getCssFileName(),null,null)}const oh=N('"style-scope".loadCss',i=>{if(!i)return;i.startsWith("./")&&(i=i.substring(2));const{selectors:e,keyframes:t}=ce.fromURI(i);let n=!1;(e.length>0||Ql.length>0)&&(Ql=e,oc(),n=!0),(t.length>0||Jl.length>0)&&(Jl=t,cc(),n=!0),n&&Ln++});global.NativeScriptGlobals.events.on("cssChanged",wb);global.NativeScriptGlobals.events.on("livesync",_b);const eu=N('"style-scope".loadAppCSS',i=>{oh(i.cssFile,null,null),global.NativeScriptGlobals.events.off("loadAppCss",eu)});x.hasLaunched()?eu({eventName:"loadAppCss",object:x,cssFile:x.getCssFileName()},null,null):global.NativeScriptGlobals.events.on("loadAppCss",eu);class De{constructor(e){this.viewRef=e,this._appliedPropertyValues=De.emptyPropertyBag,this._onDynamicStateChangeHandler=()=>this.updateDynamicState()}onChange(){const e=this.viewRef.get();e&&e.isLoaded?(this.unsubscribeFromDynamicUpdates(),this.updateMatch(),this.subscribeForDynamicUpdates(),this.updateDynamicState()):this._matchInvalid=!0}isSelectorsLatestVersionApplied(){return this.viewRef.get()?this.viewRef.get()._styleScope.getSelectorsVersion()===this._appliedSelectorsVersion:(l.write('isSelectorsLatestVersionApplied returns default value "false" because "this.viewRef" cleared.',l.categories.Style,l.messageType.warn),!1)}onLoaded(){this._matchInvalid&&this.updateMatch(),this.subscribeForDynamicUpdates(),this.updateDynamicState()}onUnloaded(){this.unsubscribeFromDynamicUpdates(),this.stopKeyframeAnimations()}updateMatch(){const e=this.viewRef.get();e&&e._styleScope?(this._match=e._styleScope.matchSelectors(e)??De.emptyMatch,this._appliedSelectorsVersion=e._styleScope.getSelectorsVersion()):this._match=De.emptyMatch,this._matchInvalid=!1}updateDynamicState(){const e=this.viewRef.get();if(!e){l.write('updateDynamicState not executed to view because ".viewRef" is cleared',l.categories.Style,l.messageType.warn);return}const t=this._match.selectors.filter(n=>n.dynamic?n.match(e):!0);e._batchUpdate(()=>{this.stopKeyframeAnimations(),this.setPropertyValues(t),this.playKeyframeAnimations(t)})}playKeyframeAnimations(e){const t=[];if(e.forEach(n=>{var s;const r=(s=n.ruleset)==null?void 0:s[vo];if(r){wm();for(const a of r){const o=yo.KeyframeAnimation.keyframeAnimationFromInfo(a);o&&t.push(o)}}}),this._playsKeyframeAnimations=t.length>0){const n=this.viewRef.get();if(!n){l.write('KeyframeAnimations cannot play because ".viewRef" is cleared',l.categories.Animation,l.messageType.warn);return}t.map(r=>r.play(n)),Object.freeze(t),this._appliedAnimations=t}}stopKeyframeAnimations(){if(!this._playsKeyframeAnimations)return;this._appliedAnimations.filter(t=>t.isPlaying).forEach(t=>t.cancel()),this._appliedAnimations=De.emptyAnimationArray;const e=this.viewRef.get();e?(e.style["keyframe:rotate"]=D,e.style["keyframe:rotateX"]=D,e.style["keyframe:rotateY"]=D,e.style["keyframe:scaleX"]=D,e.style["keyframe:scaleY"]=D,e.style["keyframe:translateX"]=D,e.style["keyframe:translateY"]=D,e.style["keyframe:backgroundColor"]=D,e.style["keyframe:opacity"]=D):l.write('KeyframeAnimations cannot be stopped because ".viewRef" is cleared',l.categories.Animation,l.messageType.warn),this._playsKeyframeAnimations=!1}setPropertyValues(e){const t=this.viewRef.get();if(!t){l.write(`${e} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn);return}const n=new t.style.PropertyBag;e.forEach(c=>c.ruleset.declarations.forEach(u=>n[u.property]=u.value));const r=this._appliedPropertyValues;t.style.resetScopedCssVariables();const s={},a={},o=c=>c[1].toUpperCase();for(const c in n){const u=Zg(n[c],c);if(Vp(u)||Pp(u)){a[c]=u;continue}if(delete r[c],!(c in r&&r[c]===u)){if(_s(c)){t.style.setScopedCssVariable(c,u),delete n[c];continue}s[c]=u}}for(const c in a){delete r[c];const u=_m(t,c,a[c]);c in r&&r[c]===u||(u===D&&delete n[c],_s(c)&&(t.style.setScopedCssVariable(c,u),delete n[c]),s[c]=u)}for(const c in r)if(c in t.style)t.style[`css:${c}`]=D;else{const u=c.replace(kf,o);t[u]=D}for(const c in s){const u=s[c];try{if(c in t.style)t.style[`css:${c}`]=u;else{const d=c.replace(kf,o);t[d]=u}}catch(d){l.write(`Failed to apply property [${c}] with value [${u}] to ${t}. ${d.stack}`,l.categories.Error,l.messageType.error)}}this._appliedPropertyValues=n}subscribeForDynamicUpdates(){const e=this._match.changeMap;e.forEach((t,n)=>{t.attributes&&t.attributes.forEach(r=>{n.addEventListener(r+"Change",this._onDynamicStateChangeHandler)}),t.pseudoClasses&&t.pseudoClasses.forEach(r=>{const s=":"+r;n.addEventListener(":"+r,this._onDynamicStateChangeHandler),n[s]&&n[s](1)})}),this._appliedChangeMap=e}unsubscribeFromDynamicUpdates(){this._appliedChangeMap.forEach((e,t)=>{e.attributes&&e.attributes.forEach(n=>{t.removeEventListener(n+"Change",this._onDynamicStateChangeHandler)}),e.pseudoClasses&&e.pseudoClasses.forEach(n=>{const r=":"+n;t.removeEventListener(r,this._onDynamicStateChangeHandler),t[r]&&t[r](-1)})}),this._appliedChangeMap=De.emptyChangeMap}toString(){const e=this.viewRef.get();return e?`${e}._cssState`:(l.write('toString() of CssState cannot execute correctly because ".viewRef" is cleared',l.categories.Animation,l.messageType.warn),"")}}De.emptyChangeMap=Object.freeze(new Map);De.emptyPropertyBag={};De.emptyAnimationArray=Object.freeze([]);De.emptyMatch={selectors:[],changeMap:new Map,addAttribute:()=>{},addPseudoClass:()=>{},properties:null};__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],De.prototype,"updateMatch",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],De.prototype,"updateDynamicState",null);De.prototype._appliedChangeMap=De.emptyChangeMap;De.prototype._appliedAnimations=De.emptyAnimationArray;De.prototype._matchInvalid=!0;class qs{constructor(){this._css="",this._localCssSelectors=[],this._localCssKeyframes=[],this._localCssSelectorVersion=0,this._localCssSelectorsAppliedVersion=0,this._applicationCssSelectorsAppliedVersion=0,this._cssFiles=[]}get css(){return this._css}set css(e){this.setCss(e)}addCss(e,t){this.appendCss(e,t)}addCssFile(e){this.appendCss(null,e)}changeCssFile(e){if(!e)return;this._cssFiles.push(e),as=e;const t=ce.fromURI(e);as=null,this._css=t.source,this._localCssSelectors=t.selectors,this._localCssKeyframes=t.keyframes,this._localCssSelectorVersion++,this.ensureSelectors()}setCss(e,t){this._css=e;const n=ce.fromSource(e,t);this._localCssSelectors=n.selectors,this._localCssKeyframes=n.keyframes,this._localCssSelectorVersion++,this.ensureSelectors()}appendCss(e,t){if(!e&&!t)return;t&&(this._cssFiles.push(t),as=t);const n=e?ce.fromSource(e,t):ce.fromURI(t);as=null,this._css=this._css+n.source,this._localCssSelectors.push(...n.selectors),this._localCssKeyframes.push(...n.keyframes),this._localCssSelectorVersion++,this.ensureSelectors()}getKeyframeAnimationWithName(e){if(!this._mergedCssKeyframes)return null;const t=this.findKeyframeRule(e);wm();const n=new yo.KeyframeAnimationInfo;return Yl(),n.keyframes=t?ks.CssAnimationParser.keyframesArrayFromCSS(t.keyframes):null,n}ensureSelectors(){return(!this.isApplicationCssSelectorsLatestVersionApplied()||!this.isLocalCssSelectorsLatestVersionApplied()||!this._mergedCssSelectors)&&this._createSelectors(),this.getSelectorsVersion()}_increaseApplicationCssSelectorVersion(){Ln++}isApplicationCssSelectorsLatestVersionApplied(){return this._applicationCssSelectorsAppliedVersion===Ln}isLocalCssSelectorsLatestVersionApplied(){return this._localCssSelectorsAppliedVersion===this._localCssSelectorVersion}_createSelectors(){const e=[],t=[];e.push(...Kl.filter(n=>!n.scopedTag||this._cssFiles.indexOf(n.scopedTag)>=0)),t.push(...Zl.filter(n=>!n.scopedTag||this._cssFiles.indexOf(n.scopedTag)>=0)),this._applicationCssSelectorsAppliedVersion=Ln,e.push(...this._localCssSelectors),t.push(...this._localCssKeyframes),this._localCssSelectorsAppliedVersion=this._localCssSelectorVersion,e.length>0?(this._mergedCssSelectors=e,this._selectorScope=new vm(this._mergedCssSelectors)):(this._mergedCssSelectors=null,this._selectorScope=null),this._mergedCssKeyframes=t.length>0?t:null}matchSelectors(e){let t;return this.ensureSelectors(),this._selectorScope?(t=this._selectorScope.query(e),this._applyKeyframesToSelectors(t.selectors)):t=null,t}query(e){this.ensureSelectors();const t=this.matchSelectors(e);return t?t.selectors:[]}getSelectorsVersion(){return 1e5*this._applicationCssSelectorsAppliedVersion+this._localCssSelectorsAppliedVersion}_applyKeyframesToSelectors(e){if(e!=null&&e.length)for(let t=e.length-1;t>=0;t--){const r=e[t].ruleset[vo];if(r!=null&&r.length){Yl();for(const s of r){const a=this.findKeyframeRule(s.name);s.keyframes=a?ks.CssAnimationParser.keyframesArrayFromCSS(a.keyframes):null}}}}getAnimations(e){return e[vo]}findKeyframeRule(e){if(!this._mergedCssKeyframes)return null;let t;for(let n=this._mergedCssKeyframes.length-1;n>=0;n--){const r=this._mergedCssKeyframes[n];if(r.name!==e)continue;if(!r.mediaQueryString||(t||(t=[]),mm(r.mediaQueryString,t)))return r}return null}}__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[String,Object]),__metadata("design:returntype",void 0)],qs.prototype,"setCss",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[String,Object]),__metadata("design:returntype",void 0)],qs.prototype,"appendCss",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],qs.prototype,"_createSelectors",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",ah)],qs.prototype,"matchSelectors",null);function bm(i,e,t,n){let r=typeof i=="string"?i.trim():"";r.indexOf("~/")===0&&(r=r.replace("~/",""));const s=r.indexOf("/")===0,a=s?r:It.join(e,r);if(t(a))return a;if(!s){if(r[0]==="~"&&r[1]!=="/"&&r[1]!=='"'&&(r=r.substring(1)),n){const c=Cb(n,r);if(t(c))return c}const o=It.join(e,"tns_modules",r);if(t(o))return o}return null}function Cb(i,e){const t=i.split(It.separator),n=e.split(It.separator).filter(r=>!bb(r));return t.pop(),n.forEach(r=>xb(r)?t.pop():t.push(r)),t.join(It.separator)}N(function(e,t){const n=`local { ${t} }`,r=ce.fromSource(n).selectors;e.style.resetUnscopedCssVariables(),r[0].declarations.forEach(s=>{const a=s.property;_s(a)&&e.style.setUnscopedCssVariable(a,s.value)}),r[0].declarations.forEach(s=>{const a=s.property;try{if(_s(a))return;const o=_m(e,a,s.value);a in e.style?e.style[a]=o:e[a]=o}catch(o){l.write(`Failed to apply property [${s.property}] with value [${s.value}] to ${e}. ${o}`,l.categories.Error,l.messageType.error)}}),e._onCssStateChange()});function bb(i){return i==="."}function xb(i){return i===".."}function Sb(i){return i.type==="media"}function Tb(i){return i.type==="keyframes"}function Eb(i){return i.type==="rule"}let tu;function Pb(){tu||(tu=require("../../../debugger/dom-node"))}let iu;function Vb(){iu||(iu=require("../../styling/style-scope"))}const Rf={};function Ca(i,e){let t=null;typeof e=="string"?t=n=>n.typeName===e:t=n=>n instanceof e;for(let n=i.parent;n!=null;n=n.parent)if(t(n))return n;return null}function ch(i,e){if(!i)return;if(i.id===e)return i;let t;return kn(i,function(r){return r.id===e?(t=r,!1):!0}),t}function Ab(i,e){if(!i)return;if(i._domId===e)return i;let t;return kn(i,function(r){return i._domId===e?(t=r,!1):!0}),t}function nu(i,e){if(!i)return[];const t=[];return i[e]&&t.push(i),kn(i,function(r){return r[e]&&t.push(r),!0}),t}function kn(i,e){if(!e||!i)return;let t;const n=function(r){return t=e(r),t&&r.eachChild(n),t};i.eachChild(n)}let Ib=1;var si;(function(i){i.superOnLoadedCalled="Loaded",i.superOnUnloadedCalled="Unloaded"})(si||(si={}));var je;(function(i){i[i.Incremental=0]="Incremental",i[i.Loaded=1048576]="Loaded",i[i.NativeView=2097152]="NativeView",i[i.UISetup=4194304]="UISetup",i[i.IncrementalCountMask=-7340033]="IncrementalCountMask"})(je||(je={}));(function(i){function e(t){return(t?"suspended":"resumed")+"(Incremental: "+(t&i.IncrementalCountMask)+", Loaded: "+!(t&i.Loaded)+", NativeView: "+!(t&i.NativeView)+", UISetup: "+!(t&i.UISetup)+")"}i.toString=e})(je||(je={}));const Kr=new Map;class W extends se{constructor(){super(),this._onLoadedCalled=!1,this._onUnloadedCalled=!1,this.defaultVisualState="normal",this._cssState=new De(new WeakRef(this)),this.pseudoClassAliases={highlighted:["active","pressed"]},this.cssClasses=new Set,this.cssPseudoClasses=new Set,this.mIsRootView=!1,this._domId=Ib++,this._style=new T(new WeakRef(this)),this.notify({eventName:W.createdEvent,type:this.constructor.name,object:this})}get parentNode(){return this._templateParent||this.parent}set parentNode(e){this._templateParent=e}get nativeView(){return this.nativeViewProtected}set nativeView(e){this.setNativeView(e)}get typeName(){return yv(this)}get style(){return this._style}set style(e){if(typeof e=="string")this.setInlineStyle(e);else throw new Error("View.style property is read-only.")}get android(){return this._androidView}get ios(){return this._iosView}get isLoaded(){return this._isLoaded}get class(){return this.className}set class(e){this.className=e}getViewById(e){return ch(this,e)}getViewByDomId(e){return Ab(this,e)}get page(){return this.parent?this.parent.page:null}ensureDomNode(){this.domNode||(Pb(),this.domNode=new tu.DOMNode(this))}set(e,t){this[e]=Fd.unwrap(t)}onLoaded(){this.setFlag(si.superOnLoadedCalled,!0),!this._isLoaded&&(this._isLoaded=!0,this._cssState.onLoaded(),this._resumeNativeUpdates(je.Loaded),this.eachChild(e=>(this.loadView(e),!0)),this._emit("loaded"))}onUnloaded(){this.setFlag(si.superOnUnloadedCalled,!0),this._isLoaded&&(this._suspendNativeUpdates(je.Loaded),this.eachChild(e=>(this.unloadView(e),!0)),this._isLoaded=!1,this._cssState.onUnloaded(),this._emit("unloaded"))}_layoutParent(){this.parent&&this.parent._layoutParent()}_suspendNativeUpdates(e){e?this._suspendNativeUpdatesCount=this._suspendNativeUpdatesCount|e:this._suspendNativeUpdatesCount++}_resumeNativeUpdates(e){if(e)this._suspendNativeUpdatesCount=this._suspendNativeUpdatesCount&~e;else{if(!(this._suspendNativeUpdatesCount&je.IncrementalCountMask))throw new Error(`Invalid call to ${this}._resumeNativeUpdates`);this._suspendNativeUpdatesCount--}this._suspendNativeUpdatesCount||this.onResumeNativeUpdates()}_batchUpdate(e){try{return this._suspendNativeUpdates(je.Incremental),e()}finally{this._resumeNativeUpdates(je.Incremental)}}setFlag(e,t){switch(e){case si.superOnLoadedCalled:this._onLoadedCalled=t;break;case si.superOnUnloadedCalled:this._onUnloadedCalled=t;break}}isFlagSet(e){switch(e){case si.superOnLoadedCalled:return this._onLoadedCalled;case si.superOnUnloadedCalled:return this._onUnloadedCalled}}callFunctionWithSuper(e,t){if(this.setFlag(e,!1),t(),!this.isFlagSet(e))throw new Error(`super.${e} not called in ${this}`)}callLoaded(){this.callFunctionWithSuper(si.superOnLoadedCalled,()=>this.onLoaded())}callUnloaded(){this.callFunctionWithSuper(si.superOnUnloadedCalled,()=>this.onUnloaded())}notifyPseudoClassChanged(e){this.notify({eventName:":"+e,object:this})}getAllAliasedStates(e){const t=[];if(t.push(e),e in this.pseudoClassAliases)for(let n=0;n<this.pseudoClassAliases[e].length;n++)t.push(this.pseudoClassAliases[e][n]);return t}addPseudoClass(e){const t=this.getAllAliasedStates(e);for(let n=0;n<t.length;n++)this.cssPseudoClasses.has(t[n])||(this.cssPseudoClasses.add(t[n]),this.notifyPseudoClassChanged(t[n]))}deletePseudoClass(e){const t=this.getAllAliasedStates(e);for(let n=0;n<t.length;n++)this.cssPseudoClasses.has(t[n])&&(this.cssPseudoClasses.delete(t[n]),this.notifyPseudoClassChanged(t[n]))}bindingContextChanged(e){this.bindings.get("bindingContext").bind(e.value)}bind(e,t=Rf){const n=e.targetProperty;this.unbind(n),this.bindings||(this.bindings=new Map);const r=new Lg(this,e);this.bindings.set(n,r);let s=t;if(s===Rf&&(s=this.bindingContext,r.sourceIsBindingContext=!0,n==="bindingContext")){this.bindingContextBoundToParentBindingContextChanged=!0;const a=this.parent;a?a.on("bindingContextChange",this.bindingContextChanged,this):this.shouldAddHandlerToParentBindingContextChanged=!0}r.bind(s)}unbind(e){const t=this.bindings;if(!t)return;const n=t.get(e);if(n&&(n.unbind(),t.delete(e),n.sourceIsBindingContext&&e==="bindingContext")){this.shouldAddHandlerToParentBindingContextChanged=!1,this.bindingContextBoundToParentBindingContextChanged=!1;const r=this.parent;r&&r.off("bindingContextChange",this.bindingContextChanged,this)}}performLayout(e=0){this._shouldDelayLayout()&&e<100?(setTimeout(()=>this.performLayout(e),e),e++):this.parent.requestLayout()}requestLayout(){this.parent&&this.performLayout()}eachChild(e){}_inheritStyles(e){uv(this,e),e._inheritStyleScope(this._styleScope),dv(this.style,e.style)}_addView(e,t){if(l.isEnabled()&&l.write(`${this}._addView(${e}, ${t})`,l.categories.ViewHierarchy),!e)throw new Error("Expecting a valid View instance.");if(!(e instanceof W))throw new Error(e+" is not a valid View instance.");if(e.parent)throw new Error("View already has a parent. View: "+e+" Parent: "+e.parent);e.parent=this,this._addViewCore(e,t),e._parentChanged(null),this.domNode&&this.domNode.onChildAdded(e)}_addViewCore(e,t){this._inheritStyles(e),this._context&&e._setupUI(this._context,t),this._isLoaded&&this.loadView(e)}loadView(e){e&&!e.isLoaded&&e.callLoaded()}_shouldDelayLayout(){return!1}unloadView(e){e&&e.isLoaded&&e.callUnloaded()}_removeView(e){if(l.isEnabled()&&l.write(`${this}._removeView(${e})`,l.categories.ViewHierarchy),e.parent!==this)throw new Error("View not added to this instance. View: "+e+" CurrentParent: "+e.parent+" ExpectedParent: "+this);this.domNode&&this.domNode.onChildRemoved(e),this._removeViewCore(e),e.parent=void 0,e._parentChanged(this)}_removeViewCore(e){this.unloadView(e),e._context&&e._tearDownUI()}createNativeView(){}disposeNativeView(){this._oldLeft=0,this._oldTop=0,this._oldRight=0,this._oldBottom=0,this.notify({eventName:W.disposeNativeViewEvent,object:this})}initNativeView(){}resetNativeView(){}resetNativeViewInternal(){}_setupAsRootView(e){this.mIsRootView=!0,this._setupUI(e),this.mIsRootView=!1}_setupUI(e,t,n){if(this._context===e){if(this.reusable&&!this.mIsRootView&&this.parent&&!this._isAddedToNativeVisualTree){const s=this.parent._childIndexToNativeChildIndex(t);this._isAddedToNativeVisualTree=this.parent._addViewToNativeVisualTree(this,s)}return}else this._context&&this._tearDownUI(!0);this._context=e;let r=this.nativeViewProtected;if(r||(r=this.createNativeView()),(this._androidView!==r||!this.reusable)&&(this._androidView=r,r)){const s=this.constructor.name;this._isPaddingRelative===void 0&&(this._isPaddingRelative=r.isPaddingRelative());let a=Kr.get(s)||r.defaultPaddings;a===void 0&&(Kr.set(s,org.nativescript.widgets.ViewHelper.getPadding(r)),r.defaultPaddings=Kr.get(s),a=Kr.get(s)),r.defaultPaddings||(r.defaultPaddings=Kr.get(s)),this._defaultPaddingTop=a.top,this._defaultPaddingRight=a.right,this._defaultPaddingBottom=a.bottom,this._defaultPaddingLeft=a.left;const o=this.style;Rt.isSet(o)||(this.effectivePaddingTop=this._defaultPaddingTop),kt.isSet(o)||(this.effectivePaddingRight=this._defaultPaddingRight),Ft.isSet(o)||(this.effectivePaddingBottom=this._defaultPaddingBottom),Lt.isSet(o)||(this.effectivePaddingLeft=this._defaultPaddingLeft)}if(this.setNativeView(r),!this.mIsRootView&&this.parent){const s=this.parent._childIndexToNativeChildIndex(t);this._isAddedToNativeVisualTree=this.parent._addViewToNativeVisualTree(this,s)}this._resumeNativeUpdates(je.UISetup),this.eachChild(s=>(s._setupUI(e),!0))}setNativeView(e){this.__nativeView!==e&&(this.__nativeView&&this._suspendNativeUpdates(je.NativeView),this.__nativeView=this.nativeViewProtected=e,this.__nativeView&&(this._suspendedUpdates=void 0,this.initNativeView(),this._resumeNativeUpdates(je.NativeView)))}destroyNode(e){this.reusable=!1,this.callUnloaded(),this._tearDownUI(e)}_tearDownUI(e){if(!this._context)return;const t=this.reusable&&!e;this.resetNativeViewInternal(),t||this.eachChild(n=>(n._tearDownUI(e),!0)),this.parent&&this.parent._removeViewFromNativeVisualTree(this),t||(this.disposeNativeView(),this._suspendNativeUpdates(je.UISetup),this.setNativeView(null),this._androidView=null,this._iosView=null,this._context=null),this.domNode&&(this.domNode.dispose(),this.domNode=void 0)}_childIndexToNativeChildIndex(e){return e}_addViewToNativeVisualTree(e,t){if(e._isAddedToNativeVisualTree)throw new Error("Child already added to the native visual tree.");return!0}_removeViewFromNativeVisualTree(e){e._isAddedToNativeVisualTree=!1}get visualState(){return this._visualState}_goToVisualState(e){l.isEnabled()&&l.write(this+" going to state: "+e,l.categories.Style),e!==this._visualState&&(this.deletePseudoClass(this._visualState),this._visualState=e,this.addPseudoClass(e))}_applyXmlAttribute(e,t){return console.log("ViewBase._applyXmlAttribute(...) is deprecated; set attributes as plain properties instead"),e==="style"||e==="rows"||e==="columns"||e==="fontAttributes"?(this[e]=t,!0):!1}setInlineStyle(e){if(typeof e!="string")throw new Error("Parameter should be valid CSS string!");Vb(),iu.applyInlineStyle(this,e,void 0)}_parentChanged(e){const t=this.parent;e?(lv(this),this.bindingContextBoundToParentBindingContextChanged&&e.off("bindingContextChange",this.bindingContextChanged,this)):this.shouldAddHandlerToParentBindingContextChanged&&(t.on("bindingContextChange",this.bindingContextChanged,this),this.bindings.get("bindingContext").bind(t.bindingContext))}onResumeNativeUpdates(){av(this,void 0,void 0)}toString(){let e=this.typeName;this.id?e+=`<${this.id}>`:e+=`(${this._domId})`;const t=Gt.get(this);return t&&(e+=`@${t};`),e}_onCssStateChange(){this._cssState.onChange(),kn(this,e=>(e._cssState.onChange(),!0))}_inheritStyleScope(e){this._isStyleScopeHost||this._styleScope!==e&&(this._styleScope=e,this._onCssStateChange(),this.eachChild(t=>(t._inheritStyleScope(e),!0)))}showModal(e,t){const n=this.parent;return n&&n.showModal(e,t)}closeModal(...e){const t=this.parent;t&&t.closeModal(...e)}_dialogClosed(){kn(this,e=>(e._dialogClosed(),!0))}_onRootViewReset(){kn(this,e=>(e._onRootViewReset(),!0))}}W.loadedEvent="loaded";W.unloadedEvent="unloaded";W.createdEvent="created";W.disposeNativeViewEvent="disposeNativeView";__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],W.prototype,"onLoaded",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],W.prototype,"onUnloaded",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[String]),__metadata("design:returntype",void 0)],W.prototype,"addPseudoClass",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[String]),__metadata("design:returntype",void 0)],W.prototype,"deletePseudoClass",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],W.prototype,"requestLayout",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[W,Number]),__metadata("design:returntype",void 0)],W.prototype,"_addView",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object,Number,Boolean]),__metadata("design:returntype",void 0)],W.prototype,"_setupUI",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Boolean]),__metadata("design:returntype",void 0)],W.prototype,"_tearDownUI",null);W.prototype.isCollapsed=!1;W.prototype._oldLeft=0;W.prototype._oldTop=0;W.prototype._oldRight=0;W.prototype._oldBottom=0;W.prototype.effectiveMinWidth=0;W.prototype.effectiveMinHeight=0;W.prototype.effectiveWidth=0;W.prototype.effectiveHeight=0;W.prototype.effectiveMarginTop=0;W.prototype.effectiveMarginRight=0;W.prototype.effectiveMarginBottom=0;W.prototype.effectiveMarginLeft=0;W.prototype.effectivePaddingTop=0;W.prototype.effectivePaddingRight=0;W.prototype.effectivePaddingBottom=0;W.prototype.effectivePaddingLeft=0;W.prototype.effectiveBorderTopWidth=0;W.prototype.effectiveBorderRightWidth=0;W.prototype.effectiveBorderBottomWidth=0;W.prototype.effectiveBorderLeftWidth=0;W.prototype._defaultPaddingTop=0;W.prototype._defaultPaddingRight=0;W.prototype._defaultPaddingBottom=0;W.prototype._defaultPaddingLeft=0;W.prototype._isViewBase=!0;W.prototype.recycleNativeView="never";W.prototype.reusable=!1;W.prototype._suspendNativeUpdatesCount=je.Loaded|je.NativeView|je.UISetup;const Nb=new Yo({name:"bindingContext"});Nb.register(W);const ru=new b({name:"hidden",defaultValue:!1,affectsLayout:!1,valueConverter:K,valueChanged:(i,e,t)=>{i&&(i.isCollapsed=!!t)}});ru.register(W);const Lb=new b({name:"className",valueChanged(i,e,t){const n=i.cssClasses,r=ue.getSystemCssClasses(),s=n.has(ue.MODAL_ROOT_VIEW_CSS_CLASS),a=n.has(ue.ROOT_VIEW_CSS_CLASS);n.clear(),s?n.add(ue.MODAL_ROOT_VIEW_CSS_CLASS):a&&n.add(ue.ROOT_VIEW_CSS_CLASS),r.forEach(o=>n.add(o)),typeof t=="string"&&t!==""&&t.split(" ").forEach(o=>n.add(o)),i._onCssStateChange()}});Lb.register(W);const kb=new b({name:"id",valueChanged:(i,e,t)=>i._onCssStateChange()});kb.register(W);function K(i){const e=(i+"").toLowerCase();if(e==="true")return!0;if(e==="false")return!1;throw new Error(`Invalid boolean: ${i}`)}class rn{static measureChild(e,t,n,r){let s=0,a=0;if(t&&!t.isCollapsed){const o=e?e._currentWidthMeasureSpec:n,c=e?e._currentHeightMeasureSpec:r,u=V.getMeasureSpecSize(o),d=V.getMeasureSpecMode(o),h=V.getMeasureSpecSize(c),m=V.getMeasureSpecMode(c);t._updateEffectiveLayoutValues(u,d,h,m);const p=t.style,g=t.effectiveMarginLeft+t.effectiveMarginRight,v=t.effectiveMarginTop+t.effectiveMarginBottom,y=rn.getMeasureSpec(n,g,t.effectiveWidth,p.horizontalAlignment==="stretch"),A=rn.getMeasureSpec(r,v,t.effectiveHeight,p.verticalAlignment==="stretch");l.isEnabled()&&l.write(`${t.parent} :measureChild: ${t} ${V.measureSpecToString(y)}, ${V.measureSpecToString(A)}}`,l.categories.Layout),t.measure(y,A),s=Math.round(t.getMeasuredWidth()+g),a=Math.round(t.getMeasuredHeight()+v)}return{measuredWidth:s,measuredHeight:a}}static layoutChild(e,t,n,r,s,a,o=!0){if(!t||t.isCollapsed)return;const c=t.style;let u,d,h=t.getMeasuredWidth(),m=t.getMeasuredHeight();const p=t.effectiveMarginTop,g=t.effectiveMarginBottom;let v;switch(t.effectiveHeight>=0&&c.verticalAlignment==="stretch"?v="middle":v=c.verticalAlignment,v){case"top":u=r+p;break;case"middle":u=r+(a-r-m+(p-g))/2;break;case"bottom":u=a-m-g;break;case"stretch":default:u=r+p,m=a-r-(p+g),m<0&&(m=0);break}const y=t.effectiveMarginLeft,A=t.effectiveMarginRight;let P;switch(t.effectiveWidth>=0&&c.horizontalAlignment==="stretch"?P="center":P=c.horizontalAlignment,P){case"left":d=n+y;break;case"center":d=n+(s-n-h+(y-A))/2;break;case"right":d=s-h-A;break;case"stretch":default:d=n+y,h=s-n-(y+A),h<0&&(h=0);break}const I=Math.round(d+h),w=Math.round(u+m);d=Math.round(d),u=Math.round(u),l.isEnabled()&&l.write(t.parent+" :layoutChild: "+t+" "+d+", "+u+", "+I+", "+w,l.categories.Layout),t.layout(d,u,I,w,o)}static resolveSizeAndState(e,t,n,r){let s=e;switch(n){case V.UNSPECIFIED:s=Math.ceil(e);break;case V.AT_MOST:t<e&&(s=Math.ceil(t)|V.MEASURED_STATE_TOO_SMALL);break;case V.EXACTLY:s=Math.ceil(t);break}return s|r&V.MEASURED_STATE_MASK}static combineMeasuredStates(e,t){return e|t}static getMeasureSpec(e,t,n,r){const s=V.getMeasureSpecSize(e),a=V.getMeasureSpecMode(e);let o,c;if(n>=0)o=a===V.UNSPECIFIED?n:Math.min(s,n),c=V.EXACTLY;else switch(a){case V.EXACTLY:o=Math.max(0,s-t),c=r?V.EXACTLY:V.AT_MOST;break;case V.AT_MOST:o=Math.max(0,s-t),c=V.AT_MOST;break;case V.UNSPECIFIED:o=0,c=V.UNSPECIFIED;break}return V.makeMeasureSpec(o,c)}}const Rb=0,Ff=androidx.core.graphics;class xe{static getDrawableColor(e){if(!e)return null;let t;return e instanceof org.nativescript.widgets.BorderDrawable?t=e.getBackgroundColor():e instanceof android.graphics.drawable.ColorDrawable?t=e.getColor():t=e._backgroundColor,new S(t)}static setDrawableColor(e,t,n){G<21&&t instanceof android.graphics.drawable.ColorDrawable?t.setColor(e):(t.setColorFilter(Ff.BlendModeColorFilterCompat.createBlendModeColorFilterCompat(e,n??Ff.BlendModeCompat.SRC_IN)),t._backgroundColor=e)}static clearDrawableColor(e){G<21&&e instanceof android.graphics.drawable.ColorDrawable?e.setColor(-1):(e.clearColorFilter(),delete e._backgroundColor)}static getCopyOrDrawable(e,t){if(e){const n=e.getConstantState();if(n)return t?n.newDrawable(t):n.newDrawable()}return e}}var be;(function(i){i.opacity="opacity",i.backgroundColor="backgroundColor",i.translate="translate",i.rotate="rotate",i.scale="scale",i.height="height",i.width="width"})(be||(be={}));class Fb{constructor(e,t,n,r){this.x1=e,this.y1=t,this.x2=n,this.y2=r}}class lh{constructor(e,t){if(!e||e.length===0){console.error("No animation definitions specified");return}l.isEnabled()&&l.write("Analyzing "+e.length+" animation definitions...",l.categories.Animation),this._propertyAnimations=new Array;for(let n=0,r=e.length;n<r;n++)e[n].curve&&(e[n].curve=this._resolveAnimationCurve(e[n].curve)),this._propertyAnimations=this._propertyAnimations.concat(lh._createPropertyAnimations(e[n]));if(this._propertyAnimations.length===0){l.isEnabled()&&l.write("Nothing to animate.",l.categories.Animation);return}l.isEnabled()&&l.write("Created "+this._propertyAnimations.length+" individual property animations.",l.categories.Animation),this._playSequentially=t}_rejectAlreadyPlaying(){const e="Animation is already playing.";return l.write(e,l.categories.Animation,l.messageType.warn),new Promise((t,n)=>{n(e)})}play(){const e=new Promise((t,n)=>{this._resolve=t,this._reject=n});return this.fixupAnimationPromise(e),this._isPlaying=!0,e}fixupAnimationPromise(e){const t=this;e.cancel=()=>{t.cancel()};const n=e.then;e.then=function(){const s=n.apply(e,arguments);return t.fixupAnimationPromise(s),s};const r=e.catch;e.catch=function(){const s=r.apply(e,arguments);return t.fixupAnimationPromise(s),s}}cancel(){}get isPlaying(){return this._isPlaying}_resolveAnimationFinishedPromise(){this._isPlaying=!1,this._resolve()}_rejectAnimationFinishedPromise(){this._isPlaying=!1,this._reject(new Error("Animation cancelled."))}static _createPropertyAnimations(e){if(!e.target){console.error("No animation target specified.");return}for(const n in e){const r=e[n];if(r!==void 0){if((n===be.opacity||n==="duration"||n==="delay"||n==="iterations")&&typeof r!="number"){console.error(`Property ${n} must be valid number. Value: ${r}`);return}else if((n===be.scale||n===be.translate)&&(typeof r.x!="number"||typeof r.y!="number")){console.error(`Property ${n} must be valid Pair. Value: ${r}`);return}else if(n===be.backgroundColor&&!S.isValid(e.backgroundColor)){console.error(`Property ${n} must be valid color. Value: ${r}`);return}else if(n===be.width||n===be.height)e[n]=fe.parse(r);else if(n===be.rotate){const s=r;if(typeof s!="number"&&!(typeof s.x=="number"&&typeof s.y=="number"&&typeof s.z=="number")){console.error(`Property ${s} must be valid number or Point3D. Value: ${r}`);return}}}}const t=new Array;if(e.opacity!==void 0&&t.push({target:e.target,property:be.opacity,value:e.opacity,duration:e.duration,delay:e.delay,iterations:e.iterations,curve:e.curve}),e.backgroundColor!==void 0&&t.push({target:e.target,property:be.backgroundColor,value:typeof e.backgroundColor=="string"?new S(e.backgroundColor):e.backgroundColor,duration:e.duration,delay:e.delay,iterations:e.iterations,curve:e.curve}),e.translate!==void 0&&t.push({target:e.target,property:be.translate,value:e.translate,duration:e.duration,delay:e.delay,iterations:e.iterations,curve:e.curve}),e.scale!==void 0&&t.push({target:e.target,property:be.scale,value:e.scale,duration:e.duration,delay:e.delay,iterations:e.iterations,curve:e.curve}),e.rotate!==void 0){let n;typeof e.rotate=="number"?n={x:0,y:0,z:e.rotate}:n=e.rotate,t.push({target:e.target,property:be.rotate,value:n,duration:e.duration,delay:e.delay,iterations:e.iterations,curve:e.curve})}return e.height!==void 0&&t.push({target:e.target,property:be.height,value:e.height,duration:e.duration,delay:e.delay,iterations:e.iterations,curve:e.curve}),e.width!==void 0&&t.push({target:e.target,property:be.width,value:e.width,duration:e.duration,delay:e.delay,iterations:e.iterations,curve:e.curve}),t.length===0&&console.error("No known animation properties specified"),t}static _getAnimationInfo(e){return JSON.stringify({target:e.target.id,property:e.property,value:e.value,duration:e.duration,delay:e.delay,iterations:e.iterations,curve:e.curve})}}function $i(i){let e;return()=>e||(e=i())}class Ob{}class Db{constructor(){this.curve=E.AnimationCurve.ease}}class uh{constructor(){this.name="",this.duration=.3,this.delay=0,this.iterations=1,this.curve="ease",this.isForwards=!1,this.isReverse=!1}}class vs{constructor(){this.delay=0,this.iterations=1}static keyframeAnimationFromInfo(e){var a;if(!((a=e==null?void 0:e.keyframes)!=null&&a.length))return l.write(`No keyframes found for animation '${e.name}'.`,l.categories.Animation,l.messageType.warn),null;const t=e.keyframes.length,n=new Array;let r=0;if(e.isReverse)for(let o=t-1;o>=0;o--){const c=e.keyframes[o];r=vs.parseKeyframe(e,c,n,r)}else{for(let o=0;o<t;o++){const c=e.keyframes[o];r=vs.parseKeyframe(e,c,n,r)}for(let o=t-1;o>0;o--){const c=n[o],u=n[o-1];u.curve!==void 0&&(c.curve=u.curve,u.curve=void 0)}}n.map(o=>o.curve?o:Object.assign(o,{curve:e.curve}));const s=new vs;return s.delay=e.delay,s.iterations=e.iterations,s.animations=n,s._isForwards=e.isForwards,s}static parseKeyframe(e,t,n,r){const s={};for(const o of t.declarations)s[o.property]=o.value;let a=t.duration;return a===0?a=.01:(a=e.duration*a-r,r+=a),s.duration=e.isReverse?e.duration-a:a,s.curve=t.curve,s.forceLayer=!0,s.valueSource="keyframe",n.push(s),r}get isPlaying(){return this._isPlaying}cancel(){if(!this.isPlaying){l.write("Keyframe animation is already playing.",l.categories.Animation,l.messageType.warn);return}this._isPlaying=!1;for(let e=this._nativeAnimations.length-1;e>=0;e--){const t=this._nativeAnimations[e];t.isPlaying&&t.cancel()}if(this._nativeAnimations.length>0){const e=this._nativeAnimations[0];this._resetAnimationValues(this._target,e)}this._resetAnimations()}play(e){if(this._isPlaying)return l.write("Keyframe animation is already playing.",l.categories.Animation,l.messageType.warn),new Promise(n=>{n()});const t=new Promise(n=>{this._resolve=n});return this._isPlaying=!0,this._nativeAnimations=new Array,this._target=e,this.delay!==0?setTimeout(()=>this.animate(e,0,this.iterations),this.delay):this.animate(e,0,this.iterations),t}animate(e,t,n){if(this._isPlaying)if(t===0){const r=this.animations[0];"backgroundColor"in r&&(e.style[we.keyframe]=r.backgroundColor),"scale"in r&&(e.style[Ct.keyframe]=r.scale.x,e.style[bt.keyframe]=r.scale.y),"translate"in r&&(e.style[xt.keyframe]=r.translate.x,e.style[St.keyframe]=r.translate.y),"rotate"in r&&(e.style[zt.keyframe]=r.rotate.x,e.style[qt.keyframe]=r.rotate.y,e.style[_t.keyframe]=r.rotate.z),"opacity"in r&&(e.style[Tt.keyframe]=r.opacity),"height"in r&&(e.style[br.keyframe]=r.height),"width"in r&&(e.style[Cr.keyframe]=r.width),setTimeout(()=>this.animate(e,1,n),1)}else if(t<0||t>=this.animations.length)if(n-=1,n>0)this.animate(e,0,n);else{if(this._isForwards===!1){const r=this.animations[this.animations.length-1];this._resetAnimationValues(e,r)}this._resolveAnimationFinishedPromise()}else{let r;const s=this._nativeAnimations[t-1];if(s)r=s;else{const o={...this.animations[t],target:e};r=new Bn([o]),this._nativeAnimations.push(r)}const a=n-1<=0;r.play(a).then(()=>{this.animate(e,t+1,n)},o=>{l.write(typeof o=="string"?o:o.message,l.categories.Animation,l.messageType.warn)}).catch(o=>{l.write(typeof o=="string"?o:o.message,l.categories.Animation,l.messageType.warn)})}}_resolveAnimationFinishedPromise(){this._nativeAnimations=new Array,this._isPlaying=!1,this._target=null,this._resolve()}_resetAnimations(){this._nativeAnimations=new Array,this._isPlaying=!1,this._target=null}_resetAnimationValues(e,t){"backgroundColor"in t&&(e.style[we.keyframe]=D),"scale"in t&&(e.style[Ct.keyframe]=D,e.style[bt.keyframe]=D),"translate"in t&&(e.style[xt.keyframe]=D,e.style[St.keyframe]=D),"rotate"in t&&(e.style[_t.keyframe]=D),"opacity"in t&&(e.style[Tt.keyframe]=D),"height"in t&&(e.style[br.keyframe]=D),"width"in t&&(e.style[Cr.keyframe]=D)}}let su;function Bb(){su||(su=new android.animation.ArgbEvaluator)}const Mb=$i(()=>new android.view.animation.AccelerateInterpolator(1)),Ub=$i(()=>new android.view.animation.DecelerateInterpolator(1)),Wb=$i(()=>new android.view.animation.AccelerateDecelerateInterpolator),Hb=$i(()=>new android.view.animation.LinearInterpolator),jb=$i(()=>new android.view.animation.BounceInterpolator);function dh(i){switch(i){case"easeIn":return l.isEnabled()&&l.write("Animation curve resolved to android.view.animation.AccelerateInterpolator(1).",l.categories.Animation),Mb();case"easeOut":return l.isEnabled()&&l.write("Animation curve resolved to android.view.animation.DecelerateInterpolator(1).",l.categories.Animation),Ub();case"easeInOut":return l.isEnabled()&&l.write("Animation curve resolved to android.view.animation.AccelerateDecelerateInterpolator().",l.categories.Animation),Wb();case"linear":return l.isEnabled()&&l.write("Animation curve resolved to android.view.animation.LinearInterpolator().",l.categories.Animation),Hb();case"spring":return l.isEnabled()&&l.write("Animation curve resolved to android.view.animation.BounceInterpolator().",l.categories.Animation),jb();case"ease":return androidx.core.view.animation.PathInterpolatorCompat.create(.25,.1,.25,1);default:if(l.isEnabled()&&l.write("Animation curve resolved to original: "+i,l.categories.Animation),i instanceof Fb)return androidx.core.view.animation.PathInterpolatorCompat.create(i.x1,i.y1,i.x2,i.y2);if(i&&i.getInterpolation)return i;if(i instanceof android.view.animation.LinearInterpolator)return i;throw new Error(`Invalid animation curve: ${i}`)}}function xm(i){return i===Number.POSITIVE_INFINITY?android.view.animation.Animation.INFINITE:i-1}function zi(i,e,t){const n=Array.create("float",1);return n[0]=t,android.animation.ObjectAnimator.ofFloat(i,e,n)}function il(i,e){e=xm(e);const t=new android.animation.AnimatorSet,n=Array.create(android.animation.Animator,i.length);return i.forEach((r,s)=>{n[s]=r,n[s].setRepeatCount(e)}),t.playTogether(n),t.setupStartValues(),t}class Bn extends lh{constructor(e,t){super(e,t),this._resetOnFinish=!0,this._valueSource="animation",e.length>0&&e[0].valueSource!==void 0&&(this._valueSource=e[0].valueSource);const n=new WeakRef(this);this._animatorListener=new android.animation.Animator.AnimatorListener({onAnimationStart:function(r){l.isEnabled()&&l.write("MainAnimatorListener.onAndroidAnimationStart("+r+")",l.categories.Animation)},onAnimationRepeat:function(r){l.isEnabled()&&l.write("MainAnimatorListener.onAnimationRepeat("+r+")",l.categories.Animation)},onAnimationEnd:function(r){l.isEnabled()&&l.write("MainAnimatorListener.onAnimationEnd("+r+")",l.categories.Animation);const s=n==null?void 0:n.get();s&&s._onAndroidAnimationEnd()},onAnimationCancel:function(r){l.isEnabled()&&l.write("MainAnimatorListener.onAnimationCancel("+r+")",l.categories.Animation);const s=n==null?void 0:n.get();s&&s._onAndroidAnimationCancel()}})}play(e){if(e!==void 0&&(this._resetOnFinish=e),this.isPlaying)return this._rejectAlreadyPlaying();const t=super.play();if(!this._animatorSet){this._animators=new Array,this._propertyUpdateCallbacks=new Array,this._propertyResetCallbacks=new Array;for(let n=0,r=this._propertyAnimations.length;n<r;n++)this._createAnimators(this._propertyAnimations[n]);this._nativeAnimatorsArray=Array.create(android.animation.Animator,this._animators.length);for(let n=0,r=this._animators.length;n<r;n++)this._nativeAnimatorsArray[n]=this._animators[n];this._animatorSet=new android.animation.AnimatorSet,this._animatorSet.addListener(this._animatorListener)}return this._play(),t}cancel(){if(!this.isPlaying){l.write("Animation is not currently playing.",l.categories.Animation,l.messageType.warn);return}l.write("Cancelling AnimatorSet.",l.categories.Animation),this._animatorSet.cancel()}_resolveAnimationCurve(e){return dh(e)}_play(){G<=23&&(this._animatorSet=new android.animation.AnimatorSet,this._animatorSet.addListener(this._animatorListener)),this._animators.length>0&&(this._playSequentially?this._animatorSet.playSequentially(this._nativeAnimatorsArray):this._animatorSet.playTogether(this._nativeAnimatorsArray)),l.isEnabled()&&l.write("Starting "+this._nativeAnimatorsArray.length+" animations "+(this._playSequentially?"sequentially.":"together."),l.categories.Animation),this._animatorSet.setupStartValues(),this._animatorSet.start()}_onAndroidAnimationEnd(){this.isPlaying&&(this._propertyUpdateCallbacks.forEach(e=>e()),this._resolveAnimationFinishedPromise(),this._resetOnFinish&&this._target&&this._target._removeAnimation(this))}_onAndroidAnimationCancel(){this._propertyResetCallbacks.forEach(e=>e()),this._resolveAnimationFinishedPromise(),this._target&&this._target._removeAnimation(this)}_createAnimators(e){if(!e.target.nativeViewProtected)return;if(l.isEnabled()&&l.write("Creating ObjectAnimator(s) for animation: "+Bn._getAnimationInfo(e)+"...",l.categories.Animation),e.target===null||e.target===void 0)throw new Error(`Animation target cannot be null or undefined; property: ${e.property}; value: ${e.value};`);if(e.property===null||e.property===void 0)throw new Error(`Animation property cannot be null or undefined; target: ${e.target}; value: ${e.value};`);if(e.value===null||e.value===void 0)throw new Error(`Animation value cannot be null or undefined; target: ${e.target}; property: ${e.property};`);this._target=e.target;const t=e.target.nativeViewProtected,n=new Array,r=new Array,s=new Array;let a,o,c;const u=V.getDisplayDensity(),d=this._valueSource==="animation",h=e.target.style;switch(e.property){case be.opacity:Tt._initDefaultNativeValue(h),a=t.getAlpha(),r.push(()=>{e.target.style[d?Tt.name:Tt.keyframe]=e.value}),s.push(()=>{d?e.target.style[Tt.name]=a:e.target.style[Tt.keyframe]=a,e.target.nativeViewProtected&&e.target[Tt.setNative](e.target.style.opacity)}),n.push(zi(t,"alpha",e.value));break;case be.backgroundColor:{we._initDefaultNativeValue(h),Bb(),a=e.target.backgroundColor;const m=Array.create(java.lang.Object,2);m[0]=e.target.backgroundColor?java.lang.Integer.valueOf(e.target.backgroundColor.argb):java.lang.Integer.valueOf(-1),m[1]=java.lang.Integer.valueOf(e.value.argb);const p=android.animation.ValueAnimator.ofObject(su,m);p.addUpdateListener(new android.animation.ValueAnimator.AnimatorUpdateListener({onAnimationUpdate(g){const v=g.getAnimatedValue().intValue();e.target.style[d?we.name:we.keyframe]=new S(v)}})),r.push(()=>{e.target.style[d?we.name:we.keyframe]=e.value}),s.push(()=>{d?e.target.style[we.name]=a:e.target.style[we.keyframe]=a,e.target.nativeViewProtected&&e.target[we.setNative]&&e.target[we.setNative](e.target.style.backgroundColor)}),n.push(p);break}case be.translate:xt._initDefaultNativeValue(h),St._initDefaultNativeValue(h),a=t.getTranslationX()/u,o=t.getTranslationY()/u,r.push(()=>{e.target.style[d?xt.name:xt.keyframe]=e.value.x,e.target.style[d?St.name:St.keyframe]=e.value.y}),s.push(()=>{d?(e.target.style[xt.name]=a,e.target.style[St.name]=o):(e.target.style[xt.keyframe]=a,e.target.style[St.keyframe]=o),e.target.nativeViewProtected&&(e.target[xt.setNative](e.target.style.translateX),e.target[St.setNative](e.target.style.translateY))}),n.push(il([zi(t,"translationX",e.value.x*u),zi(t,"translationY",e.value.y*u)],e.iterations));break;case be.scale:Ct._initDefaultNativeValue(h),bt._initDefaultNativeValue(h),a=t.getScaleX(),o=t.getScaleY(),r.push(()=>{e.target.style[d?Ct.name:Ct.keyframe]=e.value.x,e.target.style[d?bt.name:bt.keyframe]=e.value.y}),s.push(()=>{d?(e.target.style[Ct.name]=a,e.target.style[bt.name]=o):(e.target.style[Ct.keyframe]=a,e.target.style[bt.keyframe]=o),e.target.nativeViewProtected&&(e.target[Ct.setNative](e.target.style.scaleX),e.target[bt.setNative](e.target.style.scaleY))}),n.push(il([zi(t,"scaleX",e.value.x),zi(t,"scaleY",e.value.y)],e.iterations));break;case be.rotate:_t._initDefaultNativeValue(h),zt._initDefaultNativeValue(h),qt._initDefaultNativeValue(h),a=t.getRotationX(),o=t.getRotationY(),c=t.getRotation(),r.push(()=>{e.target.style[d?zt.name:zt.keyframe]=e.value.x,e.target.style[d?qt.name:qt.keyframe]=e.value.y,e.target.style[d?_t.name:_t.keyframe]=e.value.z}),s.push(()=>{d?(e.target.style[zt.name]=a,e.target.style[qt.name]=o,e.target.style[_t.name]=c):(e.target.style[zt.keyframe]=a,e.target.style[qt.keyframe]=o,e.target.style[_t.keyframe]=c),e.target.nativeViewProtected&&(e.target[_t.setNative](e.target.style.rotate),e.target[zt.setNative](e.target.style.rotateX),e.target[qt.setNative](e.target.style.rotateY))}),n.push(il([zi(t,"rotationX",e.value.x),zi(t,"rotationY",e.value.y),zi(t,"rotation",e.value.z)],e.iterations));break;case be.width:case be.height:{const m=e.property==="height",p=m?br:Cr;p._initDefaultNativeValue(h);const g=Array.create("float",2);let v=e.value;const y=e.target.parent;if(!y)throw new Error(`cannot animate ${e.property} on root view`);const A=m?y.getMeasuredHeight():y.getMeasuredWidth();v=fe.toDevicePixels(v,A,A)/Ve.mainScreen.scale;const P=m?t.getHeight():t.getWidth(),I=d?p.name:p.keyframe;a=P/Ve.mainScreen.scale,g[0]=a,g[1]=v;const w=android.animation.ValueAnimator.ofFloat(g);w.addUpdateListener(new android.animation.ValueAnimator.AnimatorUpdateListener({onAnimationUpdate(k){const F=k.getAnimatedValue().floatValue();e.target.style[d?p.name:p.keyframe]=F}})),r.push(()=>{e.target.style[I]=e.value}),s.push(()=>{if(e.target.style[I]=a,e.target.nativeViewProtected){const k=e.target[p.setNative];k(e.target.style[e.property])}}),n.push(w);break}default:throw new Error(`Animating property '${e.property}' is unsupported`)}for(let m=0,p=n.length;m<p;m++)e.duration!==void 0&&n[m].setDuration(e.duration),e.delay!==void 0&&n[m].setStartDelay(e.delay),e.iterations!==void 0&&n[m]instanceof android.animation.ValueAnimator&&n[m].setRepeatCount(xm(e.iterations)),e.curve!==void 0&&n[m].setInterpolator(e.curve),l.isEnabled()&&l.write("Animator created: "+n[m],l.categories.Animation);this._animators=this._animators.concat(n),this._propertyUpdateCallbacks=this._propertyUpdateCallbacks.concat(r),this._propertyResetCallbacks=this._propertyResetCallbacks.concat(s)}}var wo;(function(i){i.up="up",i.down="down"})(wo||(wo={}));class Ae{static addAnimations(e){const t=(e==null?void 0:e.touchAnimation)&&(e==null?void 0:e.touchAnimation).down||Ae.animations&&Ae.animations.down,n=(e==null?void 0:e.touchAnimation)&&(e==null?void 0:e.touchAnimation).up||Ae.animations&&Ae.animations.up;(t||n)&&(e.on(O[O.touch],r=>{switch(r.action){case"down":t&&e.notify({eventName:sn.touchDown,object:e,data:r.android});break;case"up":case"cancel":n&&e.notify({eventName:sn.touchUp,object:e,data:r.android});break}}),t&&e.on(sn.touchDown,r=>{Ae.startAnimationForType(e,wo.down)}),n&&e.on(sn.touchUp,r=>{Ae.startAnimationForType(e,wo.up)})),e.on(L.disposeNativeViewEvent,r=>{var a,o;const s=(a=Ae.touchHandlers)==null?void 0:a.findIndex(c=>c.view===r.object);s>-1&&Ae.touchHandlers.splice(s,1),Ae.touchAnimationDefinitions=(o=Ae.touchAnimationDefinitions)==null?void 0:o.filter(c=>c.view!==r.object)})}static startAnimationForType(e,t){var n,r;if(e){const s=function(a){if(a)if(cr(a))a(e);else{Ae.touchAnimationDefinitions||(Ae.touchAnimationDefinitions=[]);let o;for(const c of Ae.touchAnimationDefinitions)c.view===e&&c.animation&&(c.animation.cancel(),c.type===t&&(o=c.animation));o||(o=new Bn([{target:e,...a}]),Ae.touchAnimationDefinitions.push({view:e,type:t,animation:o})),o.play().catch(()=>{})}};$s(e.touchAnimation)&&e.touchAnimation[t]?s(e.touchAnimation[t]):(n=Ae.animations)!=null&&n[t]&&s((r=Ae.animations)==null?void 0:r[t])}}static addHoverStyle(e){}}var sn;(function(i){i.gestureAttached="gestureAttached",i.touchDown="touchDown",i.touchUp="touchUp"})(sn||(sn={}));var O;(function(i){i[i.tap=1]="tap",i[i.doubleTap=2]="doubleTap",i[i.pinch=4]="pinch",i[i.pan=8]="pan",i[i.swipe=16]="swipe",i[i.rotation=32]="rotation",i[i.longPress=64]="longPress",i[i.touch=128]="touch"})(O||(O={}));var ot;(function(i){i[i.cancelled=0]="cancelled",i[i.began=1]="began",i[i.changed=2]="changed",i[i.ended=3]="ended"})(ot||(ot={}));var En;(function(i){i[i.right=1]="right",i[i.left=2]="left",i[i.up=4]="up",i[i.down=8]="down"})(En||(En={}));var ui;(function(i){i.down="down",i.up="up",i.move="move",i.cancel="cancel"})(ui||(ui={}));function Mi(i){switch(i){case O.tap:return O[O.tap];case O.doubleTap:return O[O.doubleTap];case O.pinch:return O[O.pinch];case O.pan:return O[O.pan];case O.swipe:return O[O.swipe];case O.rotation:return O[O.rotation];case O.longPress:return O[O.longPress];case O.touch:return O[O.touch]}}function Of(i){switch(i.trim().toLowerCase()){case"tap":return O.tap;case"doubletap":return O.doubleTap;case"pinch":return O.pinch;case"pan":return O.pan;case"swipe":return O.swipe;case"rotation":return O.rotation;case"longpress":return O.longPress;case"touch":return O.touch}}class $b{get callback(){return this._callback}get target(){return this._target}get context(){return this._context}constructor(e,t,n){this._target=e,this._callback=t,this._context=n}disconnect(){this._target=null,this._callback=null,this._context=null}}let au;function Gb(){if(!au){var i=function(e){__extends(t,e);function t(n,r,s){var a=e.call(this)||this;return a._lastUpTime=0,a._observer=n,a._target=r,a._type=s,global.__native(a)}return t.prototype.onSingleTapUp=function(n){return this._handleSingleTap(n),this._lastUpTime=Date.now(),!0},t.prototype.onDown=function(n){var r=Date.now();return r-this._lastUpTime<=t.DoubleTapTimeout&&this._handleDoubleTap(n),!0},t.prototype.onLongPress=function(n){if(this._type===O.longPress){var r=Kb(O.longPress,this._target,ot.began,n);Ge(this._observer,r)}},t.prototype._handleSingleTap=function(n){var r=this;if(this._target.getGestureObservers(O.doubleTap))this._tapTimeoutId=kp(function(){if(r._type===O.tap){var a=nl(O.tap,r._target,n);Ge(r._observer,a)}jh(r._tapTimeoutId)},t.DoubleTapTimeout);else if(this._type===O.tap){var s=nl(O.tap,this._target,n);Ge(this._observer,s)}},t.prototype._handleDoubleTap=function(n){if(this._tapTimeoutId&&jh(this._tapTimeoutId),this._type===O.doubleTap){var r=nl(O.doubleTap,this._target,n);Ge(this._observer,r)}},t.DoubleTapTimeout=android.view.ViewConfiguration.getDoubleTapTimeout(),t}(android.view.GestureDetector.SimpleOnGestureListener);au=i}}let ou;function zb(){if(!ou){var i=function(e){__extends(t,e);function t(n,r){var s=e.call(this)||this;return s._observer=n,s._target=r,global.__native(s)}return t.prototype.onScaleBegin=function(n){this._scale=n.getScaleFactor();var r=new sl(this._target,n,this._scale,this._target,ot.began);return Ge(this._observer,r),!0},t.prototype.onScale=function(n){this._scale*=n.getScaleFactor();var r=new sl(this._target,n,this._scale,this._target,ot.changed);return Ge(this._observer,r),!0},t.prototype.onScaleEnd=function(n){this._scale*=n.getScaleFactor();var r=new sl(this._target,n,this._scale,this._target,ot.ended);Ge(this._observer,r)},t}(android.view.ScaleGestureDetector.SimpleOnScaleGestureListener);ou=i}}let cu;function qb(){if(!cu){var i=function(e){__extends(t,e);function t(n,r){var s=e.call(this)||this;return s._observer=n,s._target=r,global.__native(s)}return t.prototype.onDown=function(n){return!0},t.prototype.onFling=function(n,r,s,a){var o=!1,c;try{var u=r.getY()-n.getY(),d=r.getX()-n.getX();Math.abs(d)>Math.abs(u)?Math.abs(d)>Df&&Math.abs(s)>Bf&&(d>0?(c=ca(En.right,this._target,n,r),Ge(this._observer,c),o=!0):(c=ca(En.left,this._target,n,r),Ge(this._observer,c),o=!0)):Math.abs(u)>Df&&Math.abs(a)>Bf&&(u>0?(c=ca(En.down,this._target,n,r),Ge(this._observer,c),o=!0):(c=ca(En.up,this._target,n,r),Ge(this._observer,c),o=!0))}catch{}return o},t}(android.view.GestureDetector.SimpleOnGestureListener);cu=i}}const Df=100,Bf=100,ei=-1,Xb=180/Math.PI;function Yb(i,e,t,n){const r=new Sm(i,t,n);return r.observe(e),r}class Sm extends $b{observe(e){this.type=e,this.target&&(this._onTargetLoaded=()=>{this._attach(this.target,e)},this._onTargetUnloaded=()=>{this._detach()},this.target.on("loaded",this._onTargetLoaded),this.target.on("unloaded",this._onTargetUnloaded),this.target.isLoaded&&this._attach(this.target,e))}disconnect(){this._detach(),this.target&&(this.target.off("loaded",this._onTargetLoaded),this.target.off("unloaded",this._onTargetUnloaded),this._onTargetLoaded=null,this._onTargetUnloaded=null),super.disconnect()}_detach(){this._notifyTouch=!1,this._simpleGestureDetector=null,this._scaleGestureDetector=null,this._swipeGestureDetector=null,this._panGestureDetector=null,this._rotateGestureDetector=null,this._eventData=null}_attach(e,t){this._detach();let n;switch(t){case O.tap:case O.doubleTap:case O.longPress:{Gb(),n=this._simpleGestureDetector=new androidx.core.view.GestureDetectorCompat(e._context,new au(this,this.target,t));break}case O.pinch:{zb(),n=this._scaleGestureDetector=new android.view.ScaleGestureDetector(e._context,new ou(this,this.target));break}case O.swipe:{qb(),n=this._swipeGestureDetector=new androidx.core.view.GestureDetectorCompat(e._context,new cu(this,this.target));break}case O.pan:{n=this._panGestureDetector=new Qb(this,this.target);break}case O.rotation:{n=this._rotateGestureDetector=new Zb(this,this.target);break}case O.touch:{this._notifyTouch=!0;return}}this.target.notify({eventName:sn.gestureAttached,object:this.target,type:t,view:this.target,android:n})}androidOnTouchEvent(e){this._notifyTouch&&(this._eventData||(this._eventData=new Jb),this._eventData.prepare(this.target,e),Ge(this,this._eventData)),this._simpleGestureDetector&&this._simpleGestureDetector.onTouchEvent(e),this._scaleGestureDetector&&this._scaleGestureDetector.onTouchEvent(e),this._swipeGestureDetector&&this._swipeGestureDetector.onTouchEvent(e),this._panGestureDetector&&this._panGestureDetector.onTouchEvent(e),this._rotateGestureDetector&&this._rotateGestureDetector.onTouchEvent(e)}}function nl(i,e,t){return{type:i,view:e,android:t,ios:void 0,object:e,eventName:Mi(i),getPointerCount:()=>t.getPointerCount(),getX:()=>V.toDeviceIndependentPixels(t.getX()),getY:()=>V.toDeviceIndependentPixels(t.getY())}}function Kb(i,e,t,n){return{type:i,view:e,android:n,ios:void 0,object:e,eventName:Mi(i),state:t}}function ca(i,e,t,n){return{type:O.swipe,view:e,android:{initial:t,current:n},direction:i,ios:void 0,object:e,eventName:Mi(O.swipe)}}function rl(i,e,t,n,r,s){return{type:O.pan,view:t,android:{initial:r,current:s},deltaX:i,deltaY:e,ios:void 0,object:t,eventName:Mi(O.pan),state:n}}function Ge(i,e){i&&i.callback&&i.callback.call(i._context,e)}class sl{constructor(e,t,n,r,s){this.view=e,this.android=t,this.scale=n,this.object=r,this.state=s,this.type=O.pinch,this.eventName=Mi(O.pinch)}getFocusX(){return this.android.getFocusX()/V.getDisplayDensity()}getFocusY(){return this.android.getFocusY()/V.getDisplayDensity()}}class Qb{constructor(e,t){this.observer=e,this.target=t,this.isTracking=!1,this.density=V.getDisplayDensity()}onTouchEvent(e){switch(e.getActionMasked()){case android.view.MotionEvent.ACTION_UP:case android.view.MotionEvent.ACTION_CANCEL:this.trackStop(e,!1);break;case android.view.MotionEvent.ACTION_DOWN:case android.view.MotionEvent.ACTION_POINTER_DOWN:case android.view.MotionEvent.ACTION_POINTER_UP:this.trackStop(e,!0);break;case android.view.MotionEvent.ACTION_MOVE:this.isTracking||this.trackStart(e),this.trackChange(e);break}return!0}trackStop(e,t){if(this.isTracking){const n=rl(this.deltaX,this.deltaY,this.target,ot.ended,null,e);Ge(this.observer,n),this.deltaX=void 0,this.deltaY=void 0,this.isTracking=!1}t?this.lastEventCache=e:this.lastEventCache=void 0}trackStart(e){const t=this.getEventCoordinates(this.lastEventCache?this.lastEventCache:e);this.initialX=t.x,this.initialY=t.y,this.isTracking=!0;const n=rl(0,0,this.target,ot.began,null,e);Ge(this.observer,n)}trackChange(e){const t=this.getEventCoordinates(e);this.deltaX=t.x-this.initialX,this.deltaY=t.y-this.initialY;const n=rl(this.deltaX,this.deltaY,this.target,ot.changed,null,e);Ge(this.observer,n)}getEventCoordinates(e){const t=e.getPointerCount();if(t===1)return{x:e.getRawX()/this.density,y:e.getRawY()/this.density};{const n=e.getRawX()-e.getX(),r=e.getRawY()-e.getY(),s={x:0,y:0};for(let a=0;a<t;a++)s.x+=e.getX(a)+n,s.y+=e.getY(a)+r;return s.x/=t*this.density,s.y/=t*this.density,s}}}class Zb{get isTracking(){return this.trackedPtrId1!==ei&&this.trackedPtrId2!==ei}constructor(e,t){this.observer=e,this.target=t,this.trackedPtrId1=ei,this.trackedPtrId2=ei}onTouchEvent(e){const t=e.getPointerId(e.getActionIndex()),n=this.isTracking;switch(e.getActionMasked()){case android.view.MotionEvent.ACTION_DOWN:case android.view.MotionEvent.ACTION_POINTER_DOWN:{let r=!1;this.trackedPtrId1===ei&&t!==this.trackedPtrId2?(this.trackedPtrId1=t,r=!0):this.trackedPtrId2===ei&&t!==this.trackedPtrId1&&(this.trackedPtrId2=t,r=!0),r&&this.isTracking&&(this.angle=0,this.initalPointersAngle=this.getPointersAngle(e),this.executeCallback(e,ot.began));break}case android.view.MotionEvent.ACTION_MOVE:this.isTracking&&(this.updateAngle(e),this.executeCallback(e,ot.changed));break;case android.view.MotionEvent.ACTION_UP:case android.view.MotionEvent.ACTION_POINTER_UP:t===this.trackedPtrId1?this.trackedPtrId1=ei:t===this.trackedPtrId2&&(this.trackedPtrId2=ei),n&&!this.isTracking&&this.executeCallback(e,ot.ended);break;case android.view.MotionEvent.ACTION_CANCEL:this.trackedPtrId1=ei,this.trackedPtrId2=ei,n&&this.executeCallback(e,ot.cancelled);break}return!0}executeCallback(e,t){const n={type:O.rotation,view:this.target,android:e,rotation:this.angle,ios:void 0,object:this.target,eventName:Mi(O.rotation),state:t};Ge(this.observer,n)}updateAngle(e){let n=(this.getPointersAngle(e)-this.initalPointersAngle)*Xb%360;n<-180&&(n+=360),n>180&&(n-=360),this.angle=n}getPointersAngle(e){const t=e.getX(e.findPointerIndex(this.trackedPtrId1)),n=e.getY(e.findPointerIndex(this.trackedPtrId1)),r=e.getX(e.findPointerIndex(this.trackedPtrId2)),s=e.getY(e.findPointerIndex(this.trackedPtrId2));return Math.atan2(s-n,r-t)}}class Mf{constructor(e,t){this.event=t,this.ios=void 0,this.android=e}getX(){return this.event.getX(this.android)/V.getDisplayDensity()}getY(){return this.event.getY(this.android)/V.getDisplayDensity()}}class Jb{constructor(){this.eventName=Mi(O.touch),this.type=O.touch,this.ios=void 0}prepare(e,t){this.view=e,this.object=e,this.android=t,this.action=this.getActionType(t),this._activePointers=void 0,this._allPointers=void 0}getPointerCount(){return this.android.getPointerCount()}getActivePointers(){return this._activePointers||(this._activePointers=[new Mf(this.android.getActionIndex(),this.android)]),this._activePointers}getAllPointers(){if(!this._allPointers){this._allPointers=[];for(let e=0;e<this.getPointerCount();e++)this._allPointers.push(new Mf(e,this.android))}return this._allPointers}getX(){return this.getActivePointers()[0].getX()}getY(){return this.getActivePointers()[0].getY()}getActionType(e){switch(e.getActionMasked()){case android.view.MotionEvent.ACTION_DOWN:case android.view.MotionEvent.ACTION_POINTER_DOWN:return ui.down;case android.view.MotionEvent.ACTION_MOVE:return ui.move;case android.view.MotionEvent.ACTION_UP:case android.view.MotionEvent.ACTION_POINTER_UP:return ui.up;case android.view.MotionEvent.ACTION_CANCEL:return ui.cancel}return""}}const lu="__lastFocusedViewOnPage",Tm="accessibilityBlur",Em="accessibilityFocus",Pm="accessibilityFocusChanged",e0="accessibilityPerformEscape";function al(i,e,t){!e&&!t||(i.notify({eventName:Pm,object:i,value:!!e}),e?(i.page&&(i.page[lu]=new WeakRef(i)),i.notify({eventName:Em,object:i})):t&&i.notify({eventName:Tm,object:i}))}function t0(i){try{const e=i[lu];if(!e)return null;const t=e.deref();return!t||!t.parent||t.page!==i?null:t}catch{}finally{delete i[lu]}return null}var Uf;(function(i){i.AllowsDirectInteraction="allowsDirectInteraction",i.CausesPageTurn="pageTurn",i.NotEnabled="disabled",i.Selected="selected",i.UpdatesFrequently="frequentUpdates"})(Uf||(Uf={}));var le;(function(i){i.Adjustable="adjustable",i.Button="button",i.Checkbox="checkbox",i.Header="header",i.Image="image",i.ImageButton="imageButton",i.KeyboardKey="keyboardKey",i.Link="link",i.None="none",i.PlaysSound="plays",i.ProgressBar="progressBar",i.RadioButton="radioButton",i.Search="search",i.SpinButton="spinButton",i.StartsMediaSession="startsMedia",i.StaticText="text",i.Summary="summary",i.Switch="switch"})(le||(le={}));var ai;(function(i){i.Selected="selected",i.Checked="checked",i.Unchecked="unchecked",i.Disabled="disabled"})(ai||(ai={}));var Sr;(function(i){i.None="none",i.Polite="polite",i.Assertive="assertive"})(Sr||(Sr={}));var Wf;(function(i){i.Announcement="announcement",i.Screen="screen",i.Layout="layout"})(Wf||(Wf={}));var oe;(function(i){i.INVALID_POSITION="invalid_position",i.MAX_TEXT_LENGTH="max_text_length",i.VIEW_CLICKED="view_clicked",i.VIEW_LONG_CLICKED="view_long_clicked",i.VIEW_SELECTED="view_selected",i.VIEW_FOCUSED="view_focused",i.VIEW_TEXT_CHANGED="view_text_changed",i.WINDOW_STATE_CHANGED="window_state_changed",i.NOTIFICATION_STATE_CHANGED="notification_state_changed",i.VIEW_HOVER_ENTER="view_hover_enter",i.VIEW_HOVER_EXIT="view_hover_exit",i.TOUCH_EXPLORATION_GESTURE_START="touch_exploration_gesture_start",i.TOUCH_EXPLORATION_GESTURE_END="touch_exploration_gesture_end",i.WINDOW_CONTENT_CHANGED="window_content_changed",i.VIEW_SCROLLED="view_scrolled",i.VIEW_TEXT_SELECTION_CHANGED="view_text_selection_changed",i.ANNOUNCEMENT="announcement",i.VIEW_ACCESSIBILITY_FOCUSED="view_accessibility_focused",i.VIEW_ACCESSIBILITY_FOCUS_CLEARED="view_accessibility_focus_cleared",i.VIEW_TEXT_TRAVERSED_AT_MOVEMENT_GRANULARITY="view_text_traversed_at_movement_granularity",i.GESTURE_DETECTION_START="gesture_detection_start",i.GESTURE_DETECTION_END="gesture_detection_end",i.TOUCH_INTERACTION_START="touch_interaction_start",i.TOUCH_INTERACTION_END="touch_interaction_end",i.ALL_MASK="all"})(oe||(oe={}));let Hf=new Set,_i;function i0(i,e){const t=du.get(e);if(!hh()){l.isEnabled()&&l.write("accessibilityEventHelper: Service not active",l.categories.Accessibility);return}if(!t){l.write(`accessibilityEventHelper: unknown eventType: ${e}`,l.categories.Accessibility,l.messageType.error);return}if(!i){l.isEnabled()&&l.write(`accessibilityEventHelper: no owner: ${t}`,l.categories.Accessibility);return}const n=i.nativeViewProtected;if(!n){l.isEnabled()&&l.write("accessibilityEventHelper: no nativeView",l.categories.Accessibility);return}switch(e){case android.view.accessibility.AccessibilityEvent.TYPE_VIEW_CLICKED:{if(G>=26)for(const r of i.getGestureObservers(O.tap)??[])r.callback({android:i.android,eventName:"tap",ios:null,object:i,type:O.tap,view:i});return}case android.view.accessibility.AccessibilityEvent.TYPE_VIEW_ACCESSIBILITY_FOCUSED:{const r=_i==null?void 0:_i.get();if(r&&i!==r){const s=r.nativeViewProtected;s&&(s.clearFocus(),_i=null,al(r,!1,!0))}_i=new WeakRef(i),al(i,!0,!1);return}case android.view.accessibility.AccessibilityEvent.TYPE_VIEW_ACCESSIBILITY_FOCUS_CLEARED:{const r=_i==null?void 0:_i.get();r&&i===r&&(_i=null,n.clearFocus()),al(i,!1,!0);return}}}let _o;const uu=new WeakMap;let jf,du;function n0(){if(_o)return;const i=android.view.View.AccessibilityDelegate,e=new Map([[le.Button,android.widget.Button.class.getName()],[le.Search,android.widget.EditText.class.getName()],[le.Image,android.widget.ImageView.class.getName()],[le.ImageButton,android.widget.ImageButton.class.getName()],[le.KeyboardKey,android.inputmethodservice.Keyboard.Key.class.getName()],[le.StaticText,android.widget.TextView.class.getName()],[le.Adjustable,android.widget.SeekBar.class.getName()],[le.Checkbox,android.widget.CheckBox.class.getName()],[le.RadioButton,android.widget.RadioButton.class.getName()],[le.SpinButton,android.widget.Spinner.class.getName()],[le.Switch,android.widget.Switch.class.getName()],[le.ProgressBar,android.widget.ProgressBar.class.getName()]]);Hf=new Set([le.Button,le.ImageButton]);const t=new Set([le.Header,le.Link,le.None,le.Summary]);var n=function(r){__extends(s,r);function s(){var a=r.call(this)||this;return global.__native(a)}return s.prototype.getTnsView=function(a){var o,c=(o=uu.get(a))===null||o===void 0?void 0:o.get();return c||(uu.delete(a),null)},s.prototype.onInitializeAccessibilityNodeInfo=function(a,o){r.prototype.onInitializeAccessibilityNodeInfo.call(this,a,o);var c=this.getTnsView(a);if(!c){l.isEnabled()&&l.write("onInitializeAccessibilityNodeInfo ".concat(a," ").concat(o," no tns-view"),l.categories.Accessibility);return}var u=a.getTag(La.getId(":id/nativescript_accessibility_id"));u!=null&&o.setViewIdResourceName(u);var d=c.accessibilityRole;if(d){var h=e.get(d);if(h){var m=o.getClassName()||G>=28&&a.getAccessibilityClassName()||null;o.setClassName(h),l.isEnabled()&&l.write("".concat(c,'.accessibilityRole = "').concat(d,'" is mapped to "').concat(h,'" (was ').concat(m,"). ").concat(o.getClassName()),l.categories.Accessibility)}else t.has(d)||l.isEnabled()&&l.write("".concat(c,'.accessibilityRole = "').concat(d,'" is unknown'),l.categories.Accessibility);switch(Hf.has(d)&&(l.isEnabled()&&l.write("onInitializeAccessibilityNodeInfo ".concat(c," - set clickable role=").concat(d),l.categories.Accessibility),o.setClickable(!0)),G>=28&&(d===le.Header?(l.isEnabled()&&l.write("onInitializeAccessibilityNodeInfo ".concat(c," - set heading role=").concat(d),l.categories.Accessibility),o.setHeading(!0)):a.isAccessibilityHeading()?(l.isEnabled()&&l.write("onInitializeAccessibilityNodeInfo ".concat(c," - set heading from host"),l.categories.Accessibility),o.setHeading(!0)):(l.isEnabled()&&l.write("onInitializeAccessibilityNodeInfo ".concat(c," - set not heading"),l.categories.Accessibility),o.setHeading(!1))),d){case le.Switch:case le.RadioButton:case le.Checkbox:{l.isEnabled()&&l.write("onInitializeAccessibilityNodeInfo ".concat(c," - set checkable and check=").concat(c.accessibilityState===ai.Checked),l.categories.Accessibility),o.setCheckable(!0),o.setChecked(c.accessibilityState===ai.Checked);break}default:{l.isEnabled()&&l.write("onInitializeAccessibilityNodeInfo ".concat(c," - set enabled=").concat(c.accessibilityState!==ai.Disabled," and selected=").concat(c.accessibilityState===ai.Selected),l.categories.Accessibility),o.setEnabled(c.accessibilityState!==ai.Disabled),o.setSelected(c.accessibilityState===ai.Selected);break}}}c.accessible&&o.setFocusable(!0)},s.prototype.sendAccessibilityEvent=function(a,o){r.prototype.sendAccessibilityEvent.call(this,a,o);var c=this.getTnsView(a);if(!c){console.log("skip - ".concat(a," - ").concat(du.get(o)));return}try{i0(c,o)}catch(u){console.error(u)}},s}(i);_o=new n,jf=new Map([[oe.INVALID_POSITION,android.view.accessibility.AccessibilityEvent.INVALID_POSITION],[oe.MAX_TEXT_LENGTH,android.view.accessibility.AccessibilityEvent.MAX_TEXT_LENGTH],[oe.VIEW_CLICKED,android.view.accessibility.AccessibilityEvent.TYPE_VIEW_CLICKED],[oe.VIEW_LONG_CLICKED,android.view.accessibility.AccessibilityEvent.TYPE_VIEW_LONG_CLICKED],[oe.VIEW_SELECTED,android.view.accessibility.AccessibilityEvent.TYPE_VIEW_SELECTED],[oe.VIEW_FOCUSED,android.view.accessibility.AccessibilityEvent.TYPE_VIEW_FOCUSED],[oe.VIEW_TEXT_CHANGED,android.view.accessibility.AccessibilityEvent.TYPE_VIEW_TEXT_CHANGED],[oe.WINDOW_STATE_CHANGED,android.view.accessibility.AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED],[oe.NOTIFICATION_STATE_CHANGED,android.view.accessibility.AccessibilityEvent.TYPE_NOTIFICATION_STATE_CHANGED],[oe.VIEW_HOVER_ENTER,android.view.accessibility.AccessibilityEvent.TYPE_VIEW_HOVER_ENTER],[oe.VIEW_HOVER_EXIT,android.view.accessibility.AccessibilityEvent.TYPE_VIEW_HOVER_EXIT],[oe.TOUCH_EXPLORATION_GESTURE_START,android.view.accessibility.AccessibilityEvent.TYPE_TOUCH_EXPLORATION_GESTURE_START],[oe.TOUCH_EXPLORATION_GESTURE_END,android.view.accessibility.AccessibilityEvent.TYPE_TOUCH_EXPLORATION_GESTURE_END],[oe.WINDOW_CONTENT_CHANGED,android.view.accessibility.AccessibilityEvent.TYPE_WINDOW_CONTENT_CHANGED],[oe.VIEW_SCROLLED,android.view.accessibility.AccessibilityEvent.TYPE_VIEW_SCROLLED],[oe.VIEW_TEXT_SELECTION_CHANGED,android.view.accessibility.AccessibilityEvent.TYPE_VIEW_TEXT_SELECTION_CHANGED],[oe.ANNOUNCEMENT,android.view.accessibility.AccessibilityEvent.TYPE_ANNOUNCEMENT],[oe.VIEW_ACCESSIBILITY_FOCUSED,android.view.accessibility.AccessibilityEvent.TYPE_VIEW_ACCESSIBILITY_FOCUSED],[oe.VIEW_ACCESSIBILITY_FOCUS_CLEARED,android.view.accessibility.AccessibilityEvent.TYPE_VIEW_ACCESSIBILITY_FOCUS_CLEARED],[oe.VIEW_TEXT_TRAVERSED_AT_MOVEMENT_GRANULARITY,android.view.accessibility.AccessibilityEvent.TYPE_VIEW_TEXT_TRAVERSED_AT_MOVEMENT_GRANULARITY],[oe.GESTURE_DETECTION_START,android.view.accessibility.AccessibilityEvent.TYPE_GESTURE_DETECTION_START],[oe.GESTURE_DETECTION_END,android.view.accessibility.AccessibilityEvent.TYPE_GESTURE_DETECTION_END],[oe.TOUCH_INTERACTION_START,android.view.accessibility.AccessibilityEvent.TYPE_TOUCH_INTERACTION_START],[oe.TOUCH_INTERACTION_END,android.view.accessibility.AccessibilityEvent.TYPE_TOUCH_INTERACTION_END],[oe.ALL_MASK,android.view.accessibility.AccessibilityEvent.TYPES_ALL_MASK]]),du=new Map([...jf].map(([r,s])=>[s,r]))}let Qr,Zr;function Jr(){const i=vr();i&&(ba=!!i.isEnabled()&&!!i.isTouchExplorationEnabled())}let ba;function hh(){if(typeof ba=="boolean")return ba;const i=vr();return Qr=new androidx.core.view.accessibility.AccessibilityManagerCompat.AccessibilityStateChangeListener({onAccessibilityStateChanged(e){Jr(),l.isEnabled()&&l.write(`AccessibilityStateChangeListener state changed to: ${!!e}`,l.categories.Accessibility)}}),Zr=new androidx.core.view.accessibility.AccessibilityManagerCompat.TouchExplorationStateChangeListener({onTouchExplorationStateChanged(e){Jr(),l.isEnabled()&&l.write(`TouchExplorationStateChangeListener state changed to: ${!!e}`,l.categories.Accessibility)}}),androidx.core.view.accessibility.AccessibilityManagerCompat.addAccessibilityStateChangeListener(i,Qr),androidx.core.view.accessibility.AccessibilityManagerCompat.addTouchExplorationStateChangeListener(i,Zr),Jr(),x.on(x.exitEvent,e=>{const t=e.android;if(t&&!t.isFinishing())return;const n=vr();n&&(Qr&&androidx.core.view.accessibility.AccessibilityManagerCompat.removeAccessibilityStateChangeListener(n,Qr),Zr&&androidx.core.view.accessibility.AccessibilityManagerCompat.removeTouchExplorationStateChangeListener(n,Zr)),Qr=null,Zr=null,x.off(x.resumeEvent,Jr)}),x.on(x.resumeEvent,Jr),ba}function r0(i){os(i)}let ol,cl=new Set;function os(i){i.nativeViewProtected&&(cl.add(i),!ol&&(ol=!0,Promise.resolve().then(()=>{ol=!1;let e=Array.from(cl);cl=new Set;for(const t of e)t.nativeViewProtected&&(s0(t),Vm(t));e=[]})))}function xa(i,e){if(i.nativeViewProtected)return Vm(i,e)}function s0(i){if(!i.nativeViewProtected)return;n0();const e=i.nativeViewProtected;if(!e||!e.setAccessibilityDelegate)return;uu.set(e,new WeakRef(i));let t=!1;typeof e.getAccessibilityDelegate=="function"&&(t=e.getAccessibilityDelegate()===_o),!t&&e.setAccessibilityDelegate(_o)}function Vm(i,e){let t=i.nativeViewProtected;if(!t||t instanceof android.widget.TextView&&!i._androidContentDescriptionUpdated)return null;if(t instanceof androidx.appcompat.widget.Toolbar){const c=t.getChildCount();for(let u=0;u<c;u+=1){const d=t.getChildAt(u);if(d instanceof androidx.appcompat.widget.AppCompatTextView){t=d;break}}}const n=`applyContentDescription(${i})`,r=i.title,s=i.text;if(!e&&i._androidContentDescriptionUpdated===!1&&s===i._lastText&&r===i._lastTitle)return t.getContentDescription();const a=new Array;if(i.accessibilityRole===le.Switch){const c=new android.widget.Switch(x.android.context);i.accessibilityState===ai.Checked?a.push(c.getTextOn()):a.push(c.getTextOff())}i.accessibilityLabel&&(l.isEnabled()&&l.write(`${n} - have accessibilityLabel`,l.categories.Accessibility),a.push(`${i.accessibilityLabel}`)),i.accessibilityValue?(l.isEnabled()&&l.write(`${n} - have accessibilityValue`,l.categories.Accessibility),a.push(`${i.accessibilityValue}`)):s?s!==i.accessibilityLabel&&(l.isEnabled()&&l.write(`${n} - don't have accessibilityValue - use 'text' value`,l.categories.Accessibility),a.push(`${s}`)):r&&r!==i.accessibilityLabel&&(l.isEnabled()&&l.write(`${n} - don't have accessibilityValue - use 'title' value`,l.categories.Accessibility),a.push(`${r}`)),i.accessibilityHint&&(l.isEnabled()&&l.write(`${n} - have accessibilityHint`,l.categories.Accessibility),a.push(`${i.accessibilityHint}`));const o=a.join(". ").trim().replace(/^\.$/,"");return o?(l.isEnabled()&&l.write(`${n} - set to "${o}"`,l.categories.Accessibility),t.setContentDescription(o)):(l.isEnabled()&&l.write(`${n} - remove value`,l.categories.Accessibility),t.setContentDescription(null)),i._lastTitle=r,i._lastText=s,i._androidContentDescriptionUpdated=!1,o}function fh(i){return e=>{if(!e||typeof e!="string")return null;for(const[t,n]of Object.entries(i))if(typeof t=="string"&&(t===e||`${n}`.toLowerCase()===`${e}`.toLowerCase()))return n;return null}}const Am=new R({name:"accessible",cssName:"a11y-enabled",valueConverter:K});Am.register(T);const a0=new He({defaultValue:!1,name:"iosAccessibilityAdjustsFontSize",cssName:"ios-a11y-adjusts-font-size",valueConverter:K});a0.register(T);const o0=new He({defaultValue:0,name:"iosAccessibilityMinFontScale",cssName:"ios-a11y-min-font-scale",valueConverter:parseFloat});o0.register(T);const c0=new He({defaultValue:0,name:"iosAccessibilityMaxFontScale",cssName:"ios-a11y-max-font-scale",valueConverter:parseFloat});c0.register(T);const Im=new R({name:"accessibilityHidden",cssName:"a11y-hidden",valueConverter:K});Im.register(T);const ph=new b({name:"accessibilityIdentifier"}),Nm=new R({name:"accessibilityRole",cssName:"a11y-role",valueConverter:fh(le)});Nm.register(T);const Lm=new R({name:"accessibilityState",cssName:"a11y-state",valueConverter:fh(ai)});Lm.register(T);const km=new b({name:"accessibilityLabel"}),Rm=new b({name:"accessibilityValue"}),Fm=new b({name:"accessibilityHint"}),l0=new b({name:"accessibilityIgnoresInvertColors",valueConverter:K}),Om=new R({name:"accessibilityLiveRegion",cssName:"a11y-live-region",defaultValue:Sr.None,valueConverter:fh(Sr)});Om.register(T);new b({name:"accessibilityTraits"});const u0=new R({name:"accessibilityLanguage",cssName:"a11y-lang"});u0.register(T);const Dm=new R({name:"accessibilityMediaSession",cssName:"a11y-media-session"});Dm.register(T);const d0=new R({name:"accessibilityStep",cssName:"a11y-step",defaultValue:10,valueConverter:i=>{const e=parseFloat(i);return isNaN(e)||e<=0?10:e}});d0.register(T);var Li;(function(i){i[i.present=0]="present",i[i.dismiss=1]="dismiss"})(Li||(Li={}));class h0 extends se{on(e,t,n){super.on(e,t,n)}}let ll,ti;class ae{static custom(e,t){ae.updateState(e.id,{...t||{},instance:e,activeType:Li.present});const n=t==null?void 0:t.pageEnd;return Re(n==null?void 0:n.duration)&&e.setDuration(n==null?void 0:n.duration),{instance:e}}static events(){return ll||(ll=new h0),ll}static notifyEvent(e,t){switch(e){case ae.startedEvent:case ae.interactiveUpdateEvent:ae.inProgress=!0;break;default:ae.inProgress=!1;break}ae.events().notify({eventName:e,data:t})}static updateState(e,t){ti||(ti=[]);const n=ae.getState(e);if(n)for(const r in t)n[r]=t[r];else ti.push(t)}static getState(e){return ti==null?void 0:ti.find(t=>{var n;return((n=t.instance)==null?void 0:n.id)===e})}static finishState(e){const t=ti==null?void 0:ti.findIndex(n=>{var r;return((r=n.instance)==null?void 0:r.id)===e});t>-1&&ti.splice(t,1)}static getSharedElements(e,t){const n=nu(t,"sharedTransitionTag").filter(a=>!a.sharedTransitionIgnore&&typeof a.sharedTransitionTag=="string"),r=nu(e,"sharedTransitionTag").filter(a=>!a.sharedTransitionIgnore&&typeof a.sharedTransitionTag=="string"),s=n.map(a=>a.sharedTransitionTag);return{sharedElements:r.filter(a=>s.includes(a.sharedTransitionTag)),presented:n,presenting:r}}}ae.startedEvent="SharedTransitionStartedEvent";ae.finishedEvent="SharedTransitionFinishedEvent";ae.interactiveCancelledEvent="SharedTransitionInteractiveCancelledEvent";ae.interactiveUpdateEvent="SharedTransitionInteractiveUpdateEvent";ae.DEBUG=!1;function ul(i,e){return e={x:0,y:0,width:f0(),height:p0(),...e||{}},{x:Re(i==null?void 0:i.x)?i==null?void 0:i.x:e.x,y:Re(i==null?void 0:i.y)?i==null?void 0:i.y:e.y,width:Re(i==null?void 0:i.width)?i==null?void 0:i.width:e.width,height:Re(i==null?void 0:i.height)?i==null?void 0:i.height:e.height}}function f0(){return Ve.mainScreen.widthPixels}function p0(){return Ve.mainScreen.heightPixels}let hu;function g0(){hu||(hu=require("../../animation"))}function ee(i){return e=>{e.prototype.cssType=i}}function fu(i,e,t){return e&&i._moduleName&&e.type&&t.some(n=>n===e.type)&&e.path&&e.path.includes(i._moduleName)}function gh(...i){const e=i.map(n=>":"+n),t=Symbol("listeners");return(n,r,s)=>{function a(o){const c=this[t]||0,u=c+o;c<=0&&u>0?this[r](!0):c>0&&u<=0&&this[r](!1)}e.forEach(o=>n[o]=a)}}const xn=new Array,la=new Set;class Q extends W{constructor(){super(...arguments),this._gestureObservers={}}get css(){const e=this._styleScope;return e&&e.css}set css(e){this._updateStyleScope(void 0,void 0,e)}addCss(e){this._updateStyleScope(void 0,e)}addCssFile(e){this._updateStyleScope(e)}changeCssFile(e){const t=this._styleScope;t&&e&&(t.changeCssFile(e),this._onCssStateChange())}_updateStyleScope(e,t,n){let r=this._styleScope;r?(this.setScopeProperty(r,e,t,n),this._onCssStateChange()):(r=new qs,this.setScopeProperty(r,e,t,n),this._inheritStyleScope(r),this._isStyleScopeHost=!0)}setScopeProperty(e,t,n,r){t!==void 0?e.addCssFile(t):n!==void 0?e.addCss(n):r!==void 0&&(e.css=r)}onLoaded(){if(!this.isLoaded){const e=this.hasListeners("tap")||this.hasListeners("tapChange")||!!this.getGestureObservers(O.tap),t=Ae.enableGlobalTapAnimations&&e;!this.ignoreTouchAnimation&&(this.touchAnimation||t)&&Ae.addAnimations(this)}super.onLoaded(),r0(this)}_closeAllModalViewsInternal(){return xn&&xn.length>0?(xn.forEach(e=>{e.closeModal()}),!0):!1}_getRootModalViews(){return xn}_onLivesync(e){l.isEnabled()&&l.write(`${this}._onLivesync(${JSON.stringify(e)})`,l.categories.Livesync);let t=!1;return this._closeAllModalViewsInternal()&&(t=!0),this._handleLivesync(e)?!0:(this.eachChildView(n=>{if(n._onLivesync(e))return t=!0,!1}),t)}_handleLivesync(e){if(l.isEnabled()&&l.write(`${this}._handleLivesync(${JSON.stringify(e)})`,l.categories.Livesync),fu(this,e,["style"])){l.isEnabled()&&l.write(`Change Handled: Changing CSS for ${this}`,l.categories.Livesync);const t=`${ki(e.path)}.css`;return this.changeCssFile(t),!0}return fu(this,e,["markup","script"])&&this.page&&this.page.frame?(l.isEnabled()&&l.write(`Change Handled: Changing ${e.type} for ${this} inside ${this.page}`,l.categories.Livesync),this.page.frame._handleLivesync({type:e.type,path:this.page._moduleName})):!1}_setupAsRootView(e){super._setupAsRootView(e),this._styleScope||this._updateStyleScope()}_observe(e,t,n){var r;n=n||void 0,!((r=this._gestureObservers[e])!=null&&r.find(s=>s.callback===t&&s.context===n))&&(this._gestureObservers[e]||(this._gestureObservers[e]=[]),this._gestureObservers[e].push(Yb(this,e,t,n)))}getGestureObservers(e){return this._gestureObservers[e]}addEventListener(e,t,n){if(n=n||void 0,typeof e=="number"){const a=Mi(e);la.has(a)||(console.warn(`Using a gesture type (${a}) as an event name is deprecated. Please use the event name instead.`),la.add(a)),e=a}const r=Dl(e),s=Of(r);if(s&&!this._isEvent(r)){this._observe(s,t,n);return}super.addEventListener(r,t,n)}removeEventListener(e,t,n){if(n=n||void 0,typeof e=="number"){const a=Mi(e);la.has(a)||(console.warn(`Using a gesture type (${a}) as an event name is deprecated. Please use the event name instead.`),la.add(a)),e=a}const r=Dl(e),s=Of(r);if(s&&!this._isEvent(r)){this._disconnectGestureObservers(s,t,n);return}super.removeEventListener(r,t,n)}onBackPressed(){return!1}_getFragmentManager(){}getModalOptions(e){if(e.length===0)throw new Error("showModal without parameters is deprecated. Please call showModal on a view instance instead.");{let t=null;e.length===2?t=e[1]:(e[0]instanceof Q?console.log("showModal(view: ViewBase, context: any, closeCallback: Function, fullscreen?: boolean, animated?: boolean, stretched?: boolean) is deprecated. Use showModal(view: ViewBase, modalOptions: ShowModalOptions) instead."):console.log("showModal(moduleName: string, context: any, closeCallback: Function, fullscreen?: boolean, animated?: boolean, stretched?: boolean) is deprecated. Use showModal(moduleName: string, modalOptions: ShowModalOptions) instead."),t={context:e[1],closeCallback:e[2],fullscreen:e[3],animated:e[4],stretched:e[5]});const n=e[0];return{view:n instanceof Q?n:Ke.createViewFromEntry({moduleName:n}),options:t}}}showModal(...e){var r,s;const{view:t,options:n}=this.getModalOptions(e);return(r=n.transition)!=null&&r.instance&&ae.updateState((s=n.transition)==null?void 0:s.instance.id,{page:this,toPage:t}),t._showNativeModalView(this,n),t}closeModal(...e){const t=this._closeModalCallback;if(t)t(...e);else{const n=this.parent;n&&n.closeModal(...e)}}get modal(){return this._modal}_showNativeModalView(e,t){xn.push(this),this.cssClasses.add(ue.MODAL_ROOT_VIEW_CSS_CLASS),ue.getSystemCssClasses().forEach(r=>this.cssClasses.add(r)),e._modal=this,this.style.fontScaleInternal=$d(),this._modalParent=e,this._modalContext=t.context,this._closeModalCallback=(...r)=>{const s=()=>{const c=xn.indexOf(this);xn.splice(c,1),this._modalParent=null,this._modalContext=null,this._closeModalCallback=null,this._dialogClosed(),e._modal=null},a=()=>{const c=ae.getState(this.transitionId);c!=null&&c.interactiveBegan&&(ae.updateState(this.transitionId,{interactiveBegan:!1}),c!=null&&c.interactiveCancelled||s()),c!=null&&c.interactiveCancelled||(typeof t.closeCallback=="function"&&t.closeCallback.apply(void 0,r),this._tearDownUI(!0))},o=ae.getState(this.transitionId);o!=null&&o.interactiveBegan||s(),this._hideNativeModalView(e,a)}}_hideNativeModalView(e,t){}_raiseLayoutChangedEvent(){const e={eventName:Q.layoutChangedEvent,object:this};this.notify(e)}_raiseShownModallyEvent(){const e={eventName:Q.shownModallyEvent,object:this,context:this._modalContext,closeCallback:this._closeModalCallback};this.notify(e)}_raiseShowingModallyEvent(){const e={eventName:Q.showingModallyEvent,object:this,context:this._modalContext,closeCallback:this._closeModalCallback};this.notify(e)}_isEvent(e){return this.constructor&&`${e}Event`in this.constructor}_disconnectGestureObservers(e,t,n){const r=this.getGestureObservers(e);if(r){for(let s=0;s<r.length;s++){const a=r[s];n&&(a.callback!==t||a.context!==n)||t&&a.callback!==t||(a.disconnect(),r.splice(s,1),s--)}r.length||delete this._gestureObservers[e]}}get borderColor(){return this.style.borderColor}set borderColor(e){this.style.borderColor=e}get borderTopColor(){return this.style.borderTopColor}set borderTopColor(e){this.style.borderTopColor=e}get borderRightColor(){return this.style.borderRightColor}set borderRightColor(e){this.style.borderRightColor=e}get borderBottomColor(){return this.style.borderBottomColor}set borderBottomColor(e){this.style.borderBottomColor=e}get borderLeftColor(){return this.style.borderLeftColor}set borderLeftColor(e){this.style.borderLeftColor=e}get borderWidth(){return this.style.borderWidth}set borderWidth(e){this.style.borderWidth=e}get borderTopWidth(){return this.style.borderTopWidth}set borderTopWidth(e){this.style.borderTopWidth=e}get borderRightWidth(){return this.style.borderRightWidth}set borderRightWidth(e){this.style.borderRightWidth=e}get borderBottomWidth(){return this.style.borderBottomWidth}set borderBottomWidth(e){this.style.borderBottomWidth=e}get borderLeftWidth(){return this.style.borderLeftWidth}set borderLeftWidth(e){this.style.borderLeftWidth=e}get borderRadius(){return this.style.borderRadius}set borderRadius(e){this.style.borderRadius=e}get borderTopLeftRadius(){return this.style.borderTopLeftRadius}set borderTopLeftRadius(e){this.style.borderTopLeftRadius=e}get borderTopRightRadius(){return this.style.borderTopRightRadius}set borderTopRightRadius(e){this.style.borderTopRightRadius=e}get borderBottomRightRadius(){return this.style.borderBottomRightRadius}set borderBottomRightRadius(e){this.style.borderBottomRightRadius=e}get borderBottomLeftRadius(){return this.style.borderBottomLeftRadius}set borderBottomLeftRadius(e){this.style.borderBottomLeftRadius=e}get color(){return this.style.color}set color(e){this.style.color=e}get background(){return this.style.background}set background(e){this.style.background=e}get backgroundColor(){return this.style.backgroundColor}set backgroundColor(e){this.style.backgroundColor=e}get backgroundImage(){return this.style.backgroundImage}set backgroundImage(e){this.style.backgroundImage=e}get backgroundSize(){return this.style.backgroundSize}set backgroundSize(e){this.style.backgroundSize=e}get backgroundPosition(){return this.style.backgroundPosition}set backgroundPosition(e){this.style.backgroundPosition=e}get backgroundRepeat(){return this.style.backgroundRepeat}set backgroundRepeat(e){this.style.backgroundRepeat=e}get boxShadow(){return this.style.boxShadow}set boxShadow(e){this.style.boxShadow=e}get minWidth(){return this.style.minWidth}set minWidth(e){this.style.minWidth=e}get minHeight(){return this.style.minHeight}set minHeight(e){this.style.minHeight=e}get width(){return this.style.width}set width(e){this.style.width=e}get height(){return this.style.height}set height(e){this.style.height=e}get margin(){return this.style.margin}set margin(e){this.style.margin=e}get marginLeft(){return this.style.marginLeft}set marginLeft(e){this.style.marginLeft=e}get marginTop(){return this.style.marginTop}set marginTop(e){this.style.marginTop=e}get marginRight(){return this.style.marginRight}set marginRight(e){this.style.marginRight=e}get marginBottom(){return this.style.marginBottom}set marginBottom(e){this.style.marginBottom=e}get horizontalAlignment(){return this.style.horizontalAlignment}set horizontalAlignment(e){this.style.horizontalAlignment=e}get verticalAlignment(){return this.style.verticalAlignment}set verticalAlignment(e){this.style.verticalAlignment=e}get visibility(){return this.style.visibility}set visibility(e){this.style.visibility=e}get opacity(){return this.style.opacity}set opacity(e){this.style.opacity=e}get rotate(){return this.style.rotate}set rotate(e){this.style.rotate=e}get rotateX(){return this.style.rotateX}set rotateX(e){this.style.rotateX=e}get rotateY(){return this.style.rotateY}set rotateY(e){this.style.rotateY=e}get perspective(){return this.style.perspective}set perspective(e){this.style.perspective=e}get textTransform(){return this.style.textTransform}set textTransform(e){this.style.textTransform=e}get translateX(){return this.style.translateX}set translateX(e){this.style.translateX=e}get translateY(){return this.style.translateY}set translateY(e){this.style.translateY=e}get scaleX(){return this.style.scaleX}set scaleX(e){this.style.scaleX=e}get scaleY(){return this.style.scaleY}set scaleY(e){this.style.scaleY=e}get accessible(){return this.style.accessible}set accessible(e){this.style.accessible=e}get accessibilityHidden(){return this.style.accessibilityHidden}set accessibilityHidden(e){this.style.accessibilityHidden=e}get accessibilityRole(){return this.style.accessibilityRole}set accessibilityRole(e){this.style.accessibilityRole=e}get accessibilityState(){return this.style.accessibilityState}set accessibilityState(e){this.style.accessibilityState=e}get accessibilityLiveRegion(){return this.style.accessibilityLiveRegion}set accessibilityLiveRegion(e){this.style.accessibilityLiveRegion=e}get accessibilityLanguage(){return this.style.accessibilityLanguage}set accessibilityLanguage(e){this.style.accessibilityLanguage=e}get accessibilityMediaSession(){return this.style.accessibilityMediaSession}set accessibilityMediaSession(e){this.style.accessibilityMediaSession=e}get iosAccessibilityAdjustsFontSize(){return this.style.iosAccessibilityAdjustsFontSize}set iosAccessibilityAdjustsFontSize(e){this.style.iosAccessibilityAdjustsFontSize=e}get iosAccessibilityMinFontScale(){return this.style.iosAccessibilityMinFontScale}set iosAccessibilityMinFontScale(e){this.style.iosAccessibilityMinFontScale=e}get iosAccessibilityMaxFontScale(){return this.style.iosAccessibilityMaxFontScale}set iosAccessibilityMaxFontScale(e){this.style.iosAccessibilityMaxFontScale=e}get automationText(){return this.accessibilityIdentifier}set automationText(e){this.accessibilityIdentifier=e}get androidElevation(){return this.style.androidElevation}set androidElevation(e){this.style.androidElevation=e}get androidDynamicElevationOffset(){return this.style.androidDynamicElevationOffset}set androidDynamicElevationOffset(e){this.style.androidDynamicElevationOffset=e}get isLayoutValid(){return this._isLayoutValid}get cssType(){return this._cssType||(this._cssType=this.typeName.toLowerCase()),this._cssType}set cssType(e){this._cssType=e.toLowerCase()}get isLayoutRequired(){return!0}get needsNativeDrawableFill(){return!1}measure(e,t){this._setCurrentMeasureSpecs(e,t)}layout(e,t,n,r){this._setCurrentLayoutBounds(e,t,n,r)}getMeasuredWidth(){return this._measuredWidth&V.MEASURED_SIZE_MASK||0}getMeasuredHeight(){return this._measuredHeight&V.MEASURED_SIZE_MASK||0}getMeasuredState(){return this._measuredWidth&V.MEASURED_STATE_MASK|this._measuredHeight>>V.MEASURED_HEIGHT_STATE_SHIFT&V.MEASURED_STATE_MASK>>V.MEASURED_HEIGHT_STATE_SHIFT}setMeasuredDimension(e,t){this._measuredWidth=e,this._measuredHeight=t,l.isEnabled()&&l.write(this+" :setMeasuredDimension: "+e+", "+t,l.categories.Layout)}requestLayout(){this._isLayoutValid=!1,super.requestLayout()}static resolveSizeAndState(e,t,n,r){return rn.resolveSizeAndState(e,t,n,r)}static combineMeasuredStates(e,t){return rn.combineMeasuredStates(e,t)}static layoutChild(e,t,n,r,s,a,o=!0){rn.layoutChild(e,t,n,r,s,a)}static measureChild(e,t,n,r){return rn.measureChild(e,t,n,r)}_setCurrentMeasureSpecs(e,t){const n=this._currentWidthMeasureSpec!==e||this._currentHeightMeasureSpec!==t;return this._currentWidthMeasureSpec=e,this._currentHeightMeasureSpec=t,n}_getCurrentLayoutBounds(){return{left:0,top:0,right:0,bottom:0}}_setCurrentLayoutBounds(e,t,n,r){this._isLayoutValid=!0;const s=this._oldLeft!==e||this._oldTop!==t||this._oldRight!==n||this._oldBottom!==r,a=this._oldRight-this._oldLeft!==n-e||this._oldBottom-this._oldTop!==r-t;return this._oldLeft=e,this._oldTop=t,this._oldRight=n,this._oldBottom=r,{boundsChanged:s,sizeChanged:a}}eachChild(e){this.eachChildView(e)}eachChildView(e){}_getNativeViewsCount(){return this._isAddedToNativeVisualTree?1:0}_eachLayoutView(e){return e(this)}focus(){}getSafeAreaInsets(){return{left:0,top:0,right:0,bottom:0}}getLocationInWindow(){}getLocationOnScreen(){}getLocationRelativeTo(e){}getActualSize(){const e=this._getCurrentLayoutBounds();if(e)return{width:V.toDeviceIndependentPixels(e.right-e.left),height:V.toDeviceIndependentPixels(e.bottom-e.top)}}animate(e){return this.createAnimation(e).play()}createAnimation(e){g0(),this._localAnimations||(this._localAnimations=new Set),e.target=this;const t=new hu.Animation([e]);return this._localAnimations.add(t),t}_removeAnimation(e){const t=this._localAnimations;return t&&t.has(e)?(t.delete(e),e.isPlaying&&e.cancel(),!0):!1}resetNativeView(){this._localAnimations&&this._localAnimations.forEach(e=>this._removeAnimation(e)),super.resetNativeView()}_setNativeViewFrame(e,t){}_getValue(){throw new Error("The View._getValue is obsolete. There is a new property system.")}_setValue(){throw new Error("The View._setValue is obsolete. There is a new property system.")}_updateEffectiveLayoutValues(e,t,n,r){const s=this.style,a=t===V.UNSPECIFIED?-1:e;this.effectiveWidth=fe.toDevicePixels(s.width,-2,a),this.effectiveMarginLeft=fe.toDevicePixels(s.marginLeft,0,a),this.effectiveMarginRight=fe.toDevicePixels(s.marginRight,0,a);const o=r===V.UNSPECIFIED?-1:n;this.effectiveHeight=fe.toDevicePixels(s.height,-2,o),this.effectiveMarginTop=fe.toDevicePixels(s.marginTop,0,o),this.effectiveMarginBottom=fe.toDevicePixels(s.marginBottom,0,o)}_setNativeClipToBounds(){}_redrawNativeBackground(e){}_applyBackground(e,t,n,r){}_onAttachedToWindow(){}_onDetachedFromWindow(){}_hasAncestorView(e){const t=n=>n===e;for(let n=this.parent;n!=null;n=n.parent)if(t(n))return!0;return!1}sendAccessibilityEvent(e){}accessibilityAnnouncement(e){}accessibilityScreenChanged(){}setAccessibilityIdentifier(e,t){}}Q.layoutChangedEvent="layoutChanged";Q.shownModallyEvent="shownModally";Q.showingModallyEvent="showingModally";Q.accessibilityBlurEvent=Tm;Q.accessibilityFocusEvent=Em;Q.accessibilityFocusChangedEvent=Pm;Q.accessibilityPerformEscapeEvent=e0;const pu=new b({name:"originX",defaultValue:.5,valueConverter:i=>parseFloat(i)});pu.register(Q);const gu=new b({name:"originY",defaultValue:.5,valueConverter:i=>parseFloat(i)});gu.register(Q);const m0=new b({name:"defaultVisualState",defaultValue:"normal",valueChanged(i,e,t){i.defaultVisualState=t||"normal",(!i.visualState||i.visualState===e)&&i._goToVisualState(i.defaultVisualState)}});m0.register(Q);const lc=new b({name:"isEnabled",defaultValue:!0,valueConverter:K,valueChanged(i,e,t){i._goToVisualState(t?i.defaultVisualState:"disabled")}});lc.register(Q);const Xs=new b({name:"isUserInteractionEnabled",defaultValue:!0,valueConverter:K});Xs.register(Q);const y0=new b({name:"iosOverflowSafeArea",defaultValue:!1,valueConverter:K});y0.register(Q);const v0=new Yo({name:"iosOverflowSafeAreaEnabled",defaultValue:!0,valueConverter:K});v0.register(Q);const w0=new Yo({name:"iosIgnoreSafeArea",defaultValue:!1,valueConverter:K});w0.register(Q);const _0=new b({name:"visionHoverStyle",valueChanged(i,e,t){i.visionHoverStyle=t}});_0.register(Q);const C0=new b({name:"visionIgnoreHoverStyle",valueChanged(i,e,t){i.visionIgnoreHoverStyle=t},valueConverter:K});C0.register(Q);const b0=new b({name:"touchAnimation",valueChanged(i,e,t){i.touchAnimation=t},valueConverter(i){return $s(i)?i:K(i)}});b0.register(Q);const x0=new b({name:"ignoreTouchAnimation",valueChanged(i,e,t){i.ignoreTouchAnimation=t},valueConverter:K});x0.register(Q);const S0=new b({name:"touchDelay",valueChanged(i,e,t){i.touchDelay=t},valueConverter:i=>parseFloat(i)});S0.register(Q);const mh=new b({name:"testID"});mh.register(Q);ph.register(Q);km.register(Q);Rm.register(Q);Fm.register(Q);l0.register(Q);const mu="_domId",T0="androidBackPressed",E0=17694720,P0=16842919,$f=16842910,V0=16973826,ua=112,da=7,A0=3,I0=5,N0=48,L0=80,k0=1,R0=7,F0=16,O0=112,yh=new Map;let yu,vu;function D0(){if(!yu){var i=function(e){__extends(t,e);function t(r){var s=e.call(this)||this;return s.owner=new WeakRef(r),global.__native(s)}t.prototype.onTouch=function(r,s){var a=this.owner.get();if(a){a.handleGestureTouch(s);var o=a.nativeViewProtected;return!o||!o.onTouchEvent?!1:o.onTouchEvent(s)}};var n;return t=__decorate([Interfaces([android.view.View.OnTouchListener]),__metadata("design:paramtypes",[typeof(n=typeof L<"u"&&L)=="function"?n:Object])],t),t}(java.lang.Object);yu=i}}function B0(){if(!vu){var i=function(t){__extends(n,t);function n(r,s,a){var o=t.call(this,s,a)||this;return o.fragment=r,global.__native(o)}return n.prototype.onDetachedFromWindow=function(){t.prototype.onDetachedFromWindow.call(this),this.fragment=null},n.prototype.onBackPressed=function(){var r=this.fragment.owner,s={eventName:"activityBackPressed",object:r,activity:r._context,cancel:!1};x.android.notify(s),!s.cancel&&(r.notify(s),!s.cancel&&!r.onBackPressed()&&t.prototype.onBackPressed.call(this))},n}(android.app.Dialog),e=function(t){__extends(n,t);function n(){var r=t.call(this)||this;return global.__native(r)}return n.prototype.onCreate=function(r){var s;t.prototype.onCreate.call(this,r);var a=(s=this.getArguments())===null||s===void 0?void 0:s.getInt(mu),o=Gf(a);r!=null&&o===void 0&&this.dismissAllowingStateLoss()},n.prototype.onCreateDialog=function(r){var s=this.getArguments().getInt(mu),a=Gf(s);this.owner=a.owner,this.owner._dialogFragment=this,this._fullscreen=a.fullscreen,this._animated=a.animated,this._cancelable=a.cancelable,this._stretched=a.stretched,this._dismissCallback=a.dismissCallback,this._shownCallback=a.shownCallback,this._windowSoftInputMode=a.windowSoftInputMode,this.setStyle(androidx.fragment.app.DialogFragment.STYLE_NO_TITLE,0);var o=this.getTheme();this._fullscreen&&(o=this.getActivity().getApplicationInfo().theme);var c=new i(this,this.getActivity(),o);return!this._fullscreen&&!this._stretched?(this.owner.horizontalAlignment="center",this.owner.verticalAlignment="middle"):(this.owner.horizontalAlignment="stretch",this.owner.verticalAlignment="stretch"),this._animated&&c.getWindow().setWindowAnimations(V0),c.setCanceledOnTouchOutside(this._cancelable),c},n.prototype.onCreateView=function(r,s,a){var o=this.owner;this.activity=new WeakRef(this.getActivity()),o._setupAsRootView(this.getActivity()),o._isAddedToNativeVisualTree=!0;var c=this.getDialog().getWindow();return this._windowSoftInputMode!==void 0?c.setSoftInputMode(this._windowSoftInputMode):c.setSoftInputMode(o._context.getWindow().getAttributes().softInputMode),o.nativeViewProtected},n.prototype.onStart=function(){if(t.prototype.onStart.call(this),this._fullscreen){var r=this.getDialog().getWindow(),s=android.view.ViewGroup.LayoutParams.MATCH_PARENT;r.setLayout(s,s),r.setBackgroundDrawable(new android.graphics.drawable.ColorDrawable(android.graphics.Color.WHITE))}var a=this.owner;a&&!a.isLoaded&&a.callLoaded(),this._shownCallback()},n.prototype.onDismiss=function(r){var s;t.prototype.onDismiss.call(this,r);var a=this.getFragmentManager(),o=(s=this.activity)===null||s===void 0?void 0:s.get();a&&!(o!=null&&o.isChangingConfigurations())&&(U0(this.owner._domId),this._dismissCallback());var c=this.owner;c&&c.isLoaded&&c.callUnloaded()},n.prototype.onDestroy=function(){var r;t.prototype.onDestroy.call(this);var s=this.owner,a=(r=this.activity)===null||r===void 0?void 0:r.get();a!=null&&a.isChangingConfigurations()||(this.activity=null),s&&(s.isLoaded&&s.callUnloaded(),s._isAddedToNativeVisualTree=!1,s._tearDownUI(!0))},n}(androidx.fragment.app.DialogFragment);vu=e}}function M0(i){yh.set(i.owner._domId,i)}function U0(i){yh.delete(i)}function Gf(i){return yh.get(i)}class L extends Q{_observe(e,t,n){super._observe(e,t,n),this.isLoaded&&!this.touchListenerIsSet&&this.setOnTouchListener()}addEventListener(e,t,n){super.addEventListener(e,t,n);const r=typeof e=="string"?e.indexOf(Q.layoutChangedEvent)!==-1:!1;this.isLoaded&&!this.layoutChangeListenerIsSet&&r&&this.setOnLayoutChangeListener()}removeEventListener(e,t,n){super.removeEventListener(e,t,n);const r=typeof e=="string"?e.indexOf(Q.layoutChangedEvent)!==-1:!1;this.isLoaded&&this.layoutChangeListenerIsSet&&r&&!this.needsOnLayoutChangeListener()&&(this.nativeViewProtected.removeOnLayoutChangeListener(this.layoutChangeListener),this.layoutChangeListenerIsSet=!1)}_getChildFragmentManager(){return null}_getRootFragmentManager(){return!this._rootManager&&this._context&&(this._rootManager=this._context.getSupportFragmentManager()),this._rootManager}_getFragmentManager(){let e=this._manager;if(!e){let t=this,n=!1;for(;t;){const r=t._dialogFragment;if(r){e=r.getChildFragmentManager();break}if(t._hasFragments){if(n){e=t._getChildFragmentManager();break}n=!0}t=t.parent}e||(e=this._getRootFragmentManager()),this._manager=e}return e}onLoaded(){this._manager=null,this._rootManager=null,super.onLoaded(),this.setOnTouchListener()}onUnloaded(){this._manager=null,this._rootManager=null,super.onUnloaded()}onBackPressed(){const e=Cs();return e&&e._hasAncestorView(this)?e.onBackPressed():!1}handleGestureTouch(e){for(const t in this._gestureObservers)this._gestureObservers[t].forEach(r=>{r.androidOnTouchEvent(e)});this.parent instanceof L&&this.parent.handleGestureTouch(e)}hasGestureObservers(){return this._gestureObservers&&Object.keys(this._gestureObservers).length>0}initNativeView(){super.initNativeView(),this.needsOnLayoutChangeListener()&&this.setOnLayoutChangeListener()}needsOnLayoutChangeListener(){return this.hasListeners(Q.layoutChangedEvent)}disposeNativeView(){this.touchListenerIsSet&&(this.touchListenerIsSet=!1,this.nativeViewProtected&&this.nativeViewProtected.setOnTouchListener(null)),this.layoutChangeListenerIsSet&&(this.layoutChangeListenerIsSet=!1,this.nativeViewProtected&&(this.nativeViewProtected.removeOnLayoutChangeListener(this.layoutChangeListener),this.layoutChangeListener=null)),super.disposeNativeView()}setOnTouchListener(){this.touchListenerIsSet||!this.nativeViewProtected||!this.hasGestureObservers()||(D0(),this.touchListener=this.touchListener||new yu(this),this.nativeViewProtected.setOnTouchListener(this.touchListener),this.touchListenerIsSet=!0,this.nativeViewProtected.setClickable&&this.nativeViewProtected.setClickable(this.isUserInteractionEnabled))}setOnLayoutChangeListener(){if(this.nativeViewProtected){const e=this;this.layoutChangeListenerIsSet=!0,this.layoutChangeListener=this.layoutChangeListener||new android.view.View.OnLayoutChangeListener({onLayoutChange(t,n,r,s,a,o,c,u,d){(n!==o||r!==c||s!==u||a!==d)&&e._raiseLayoutChangedEvent()}}),this.nativeViewProtected.addOnLayoutChangeListener(this.layoutChangeListener)}}get isLayoutRequired(){return!this.isLayoutValid}get isLayoutValid(){return this.nativeViewProtected?!this.nativeViewProtected.isLayoutRequested():!1}get _hasFragments(){return!1}layoutNativeView(e,t,n,r){this.nativeViewProtected&&this.nativeViewProtected.layout(e,t,n,r)}requestLayout(){super.requestLayout(),this.nativeViewProtected&&this.nativeViewProtected.requestLayout()}measure(e,t){super.measure(e,t),this.onMeasure(e,t)}layout(e,t,n,r){super.layout(e,t,n,r),this.onLayout(e,t,n,r)}onMeasure(e,t){const n=this.nativeViewProtected;n&&(n.measure(e,t),this.setMeasuredDimension(n.getMeasuredWidth(),n.getMeasuredHeight()))}onLayout(e,t,n,r){this.nativeViewProtected&&this.layoutNativeView(e,t,n,r)}_getCurrentLayoutBounds(){return this.nativeViewProtected&&!this.isCollapsed?{left:this.nativeViewProtected.getLeft(),top:this.nativeViewProtected.getTop(),right:this.nativeViewProtected.getRight(),bottom:this.nativeViewProtected.getBottom()}:{left:0,top:0,right:0,bottom:0}}getMeasuredWidth(){return this.nativeViewProtected?this.nativeViewProtected.getMeasuredWidth():super.getMeasuredWidth()}getMeasuredHeight(){return this.nativeViewProtected?this.nativeViewProtected.getMeasuredHeight():super.getMeasuredHeight()}focus(){return this.nativeViewProtected?this.nativeViewProtected.requestFocus():!1}getLocationInWindow(){if(!this.nativeViewProtected||!this.nativeViewProtected.getWindowToken())return;const e=Array.create("int",2);return this.nativeViewProtected.getLocationInWindow(e),{x:V.toDeviceIndependentPixels(e[0]),y:V.toDeviceIndependentPixels(e[1])}}getLocationOnScreen(){if(!this.nativeViewProtected||!this.nativeViewProtected.getWindowToken())return;const e=Array.create("int",2);return this.nativeViewProtected.getLocationOnScreen(e),{x:V.toDeviceIndependentPixels(e[0]),y:V.toDeviceIndependentPixels(e[1])}}getLocationRelativeTo(e){if(!this.nativeViewProtected||!this.nativeViewProtected.getWindowToken()||!e||!e.nativeViewProtected||!e.nativeViewProtected.getWindowToken()||this.nativeViewProtected.getWindowToken()!==e.nativeViewProtected.getWindowToken())return;const t=Array.create("int",2);this.nativeViewProtected.getLocationOnScreen(t);const n=Array.create("int",2);return e.nativeViewProtected.getLocationOnScreen(n),{x:V.toDeviceIndependentPixels(t[0]-n[0]),y:V.toDeviceIndependentPixels(t[1]-n[1])}}static resolveSizeAndState(e,t,n,r){let s=e;switch(n){case V.UNSPECIFIED:s=e;break;case V.AT_MOST:t<e&&(s=t|V.MEASURED_STATE_TOO_SMALL);break;case V.EXACTLY:s=t;break}return s|r&V.MEASURED_STATE_MASK}_showNativeModalView(e,t){if(x.inBackground&&!e.isLoaded){const c=()=>{e.off("loaded",c),this._showNativeModalView(e,t)};e.on("loaded",c);return}super._showNativeModalView(e,t),B0();const n=new vu,r=new android.os.Bundle;r.putInt(mu,this._domId),n.setArguments(r);let s=!0,a;t.android&&(t.android.cancelable!==void 0&&(s=!!t.android.cancelable,console.log("ShowModalOptions.android.cancelable is deprecated. Use ShowModalOptions.cancelable instead.")),a=t.android.windowSoftInputMode),s=t.cancelable!==void 0?!!t.cancelable:s;const o={owner:this,fullscreen:!!t.fullscreen,animated:!!t.animated,stretched:!!t.stretched,cancelable:s,windowSoftInputMode:a,shownCallback:()=>this._raiseShownModallyEvent(),dismissCallback:()=>this.closeModal()};M0(o),this._dialogFragment=n,this._raiseShowingModallyEvent(),this._dialogFragment.show(e._getRootFragmentManager(),this._domId.toString())}_hideNativeModalView(e,t){this._dialogFragment&&this._dialogFragment.getFragmentManager()&&this._dialogFragment.dismissAllowingStateLoss(),this._dialogFragment=null,t()}[lc.setNative](e){this.nativeViewProtected.setEnabled(e)}[pu.getDefault](){return this.nativeViewProtected.getPivotX()}[pu.setNative](e){org.nativescript.widgets.OriginPoint.setX(this.nativeViewProtected,e)}[gu.getDefault](){return this.nativeViewProtected.getPivotY()}[gu.setNative](e){org.nativescript.widgets.OriginPoint.setY(this.nativeViewProtected,e)}[Xs.setNative](e){this.nativeViewProtected.setClickable(e),this.nativeViewProtected.setFocusable(e)}[ru.getDefault](){return this.nativeViewProtected.getVisibility()===android.view.View.GONE}[ru.setNative](e){this.nativeViewProtected.setVisibility(e?android.view.View.GONE:android.view.View.VISIBLE)}[xr.getDefault](){const e=this.nativeViewProtected.getVisibility();switch(e){case android.view.View.VISIBLE:return"visible";case android.view.View.INVISIBLE:return"hidden";case android.view.View.GONE:return"collapse";default:throw new Error(`Unsupported android.view.View visibility: ${e}. Currently supported values are android.view.View.VISIBLE, android.view.View.INVISIBLE, android.view.View.GONE.`)}}[xr.setNative](e){switch(e){case"visible":this.nativeViewProtected.setVisibility(android.view.View.VISIBLE);break;case"hidden":this.nativeViewProtected.setVisibility(android.view.View.INVISIBLE);break;case"collapse":this.nativeViewProtected.setVisibility(android.view.View.GONE);break;default:throw new Error(`Invalid visibility value: ${e}. Valid values are: visible, hidden, collapse.`)}}[Tt.getDefault](){return this.nativeViewProtected.getAlpha()}[Tt.setNative](e){this.nativeViewProtected.setAlpha(float(e))}[mh.setNative](e){this.setAccessibilityIdentifier(this.nativeViewProtected,e)}setAccessibilityIdentifier(e,t){const n=yr.resources.getId(":id/nativescript_accessibility_id");n&&(e.setTag(n,t),e.setTag(t)),this.testID&&this.testID!==t&&(this.testID=t),this.accessibilityIdentifier!==t&&(this.accessibilityIdentifier=t)}[Am.setNative](e){this.nativeViewProtected.setFocusable(!!e),os(this)}[ph.setNative](e){this.setAccessibilityIdentifier(this.nativeViewProtected,e)}[Nm.setNative](e){var t;this.accessibilityRole=e,os(this),G>=28&&((t=this.nativeViewProtected)==null||t.setAccessibilityHeading(e===le.Header))}[Rm.setNative](){this._androidContentDescriptionUpdated=!0,xa(this)}[km.setNative](){this._androidContentDescriptionUpdated=!0,xa(this)}[Fm.setNative](){this._androidContentDescriptionUpdated=!0,xa(this)}[Im.setNative](e){e?this.nativeViewProtected.setImportantForAccessibility(android.view.View.IMPORTANT_FOR_ACCESSIBILITY_NO_HIDE_DESCENDANTS):this.nativeViewProtected.setImportantForAccessibility(android.view.View.IMPORTANT_FOR_ACCESSIBILITY_YES)}[Om.setNative](e){switch(e){case Sr.Assertive:{this.nativeViewProtected.setAccessibilityLiveRegion(android.view.View.ACCESSIBILITY_LIVE_REGION_ASSERTIVE);break}case Sr.Polite:{this.nativeViewProtected.setAccessibilityLiveRegion(android.view.View.ACCESSIBILITY_LIVE_REGION_POLITE);break}default:{this.nativeViewProtected.setAccessibilityLiveRegion(android.view.View.ACCESSIBILITY_LIVE_REGION_NONE);break}}}[Lm.setNative](e){this.accessibilityState=e,os(this)}[Dm.setNative](){os(this)}[lo.getDefault](){return this.getDefaultElevation()}[lo.setNative](e){G<21||this.refreshStateListAnimator()}[uo.getDefault](){return this.getDefaultDynamicElevationOffset()}[uo.setNative](e){G<21||this.refreshStateListAnimator()}getDefaultElevation(){return G<21?0:V.toDeviceIndependentPixels(this.nativeViewProtected.getElevation())}getDefaultDynamicElevationOffset(){return 0}refreshStateListAnimator(){const e=this.nativeViewProtected,t=android.animation.ObjectAnimator,n=android.animation.AnimatorSet,r=e.getContext().getResources().getInteger(E0)/2;let s=this.androidElevation;(typeof s>"u"||s===null)&&(s=this.getDefaultElevation()),s=V.toDevicePixels(s);const a=V.toDevicePixels(0);let o=this.androidDynamicElevationOffset;(typeof o>"u"||o===null)&&(o=this.getDefaultDynamicElevationOffset()),o=V.toDevicePixels(o);const c=new n;c.playTogether(java.util.Arrays.asList([t.ofFloat(e,"translationZ",[o]).setDuration(r),t.ofFloat(e,"elevation",[s]).setDuration(0)]));const u=new n;u.playTogether(java.util.Arrays.asList([t.ofFloat(e,"translationZ",[a]).setDuration(r),t.ofFloat(e,"elevation",[s]).setDuration(0)]));const d=new n;d.playTogether(java.util.Arrays.asList([t.ofFloat(e,"translationZ",[0]).setDuration(0),t.ofFloat(e,"elevation",[0]).setDuration(0)]));const h=new android.animation.StateListAnimator;h.addState([P0,$f],c),h.addState([$f],u),h.addState([],d);const m=e.getStateListAnimator();m&&m.jumpToCurrentState(),e.setStateListAnimator(h)}[Ii.getDefault](){return org.nativescript.widgets.ViewHelper.getHorizontalAlignment(this.nativeViewProtected)}[Ii.setNative](e){const t=this.nativeViewProtected,n=t.getLayoutParams()||new org.nativescript.widgets.CommonLayoutParams,r=n.gravity,s=n.weight;if(r!==void 0){switch(e){case"left":n.gravity=A0|r&ua,s<0&&(n.weight=-2);break;case"center":n.gravity=k0|r&ua,s<0&&(n.weight=-2);break;case"right":n.gravity=I0|r&ua,s<0&&(n.weight=-2);break;case"stretch":n.gravity=R0|r&ua,s<0&&(n.weight=-1);break}t.setLayoutParams(n)}}[Ni.getDefault](){return org.nativescript.widgets.ViewHelper.getVerticalAlignment(this.nativeViewProtected)}[Ni.setNative](e){const t=this.nativeViewProtected,n=t.getLayoutParams()||new org.nativescript.widgets.CommonLayoutParams,r=n.gravity,s=n.height;if(r!==void 0){switch(e){case"top":n.gravity=N0|r&da,s<0&&(n.height=-2);break;case"middle":n.gravity=F0|r&da,s<0&&(n.height=-2);break;case"bottom":n.gravity=L0|r&da,s<0&&(n.height=-2);break;case"stretch":n.gravity=O0|r&da,s<0&&(n.height=-1);break}t.setLayoutParams(n)}}[_t.setNative](e){org.nativescript.widgets.ViewHelper.setRotate(this.nativeViewProtected,float(e))}[zt.setNative](e){org.nativescript.widgets.ViewHelper.setRotateX(this.nativeViewProtected,float(e))}[qt.setNative](e){org.nativescript.widgets.ViewHelper.setRotateY(this.nativeViewProtected,float(e))}[th.setNative](e){org.nativescript.widgets.ViewHelper.setPerspective(this.nativeViewProtected,float(e*Ve.mainScreen.scale))}[Ct.setNative](e){org.nativescript.widgets.ViewHelper.setScaleX(this.nativeViewProtected,float(e))}[bt.setNative](e){org.nativescript.widgets.ViewHelper.setScaleY(this.nativeViewProtected,float(e))}[xt.setNative](e){org.nativescript.widgets.ViewHelper.setTranslateX(this.nativeViewProtected,V.toDevicePixels(e))}[St.setNative](e){org.nativescript.widgets.ViewHelper.setTranslateY(this.nativeViewProtected,V.toDevicePixels(e))}[As.getDefault](){return 0}[As.setNative](e){org.nativescript.widgets.ViewHelper.setZIndex(this.nativeViewProtected,e)}[Ot.getDefault](){const e=this.nativeViewProtected;return xe.getCopyOrDrawable(e.getBackground(),e.getResources())}[Ot.setNative](e){this._redrawNativeBackground(e)}[rc.setNative](e){this.parent instanceof Mn&&this.parent.nativeViewProtected?this.parent._setChildMinWidthNative(this,e):this._setMinWidthNative(e)}[sc.setNative](e){this.parent instanceof Mn&&this.parent.nativeViewProtected?this.parent._setChildMinHeightNative(this,e):this._setMinHeightNative(e)}_applyBackground(e,t,n,r){const s=this.nativeViewProtected;if(n){const a=e.color.android;t&&(r=s._cachedDrawable!=null?xe.getCopyOrDrawable(s._cachedDrawable,s.getResources()):null,s.setBackground(r)),this.needsNativeDrawableFill&&r?(r.mutate(),xe.setDrawableColor(a,r),r.invalidateSelf()):s.setBackgroundColor(a)}else if(e.clearFlags&1&&(r?(r.mutate(),xe.clearDrawableColor(r),r.invalidateSelf()):s.setBackgroundColor(-1)),e.isEmpty()){const a=s._cachedDrawable??null;r!==a&&s.setBackground(a)}else if(t)Cf(this,r);else{const a=new org.nativescript.widgets.BorderDrawable(V.getDisplayDensity(),this.toString());Cf(this,a),s.setBackground(a)}}_drawBoxShadow(e){const t=this.nativeViewProtected,n={shadowColor:e.color.android,cornerRadius:_.toDevicePixels(this.borderRadius,0),spreadRadius:e.spreadRadius,blurRadius:e.blurRadius,offsetX:e.offsetX,offsetY:e.offsetY};org.nativescript.widgets.Utils.drawBoxShadow(t,JSON.stringify(n))}_redrawNativeBackground(e){if(e instanceof On)this.onBackgroundOrBorderPropertyChanged();else{const t=this.nativeViewProtected;t.setBackground(e);const n=this.style,r=Rt.isSet(n)?this.effectivePaddingTop:this._defaultPaddingTop,s=kt.isSet(n)?this.effectivePaddingRight:this._defaultPaddingRight,a=Ft.isSet(n)?this.effectivePaddingBottom:this._defaultPaddingBottom,o=Lt.isSet(n)?this.effectivePaddingLeft:this._defaultPaddingLeft;this._isPaddingRelative?t.setPaddingRelative(o,r,s,a):t.setPadding(o,r,s,a)}}onBackgroundOrBorderPropertyChanged(){const e=this.nativeViewProtected;if(!e)return;const t=this.style.backgroundInternal,n=e.getBackground(),r=n instanceof org.nativescript.widgets.BorderDrawable;e._cachedDrawable===void 0&&(e._cachedDrawable=n),t.clearFlags&2&&n instanceof org.nativescript.widgets.BoxShadowDrawable&&e.setBackground(e._cachedDrawable??null);const s=!t.hasBorderWidth()&&!t.hasBorderRadius()&&!t.hasBoxShadow()&&!t.clipPath&&!t.image&&!!t.color;this._applyBackground(t,r,s,n),t.hasBoxShadow()&&this._drawBoxShadow(t.getBoxShadow());const a=Math.ceil(this.effectiveBorderLeftWidth+this.effectivePaddingLeft),o=Math.ceil(this.effectiveBorderTopWidth+this.effectivePaddingTop),c=Math.ceil(this.effectiveBorderRightWidth+this.effectivePaddingRight),u=Math.ceil(this.effectiveBorderBottomWidth+this.effectivePaddingBottom);this._isPaddingRelative?e.setPaddingRelative(a,o,c,u):e.setPadding(a,o,c,u),t.clearFlags=0}accessibilityAnnouncement(e=this.accessibilityLabel){this.sendAccessibilityEvent({androidAccessibilityEvent:oe.ANNOUNCEMENT,message:e})}accessibilityScreenChanged(){this.sendAccessibilityEvent({androidAccessibilityEvent:oe.WINDOW_STATE_CHANGED})}}L.androidBackPressedEvent=T0;__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],L.prototype,"onLoaded",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],L.prototype,"onUnloaded",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],L.prototype,"requestLayout",null);class uc extends L{}class Mn extends uc{createNativeView(){return new org.nativescript.widgets.ContentLayout(this._context)}_addViewToNativeVisualTree(e,t=Number.MAX_SAFE_INTEGER){return super._addViewToNativeVisualTree(e),this.nativeViewProtected&&e.nativeViewProtected?(l.isEnabled()&&l.write(`${this}.nativeView.addView(${e}.nativeView, ${t})`,l.categories.VisualTreeEvents),this.nativeViewProtected.addView(e.nativeViewProtected,t),e instanceof L&&this._updateNativeLayoutParams(e),!0):!1}_updateNativeLayoutParams(e){}_setChildMinWidthNative(e,t){e._setMinWidthNative(t)}_setChildMinHeightNative(e,t){e._setMinHeightNative(t)}_removeViewFromNativeVisualTree(e){super._removeViewFromNativeVisualTree(e);const t=this.nativeViewProtected,n=e.nativeViewProtected;t&&n&&(t.removeView(n),l.isEnabled()&&(l.write(`${t}.removeView(${n})`,l.categories.VisualTreeEvents),l.notifyEvent(e,"childInLayoutRemovedFromNativeVisualTree")))}}const zf=(i,e)=>{throw new Error("PercentLength is not supported.")};function yn(i){const{getter:e,setter:t,auto:n=0}=i;let r,s,a;e&&(L.prototype[e]=function(){i&&(r=i.setPixels,s=i.getPixels,a=i.setPercent||zf,i=null);const o=s(this.nativeViewProtected);return o==n?"auto":{value:o,unit:"px"}}),t&&(L.prototype[t]=function(o){if(i&&(r=i.setPixels,s=i.getPixels,a=i.setPercent||zf,i=null),o=="auto"||o==null)r(this.nativeViewProtected,n);else if(typeof o=="number")r(this.nativeViewProtected,V.round(V.toDevicePixels(o)));else if(o.unit=="dip")r(this.nativeViewProtected,V.round(V.toDevicePixels(o.value)));else if(o.unit=="px")r(this.nativeViewProtected,V.round(o.value));else if(o.unit=="%")a(this.nativeViewProtected,o.value);else throw new Error(`Unsupported PercentLength ${o}`)})}yn({setter:Ps.setNative,get setPixels(){return org.nativescript.widgets.ViewHelper.setMarginTop},get setPercent(){return org.nativescript.widgets.ViewHelper.setMarginTopPercent}});yn({setter:Es.setNative,get setPixels(){return org.nativescript.widgets.ViewHelper.setMarginRight},get setPercent(){return org.nativescript.widgets.ViewHelper.setMarginRightPercent}});yn({setter:Vs.setNative,get setPixels(){return org.nativescript.widgets.ViewHelper.setMarginBottom},get setPercent(){return org.nativescript.widgets.ViewHelper.setMarginBottomPercent}});yn({setter:Ts.setNative,get setPixels(){return org.nativescript.widgets.ViewHelper.setMarginLeft},get setPercent(){return org.nativescript.widgets.ViewHelper.setMarginLeftPercent}});yn({setter:Cr.setNative,auto:-1,get setPixels(){return org.nativescript.widgets.ViewHelper.setWidth},get setPercent(){return org.nativescript.widgets.ViewHelper.setWidthPercent}});yn({setter:br.setNative,auto:-1,get setPixels(){return org.nativescript.widgets.ViewHelper.setHeight},get setPercent(){return org.nativescript.widgets.ViewHelper.setHeightPercent}});yn({setter:"_setMinWidthNative",get setPixels(){return org.nativescript.widgets.ViewHelper.setMinWidth}});yn({setter:"_setMinHeightNative",get setPixels(){return org.nativescript.widgets.ViewHelper.setMinHeight}});let Tr=class extends L{disposeNativeView(){this._actionItems=null,super.disposeNativeView()}get navigationButton(){return this._navigationButton}set navigationButton(e){this._navigationButton!==e&&(this._navigationButton&&(this._removeView(this._navigationButton),this._navigationButton.actionBar=void 0),this._navigationButton=e,this._navigationButton&&(this._navigationButton.actionBar=this,this._addView(this._navigationButton)),this.update())}get actionItems(){return this._actionItems}set actionItems(e){throw new Error("actionItems property is read-only")}get titleView(){return this._titleView}set titleView(e){if(this._titleView!==e){if(this._titleView&&(this._removeView(this._titleView),this._titleView.style[Ii.cssName]=D,this._titleView.style[Ni.cssName]=D),this._titleView=e,e){this._addView(e);const t=e.style;Ii.isSet(t)||(t[Ii.cssName]="center"),Ni.isSet(t)||(t[Ni.cssName]="middle")}this.update()}}get androidContentInset(){return this.style.androidContentInset}set androidContentInset(e){this.style.androidContentInset=e}get androidContentInsetLeft(){return this.style.androidContentInsetLeft}set androidContentInsetLeft(e){this.style.androidContentInsetLeft=e}get androidContentInsetRight(){return this.style.androidContentInsetRight}set androidContentInsetRight(e){this.style.androidContentInsetRight=e}get ios(){}get android(){}get _childrenCount(){var t;let e=0;return(t=this._actionItems)==null||t.getItems().forEach(n=>{n.actionView&&e++}),e+(this.titleView?1:0)}constructor(){super(),this._actionItems=new Bm(this)}update(){}_onTitlePropertyChanged(){}_addArrayFromBuilder(e,t){var n;e==="actionItems"&&((n=this.actionItems)==null||n.setItems(t))}eachChildView(e){const t=this.titleView;t&&e(t)}eachChild(e){var r;const t=this.titleView;t&&e(t);const n=this._navigationButton;n&&e(n),(r=this.actionItems)==null||r.getItems().forEach(s=>{e(s)})}_isEmpty(){var e;return!(this.title||this.titleView||this.android&&this.android.icon||this.navigationButton||((e=this.actionItems)==null?void 0:e.getItems().length)>0)}};Tr=__decorate([ee("ActionBar"),__metadata("design:paramtypes",[])],Tr);class Bm{constructor(e){this._items=new Array,this._actionBar=e}addItem(e){if(!e)throw new Error("Cannot add empty item");this._items.push(e),e.actionBar=this._actionBar,this._actionBar._addView(e),this.invalidate()}removeItem(e){if(!e)throw new Error("Cannot remove empty item");const t=this._items.indexOf(e);if(t<0)throw new Error("Cannot find item to remove");this._items.splice(t,1),this._actionBar._removeView(e),e.actionBar=void 0,this.invalidate()}getItems(){return this._items.slice()}getVisibleItems(){const e=[];return this._items.forEach(t=>{Mm(t)&&e.push(t)}),e}getItemAt(e){if(!(e<0||e>=this._items.length))return this._items[e]}setItems(e){for(;this._items.length>0;)this.removeItem(this._items[this._items.length-1]);for(let t=0;t<e.length;t++)this.addItem(e[t]);this.invalidate()}invalidate(){this._actionBar&&this._actionBar.update()}}class vn extends W{get actionView(){return this._actionView}set actionView(e){this._actionView!==e&&(this._actionView&&(this._actionView.style[Ii.cssName]=D,this._actionView.style[Ni.cssName]=D,this._removeView(this._actionView)),this._actionView=e,this._actionView&&this._addView(this._actionView),this._actionBar&&this._actionBar.update())}get actionBar(){return this._actionBar}set actionBar(e){e!==this._actionBar&&(this._actionBar=e)}onLoaded(){this._actionView&&(this._actionView.style[Ii.cssName]="center",this._actionView.style[Ni.cssName]="middle"),super.onLoaded()}_raiseTap(){this._emit(vn.tapEvent)}_addChildFromBuilder(e,t){this.actionView=t}_onVisibilityChanged(e){this.actionBar&&this.actionBar.update()}eachChild(e){this._actionView&&e(this._actionView)}}vn.tapEvent="tap";__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],vn.prototype,"onLoaded",null);function Mm(i){return i.visibility==="visible"}function W0(i,e,t){i._onTitlePropertyChanged()}const H0=new b({name:"title",valueChanged:W0});H0.register(Tr);function Um(i,e,t){i.actionBar&&i.actionBar.update()}function j0(i,e,t){i._onVisibilityChanged(t)}function Wm(i){l.write("Could not load action bar icon: "+i,l.categories.Error,l.messageType.error)}function $0(i){if(typeof i=="string"&&i!=="auto"){const e=i.split(/[ ,]+/);return[[Co,_.parse(e[0])],[bo,_.parse(e[1]||e[0])]]}else return[[Co,i],[bo,i]]}const G0=new b({name:"iosIconRenderingMode",defaultValue:"alwaysOriginal"});G0.register(Tr);const z0=new b({name:"text",defaultValue:"",valueChanged:Um});z0.register(vn);const q0=new b({name:"icon",valueChanged:Um});q0.register(vn);const X0=new b({name:"visibility",defaultValue:"visible",valueChanged:j0});X0.register(vn);const Hm=new b({name:"flat",defaultValue:!1,valueConverter:K});Hm.register(Tr);const Y0=new Bt({name:"androidContentInset",cssName:"android-content-inset",getter:function(){return _.equals(this.androidContentInsetLeft,this.androidContentInsetRight)?this.androidContentInsetLeft:`${_.convertToString(this.androidContentInsetLeft)} ${_.convertToString(this.androidContentInsetRight)}`},converter:$0});Y0.register(T);const Co=new R({name:"androidContentInsetLeft",cssName:"android-content-inset-left",defaultValue:"auto",equalityComparer:_.equals,valueChanged:(i,e,t)=>{const n=i.viewRef.get();n?n.effectiveContentInsetLeft=_.toDevicePixels(t):l.write(`${t} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn)},valueConverter:_.parse});Co.register(T);const bo=new R({name:"androidContentInsetRight",cssName:"android-content-inset-right",defaultValue:"auto",equalityComparer:_.equals,valueChanged:(i,e,t)=>{const n=i.viewRef.get();n?n.effectiveContentInsetRight=_.toDevicePixels(t):l.write(`${t} not set to view's property because ".viewRef" is cleared`,l.categories.Style,l.messageType.warn)},valueConverter:_.parse});bo.register(T);function K0(i,e,t){return e>=i?e<=t?{width:i,height:e}:{width:Math.round(t*i/e),height:t}:i<=t?{width:i,height:e}:{width:t,height:Math.round(t*e/i)}}let wu;function Q0(){wu||(wu=require("../http"))}let dl,hl;function jm(){return dl||(dl=x.android.getNativeApplication()),dl}function Z0(){return hl||(hl=jm().getResources()),hl}class Y{get height(){return this.android?this.android.getHeight():NaN}get width(){return this.android?this.android.getWidth():NaN}get rotationAngle(){return this._rotationAngle}set rotationAngle(e){this._rotationAngle=e}constructor(e){e&&this.setNativeSource(e)}static fromAsset(e){return new Promise((t,n)=>{e.getImageAsync((r,s)=>{r?t(new Y(r)):n(s)})})}static fromUrl(e){return Q0(),wu.getImage(e)}static fromResourceSync(e){const t=Z0();if(t){const n=t.getIdentifier(e,"drawable",jm().getPackageName());if(0<n){const r=t.getDrawable(n);if(r&&r.getBitmap)return new Y(r.getBitmap())}}return null}static fromResource(e){return new Promise((t,n)=>{t(Y.fromResourceSync(e))})}static fromFileSync(e){let t=typeof e=="string"?e.trim():"";t.indexOf("~/")===0&&(t=It.join(We.currentApp().path,t.replace("~/","")));const n=android.graphics.BitmapFactory.decodeFile(t,null);if(n){const r=new Y(n);return r.rotationAngle=J0(t),r}else return null}static fromFile(e){return new Promise((t,n)=>{t(Y.fromFileSync(e))})}static fromFileOrResourceSync(e){if(!Ko(e))throw new Error(`${e} is not a valid file or resource.`);return e.indexOf(Yt)===0?Y.fromResourceSync(e.substr(Yt.length)):Y.fromFileSync(e)}static iosSymbolScaleFor(e){return 0}static fromSystemImageSync(e){return Y.fromResourceSync(e)}static fromSystemImage(e){return Y.fromResource(e)}static fromDataSync(e){const t=android.graphics.BitmapFactory.decodeStream(e);return t?new Y(t):null}static fromData(e){return new Promise((t,n)=>{t(Y.fromDataSync(e))})}static fromBase64Sync(e){let t;if(typeof e=="string"){const n=android.util.Base64.decode(e,android.util.Base64.DEFAULT);t=android.graphics.BitmapFactory.decodeByteArray(n,0,n.length)}return t?new Y(t):null}static fromBase64(e){return new Promise((t,n)=>{t(Y.fromBase64Sync(e))})}static fromFontIconCodeSync(e,t,n){t=t||ie.default;const r=new android.graphics.Paint;r.setTypeface(t.getAndroidTypeface()),r.setAntiAlias(!0),n&&r.setColor(n.android);const s=V.toDevicePixels(t.fontSize);s&&r.setTextSize(s);const a=new android.graphics.Rect;r.getTextBounds(e,0,e.length,a);const o=a.width(),c=a.height();if(o>0&&c>0){const u=android.graphics.Bitmap.createBitmap(o,c,android.graphics.Bitmap.Config.ARGB_8888);return new android.graphics.Canvas(u).drawText(e,-a.left,-a.top,r),new Y(u)}return null}fromAsset(e){return console.log("fromAsset() is deprecated. Use ImageSource.fromAsset() instead."),Y.fromAsset(e).then(t=>(this.setNativeSource(t.android),this))}loadFromResource(e){console.log("fromResource() and loadFromResource() are deprecated. Use ImageSource.fromResource[Sync]() instead.");const t=Y.fromResourceSync(e);return this.android=t?t.android:null,!!this.android}fromResource(e){return new Promise((t,n)=>{t(this.loadFromResource(e))})}loadFromFile(e){console.log("fromFile() and loadFromFile() are deprecated. Use ImageSource.fromFile[Sync]() instead.");const t=Y.fromFileSync(e);return this.android=t?t.android:null,!!this.android}fromFile(e){return new Promise((t,n)=>{t(this.loadFromFile(e))})}loadFromData(e){console.log("fromData() and loadFromData() are deprecated. Use ImageSource.fromData[Sync]() instead.");const t=Y.fromDataSync(e);return this.android=t?t.android:null,!!this.android}fromData(e){return new Promise((t,n)=>{t(this.loadFromData(e))})}loadFromBase64(e){console.log("fromBase64() and loadFromBase64() are deprecated. Use ImageSource.fromBase64[Sync]() instead.");const t=Y.fromBase64Sync(e);return this.android=t?t.android:null,!!this.android}fromBase64(e){return new Promise((t,n)=>{t(this.loadFromBase64(e))})}loadFromFontIconCode(e,t,n){console.log("loadFromFontIconCode() is deprecated. Use ImageSource.fromFontIconCodeSync() instead.");const r=Y.fromFontIconCodeSync(e,t,n);return this.android=r?r.android:null,!!this.android}setNativeSource(e){if(e&&!(e instanceof android.graphics.Bitmap)){if(e instanceof android.graphics.drawable.Drawable){this.android=org.nativescript.widgets.Utils.getBitmapFromDrawable(e);return}throw new Error("The method setNativeSource() expects an android.graphics.Bitmap or android.graphics.drawable.Drawable instance.")}this.android=e}saveToFile(e,t,n=100){if(!this.android)return!1;const r=qf(t),s=new java.io.BufferedOutputStream(new java.io.FileOutputStream(e)),a=this.android.compress(r,n,s);return s.close(),a}saveToFileAsync(e,t,n=100){return new Promise((r,s)=>{org.nativescript.widgets.Utils.saveToFileAsync(this.android,e,t,n,new org.nativescript.widgets.Utils.AsyncImageCallback({onSuccess(a){r(a)},onError(a){a?s(a.getMessage()):s()}}))})}toBase64String(e,t=100){if(!this.android)return null;const n=qf(e),r=new java.io.ByteArrayOutputStream,s=new android.util.Base64OutputStream(r,android.util.Base64.NO_WRAP);return this.android.compress(n,t,s),s.close(),r.close(),r.toString()}toBase64StringAsync(e,t=100){return new Promise((n,r)=>{org.nativescript.widgets.Utils.toBase64StringAsync(this.android,e,t,new org.nativescript.widgets.Utils.AsyncImageCallback({onSuccess(s){n(s)},onError(s){s?r(s.getMessage()):r()}}))})}resize(e,t){const n=K0(this.android.getWidth(),this.android.getHeight(),e),r=android.graphics.Bitmap.createScaledBitmap(this.android,n.width,n.height,t&&t.filter);return new Y(r)}resizeAsync(e,t){return new Promise((n,r)=>{org.nativescript.widgets.Utils.resizeAsync(this.android,e,JSON.stringify(t||{}),new org.nativescript.widgets.Utils.AsyncImageCallback({onSuccess(s){n(new Y(s))},onError(s){s?r(s.getMessage()):r()}}))})}}function qf(i){switch(i){case"jpeg":case"jpg":return android.graphics.Bitmap.CompressFormat.JPEG;default:return android.graphics.Bitmap.CompressFormat.PNG}}function J0(i){let e=0;switch(new android.media.ExifInterface(i).getAttributeInt(android.media.ExifInterface.TAG_ORIENTATION,android.media.ExifInterface.ORIENTATION_NORMAL)){case android.media.ExifInterface.ORIENTATION_ROTATE_90:e=90;break;case android.media.ExifInterface.ORIENTATION_ROTATE_180:e=180;break;case android.media.ExifInterface.ORIENTATION_ROTATE_270:e=270;break}return e}const ex=16908332,tx=1e4,ix=4;let $m,Xf=tx;function nx(){return Xf++,Xf}function Yf(i){const e=i.icon,t=i.style;let n=null;if(Hd(e)){const r=e.split("//")[1],s=t.fontInternal,a=t.color,o=Y.fromFontIconCodeSync(r,s,a);o&&o.android&&(n=new android.graphics.drawable.BitmapDrawable(Rs,o.android))}else n=zm(e,Rs);return n||Wm(e),n}let Rs,_u;function rx(){if(!_u){$m=androidx.appcompat.widget.AppCompatTextView;var i=function(e){__extends(t,e);function t(r){var s=e.call(this)||this;return s.owner=r,global.__native(s)}t.prototype.onMenuItemClick=function(r){var s=r.getItemId();return this.owner._onAndroidItemSelected(s)};var n;return t=__decorate([Interfaces([androidx.appcompat.widget.Toolbar.OnMenuItemClickListener]),__metadata("design:paramtypes",[typeof(n=typeof pi<"u"&&pi)=="function"?n:Object])],t),t}(java.lang.Object);_u=i,Rs=x.android.context.getResources()}}class vh extends vn{constructor(){super(),this._androidPosition={position:"actionBar",systemIcon:void 0},this._itemId=nx()}get android(){return this._androidPosition}set android(e){throw new Error("ActionItem.android is read-only")}_getItemId(){return this._itemId}}class sx{constructor(e){this._iconVisibility="auto",this._actionBar=e}get icon(){return this._icon}set icon(e){e!==this._icon&&(this._icon=e,this._actionBar._onIconPropertyChanged())}get iconVisibility(){return this._iconVisibility}set iconVisibility(e){e!==this._iconVisibility&&(this._iconVisibility=e,this._actionBar._onIconPropertyChanged())}}class Gm extends vh{}class pi extends Tr{constructor(){super(),this._android=new sx(this)}get android(){return this._android}_addChildFromBuilder(e,t){var n;t instanceof Gm?this.navigationButton=t:t instanceof vh?(n=this.actionItems)==null||n.addItem(t):t instanceof L&&(this.titleView=t)}createNativeView(){return new androidx.appcompat.widget.Toolbar(this._context)}initNativeView(){super.initNativeView();const e=this.nativeViewProtected;rx();const t=new _u(this);e.setOnMenuItemClickListener(t),e.menuItemClickListener=t}disposeNativeView(){var e;(e=this.nativeViewProtected)!=null&&e.menuItemClickListener&&(this.nativeViewProtected.menuItemClickListener.owner=null),super.disposeNativeView()}onLoaded(){super.onLoaded(),this.update()}get needsNativeDrawableFill(){return!0}update(){if(!this.nativeViewProtected)return;const e=this.page;if(!e.frame||!e.frame._getNavBarVisible(e)){this.nativeViewProtected.setVisibility(android.view.View.GONE);return}this.nativeViewProtected.setVisibility(android.view.View.VISIBLE),this._addActionItems(),this._updateTitleAndTitleView(),this._updateIcon(),this._updateNavigationButton()}_onAndroidItemSelected(e){var r;if(this.navigationButton&&e===ex)return this.navigationButton._raiseTap(),!0;let t;const n=((r=this.actionItems)==null?void 0:r.getItems())??[];for(let s=0;s<n.length;s++)if(n[s]._getItemId()===e){t=n[s];break}return t?(t._raiseTap(),!0):!1}_updateNavigationButton(){const e=this.navigationButton;if(e&&Mm(e)){const t=e.android.systemIcon;if(t!==void 0){const r=Qf(t);r&&this.nativeViewProtected.setNavigationIcon(r)}else if(e.icon){const r=Yf(e);r&&this.nativeViewProtected.setNavigationIcon(r)}this.nativeViewProtected.setNavigationContentDescription(e.text||null);const n=new WeakRef(e);this.nativeViewProtected.setNavigationOnClickListener(new android.view.View.OnClickListener({onClick:function(r){const s=n==null?void 0:n.get();s&&s._raiseTap()}}))}else this.nativeViewProtected.setNavigationIcon(null)}_updateIcon(){if(ox(this.android.iconVisibility)){const t=this.android.icon;if(t!==void 0){const n=zm(t,Rs);n?this.nativeViewProtected.setLogo(n):Wm(t)}else{const n=x.android.nativeApp.getApplicationInfo().icon;this.nativeViewProtected.setLogo(n)}}else this.nativeViewProtected.setLogo(null)}_updateTitleAndTitleView(){if(!this.titleView){const e=this.title;if(e!==void 0)this.nativeViewProtected.setTitle(e);else{const t=x.android.context,n=t.getApplicationInfo(),r=t.getPackageManager().getApplicationLabel(n);r&&this.nativeViewProtected.setTitle(r)}}xa(this,!0)}_addActionItems(){var n;const e=this.nativeViewProtected.getMenu(),t=((n=this.actionItems)==null?void 0:n.getVisibleItems())??[];e.clear();for(let r=0;r<t.length;r++){const s=t[r],a=e.add(android.view.Menu.NONE,s._getItemId(),android.view.Menu.NONE,s.text+"");if(s.actionView&&s.actionView.android)s.android.position="actionBar",a.setActionView(s.actionView.android),pi._setOnClickListener(s);else if(s.android.systemIcon){const c=Qf(s.android.systemIcon);c&&a.setIcon(c)}else if(s.icon){const c=Yf(s);c&&a.setIcon(c)}const o=ax(s);a.setShowAsAction(o)}}static _setOnClickListener(e){const t=new WeakRef(e);e.actionView.android.setOnClickListener(new android.view.View.OnClickListener({onClick:function(n){const r=t==null?void 0:t.get();r&&r._raiseTap()}}))}_onTitlePropertyChanged(){this.nativeViewProtected&&this._updateTitleAndTitleView()}_onIconPropertyChanged(){this.nativeViewProtected&&this._updateIcon()}_addViewToNativeVisualTree(e,t=Number.MAX_VALUE){return super._addViewToNativeVisualTree(e),this.nativeViewProtected&&e.nativeViewProtected?(t>=this.nativeViewProtected.getChildCount()?this.nativeViewProtected.addView(e.nativeViewProtected):this.nativeViewProtected.addView(e.nativeViewProtected,t),!0):!1}_removeViewFromNativeVisualTree(e){super._removeViewFromNativeVisualTree(e),this.nativeViewProtected&&e.nativeViewProtected&&this.nativeViewProtected.removeView(e.nativeViewProtected)}[Te.getDefault](){const e=this.nativeViewProtected;if(!fl){let t=Kf(e);if(!t){const n=e.getTitle();e.setTitle(""),t=Kf(e),n&&e.setTitle(n)}fl=t?t.getTextColors().getDefaultColor():-570425344}return fl}[Te.setNative](e){const t=e instanceof S?e.android:e;this.nativeViewProtected.setTitleTextColor(t)}[Hm.setNative](e){const t=androidx.core.view.ViewCompat;if(t.setElevation)if(e)t.setElevation(this.nativeViewProtected,0);else{const n=ix*V.getDisplayDensity();t.setElevation(this.nativeViewProtected,n)}}[Co.setNative](){G>=21&&this.nativeViewProtected.setContentInsetsAbsolute(this.effectiveContentInsetLeft,this.effectiveContentInsetRight)}[bo.setNative](){G>=21&&this.nativeViewProtected.setContentInsetsAbsolute(this.effectiveContentInsetLeft,this.effectiveContentInsetRight)}accessibilityScreenChanged(){if(!hh())return;const e=this.nativeViewProtected;if(!e)return;const t=G>=26&&e.getFocusable(),n=e.getImportantForAccessibility(),r=G>=28&&e.isAccessibilityHeading();try{e.setFocusable(!1),e.setImportantForAccessibility(android.view.View.IMPORTANT_FOR_ACCESSIBILITY_NO);let s=null;const a=e.getChildCount();for(let o=0;o<a;o+=1){const c=e.getChildAt(o);c&&(c.setFocusable(!0),c instanceof androidx.appcompat.widget.AppCompatTextView&&(s=c,G>=28&&s.setAccessibilityHeading(!0)))}s||(s=e),s.setFocusable(!0),s.setImportantForAccessibility(android.view.View.IMPORTANT_FOR_ACCESSIBILITY_YES),s.sendAccessibilityEvent(android.view.accessibility.AccessibilityEvent.TYPE_VIEW_FOCUSED),s.sendAccessibilityEvent(android.view.accessibility.AccessibilityEvent.TYPE_VIEW_ACCESSIBILITY_FOCUSED)}catch{}finally{setTimeout(()=>{const s=this.nativeViewProtected;s&&(G>=28&&e.setAccessibilityHeading(r),G>=26&&s.setFocusable(t),s.setImportantForAccessibility(n))})}}}function Kf(i){for(let e=0,t=i.getChildCount();e<t;e++){const n=i.getChildAt(e);if(n instanceof $m)return n}return null}pi.prototype.recycleNativeView="auto";let fl;function zm(i,e){if(typeof i!="string")return null;let t=null;if(i.indexOf(Yt)===0){const n=e.getIdentifier(i.substr(Yt.length),"drawable",x.android.packageName);n>0&&(t=n)}else{let n;const r=Y.fromFileOrResourceSync(i);r&&(n=new android.graphics.drawable.BitmapDrawable(Rs,r.android)),t=n}return t}function ax(i){switch(i.android.position){case"actionBarIfRoom":return android.view.MenuItem.SHOW_AS_ACTION_IF_ROOM;case"popup":return android.view.MenuItem.SHOW_AS_ACTION_NEVER;case"actionBar":default:return android.view.MenuItem.SHOW_AS_ACTION_ALWAYS}}function ox(i){switch(i){case"always":return!0;case"auto":case"never":default:return!1}}function Qf(i){return android.content.res.Resources.getSystem().getIdentifier(i,"drawable","android")}let Fs=class extends L{};Fs=__decorate([ee("ActivityIndicator")],Fs);Fs.prototype.recycleNativeView="auto";const Cu=new b({name:"busy",defaultValue:!1,valueConverter:K});Cu.register(Fs);class cx extends Fs{createNativeView(){const e=new android.widget.ProgressBar(this._context);return e.setVisibility(android.view.View.INVISIBLE),e.setIndeterminate(!0),e}[Cu.getDefault](){return!1}[Cu.setNative](e){this.visibility===E.Visibility.visible&&this.nativeViewProtected.setVisibility(e?android.view.View.VISIBLE:android.view.View.INVISIBLE)}[xr.getDefault](){return E.Visibility.hidden}[xr.setNative](e){switch(e){case E.Visibility.visible:this.nativeViewProtected.setVisibility(this.busy?android.view.View.VISIBLE:android.view.View.INVISIBLE);break;case E.Visibility.hidden:this.nativeViewProtected.setVisibility(android.view.View.INVISIBLE);break;case E.Visibility.collapse:this.nativeViewProtected.setVisibility(android.view.View.GONE);break;default:throw new Error(`Invalid visibility value: ${e}. Valid values are: "${E.Visibility.visible}", "${E.Visibility.hidden}", "${E.Visibility.collapse}".`)}}[Te.getDefault](){return-1}[Te.setNative](e){const t=e instanceof S?e.android:e,n=this.nativeViewProtected.getIndeterminateDrawable().mutate();t?xe.setDrawableColor(t,n):xe.clearDrawableColor(n)}}class Un extends W{constructor(){super(...arguments),this._tappable=!1}get fontFamily(){return this.style.fontFamily}set fontFamily(e){this.style.fontFamily=e}get fontSize(){return this.style.fontSize}set fontSize(e){this.style.fontSize=e}get fontStyle(){return this.style.fontStyle}set fontStyle(e){this.style.fontStyle=e}get fontWeight(){return this.style.fontWeight}set fontWeight(e){this.style.fontWeight=e}get fontVariationSettings(){return this.style.fontVariationSettings}set fontVariationSettings(e){this.style.fontVariationSettings=e}get textDecoration(){return this.style.textDecoration}set textDecoration(e){this.style.textDecoration=e}get color(){return this.style.color}set color(e){this.style.color=e}get backgroundColor(){return this.style.backgroundColor}set backgroundColor(e){this.style.backgroundColor=e}get iosAccessibilityAdjustsFontSize(){return this.style.iosAccessibilityAdjustsFontSize}set iosAccessibilityAdjustsFontSize(e){this.style.iosAccessibilityAdjustsFontSize=e}get iosAccessibilityMinFontScale(){return this.style.iosAccessibilityMinFontScale}set iosAccessibilityMinFontScale(e){this.style.iosAccessibilityMinFontScale=e}get iosAccessibilityMaxFontScale(){return this.style.iosAccessibilityMaxFontScale}set iosAccessibilityMaxFontScale(e){this.style.iosAccessibilityMaxFontScale=e}get text(){return this._text}set text(e){this._text!==e&&(Ai(e)?this._text="":this._text=Be(e)?`${e}`.replace("\\n",`
`).replace("\\t","	"):`${e}`,this.notifyPropertyChange("text",this._text))}get tappable(){return this._tappable}addEventListener(e,t,n){super.addEventListener(e,t,n),this._setTappable(this.hasListeners(Un.linkTapEvent))}removeEventListener(e,t,n){super.removeEventListener(e,t,n),this._setTappable(this.hasListeners(Un.linkTapEvent))}_setTextInternal(e){this._text=e}_setTappable(e){this._tappable!==e&&(this._tappable=e,this.notifyPropertyChange("tappable",e))}}Un.linkTapEvent="linkTap";class Vi{}Vi.Add="add";Vi.Delete="delete";Vi.Update="update";Vi.Splice="splice";Vi.Change="change";const cs="change";class $e extends se{constructor(e){super(),arguments.length===1&&Array.isArray(arguments[0])?this._array=arguments[0].slice():this._array=Array.apply(null,arguments),this._addArgs={eventName:cs,object:this,action:Vi.Add,index:null,removed:[],addedCount:1},this._deleteArgs={eventName:cs,object:this,action:Vi.Delete,index:null,removed:null,addedCount:0}}*[Symbol.iterator](){for(const e of this._array)yield e}getItem(e){const t=e<0?this._array.length+e:e;return this._array[t]}setItem(e,t){const n=e<0?this._array.length+e:e,r=this._array[n];this._array[n]=t,this.notify({eventName:cs,object:this,action:Vi.Update,index:n,removed:[r],addedCount:1})}get length(){return this._array.length}set length(e){if(Re(e)&&this._array&&this._array.length!==e){const t=new Array(e>this._array.length?e-this._array.length:0);this.splice(e,this._array.length-e,...t)}}toJSON(){return this._array}toString(){return this._array.toString()}toLocaleString(){return this._array.toLocaleString()}concat(...e){this._addArgs.index=this._array.length;const t=this._array.concat(...e);return new $e(t)}join(e){return this._array.join(e)}pop(){this._deleteArgs.index=this._array.length-1;const e=this._array.pop();return this._deleteArgs.removed=[e],this.notify(this._deleteArgs),this._notifyLengthChange(),e}push(...e){const t=this._array.length,n=this._array.push(...e);return this._addArgs.index=t,this._addArgs.addedCount=n-t,this.notify(this._addArgs),this._notifyLengthChange(),this._array.length}_notifyLengthChange(){const e=this._createPropertyChangeData("length",this._array.length);this.notify(e)}reverse(){return this._array.reverse(),this}shift(){const e=this._array.shift();return this._deleteArgs.index=0,this._deleteArgs.removed=[e],this.notify(this._deleteArgs),this._notifyLengthChange(),e}slice(e,t){const n=this._array.slice(e,t);return new $e(n)}sort(e){return this._array.sort(e),this}splice(e,t,...n){const r=this._array.length,s=arguments.length===1?this._array.splice(e):this._array.splice(e,t,...n);return this.notify({eventName:cs,object:this,action:Vi.Splice,index:Math.max(Math.min(e,r-(s.length>0?1:0)),0),removed:s,addedCount:this._array.length+s.length-r}),this._array.length!==r&&this._notifyLengthChange(),new $e(s)}unshift(...e){const t=this._array.length,n=this._array.unshift(...e);return this._addArgs.index=0,this._addArgs.addedCount=n-t,this.notify(this._addArgs),this._notifyLengthChange(),n}find(e,t){return this._array.find((n,r,s)=>e(n,r,this),t)}findIndex(e,t){return this._array.findIndex((n,r,s)=>e(n,r,this),t)}includes(e,t){return this._array.includes(e,t)}indexOf(e,t){return this._array.indexOf(e,t)}lastIndexOf(e,t){return t!==void 0?this._array.lastIndexOf(e,t):this._array.lastIndexOf(e)}every(e,t){return this._array.every((n,r,s)=>e(n,r,this),t)}some(e,t){return this._array.some((n,r,s)=>e(n,r,this),t)}forEach(e,t){this._array.forEach((n,r,s)=>e(n,r,this),t)}map(e,t){const n=this._array.map((r,s,a)=>e(r,s,this),t);return new $e(n)}filter(e,t){const n=this._array.filter((r,s,a)=>e(r,s,this),t);return new $e(n)}reduce(e,t){const n=(r,s,a,o)=>e(r,s,a,this);return t!==void 0?this._array.reduce(n,t):this._array.reduce(n)}reduceRight(e,t){const n=(r,s,a,o)=>e(r,s,a,this);return t!==void 0?this._array.reduceRight(n,t):this._array.reduceRight(n)}}$e.changeEvent=cs;class qm extends W{constructor(){super(),this._spans=new $e,this._spans.addEventListener($e.changeEvent,this.onSpansCollectionChanged,this)}get fontFamily(){return this.style.fontFamily}set fontFamily(e){this.style.fontFamily=e}get fontSize(){return this.style.fontSize}set fontSize(e){this.style.fontSize=e}get fontStyle(){return this.style.fontStyle}set fontStyle(e){this.style.fontStyle=e}get fontWeight(){return this.style.fontWeight}set fontWeight(e){this.style.fontWeight=e}get fontVariationSettings(){return this.style.fontVariationSettings}set fontVariationSettings(e){this.style.fontVariationSettings=e}get textDecoration(){return this.style.textDecoration}set textDecoration(e){this.style.textDecoration=e}get color(){return this.style.color}set color(e){this.style.color=e}get backgroundColor(){return this.style.backgroundColor}set backgroundColor(e){this.style.backgroundColor=e}get iosAccessibilityAdjustsFontSize(){return this.style.iosAccessibilityAdjustsFontSize}set iosAccessibilityAdjustsFontSize(e){this.style.iosAccessibilityAdjustsFontSize=e}get iosAccessibilityMinFontScale(){return this.style.iosAccessibilityMinFontScale}set iosAccessibilityMinFontScale(e){this.style.iosAccessibilityMinFontScale=e}get iosAccessibilityMaxFontScale(){return this.style.iosAccessibilityMaxFontScale}set iosAccessibilityMaxFontScale(e){this.style.iosAccessibilityMaxFontScale=e}get spans(){return this._spans||(this._spans=new $e),this._spans}toString(){let e="";for(let t=0,n=this.spans.length;t<n;t++)e+=this.spans.getItem(t).text;return e}_addArrayFromBuilder(e,t){e==="spans"&&this.spans.push(...t)}_addChildFromBuilder(e,t){t instanceof Un&&this.spans.push(t)}onSpansCollectionChanged(e){if(e.addedCount>0)for(let t=0;t<e.addedCount;t++){const n=e.object.getItem(e.index+t);this._addView(n),this.addPropertyChangeHandler(n)}if(e.removed&&e.removed.length>0)for(let t=0;t<e.removed.length;t++){const n=e.removed[t];this.removePropertyChangeHandler(n),this._removeView(n)}this.notifyPropertyChange(".",this)}addPropertyChangeHandler(e){const t=e.style;e.on(se.propertyChangeEvent,this.onPropertyChange,this),t.on("fontFamilyChange",this.onPropertyChange,this),t.on("fontSizeChange",this.onPropertyChange,this),t.on("fontStyleChange",this.onPropertyChange,this),t.on("fontWeightChange",this.onPropertyChange,this),t.on("fontVariationSettingsChange",this.onPropertyChange,this),t.on("textDecorationChange",this.onPropertyChange,this),t.on("colorChange",this.onPropertyChange,this),t.on("backgroundColorChange",this.onPropertyChange,this),t.on("iosAccessibilityAdjustsFontSizeChange",this.onPropertyChange,this),t.on("iosAccessibilityMinFontScaleChange",this.onPropertyChange,this),t.on("iosAccessibilityMaxFontScaleChange",this.onPropertyChange,this),t.on("fontScaleInternalChange",this.onPropertyChange,this)}removePropertyChangeHandler(e){const t=e.style;e.off(se.propertyChangeEvent,this.onPropertyChange,this),t.off("fontFamilyChange",this.onPropertyChange,this),t.off("fontSizeChange",this.onPropertyChange,this),t.off("fontStyleChange",this.onPropertyChange,this),t.off("fontWeightChange",this.onPropertyChange,this),t.off("fontVariationSettingsChange",this.onPropertyChange,this),t.off("textDecorationChange",this.onPropertyChange,this),t.off("colorChange",this.onPropertyChange,this),t.off("backgroundColorChange",this.onPropertyChange,this),t.off("iosAccessibilityAdjustsFontSizeChange",this.onPropertyChange,this),t.off("iosAccessibilityMinFontScaleChange",this.onPropertyChange,this),t.off("iosAccessibilityMaxFontScaleChange",this.onPropertyChange,this),t.off("fontScaleInternalChange",this.onPropertyChange,this)}onPropertyChange(e){this.notifyPropertyChange(e.propertyName,this)}eachChild(e){this.spans.forEach((t,n,r)=>e(t))}}function lx(i){const e=Jg(i);if(!e)return null;const[t]=e.values;return{width:t,color:e.color?new S(e.color):void 0}}const ux="Span",dx="formattedText",hx="FormattedString";class Wr extends L{get nativeTextViewProtected(){return this.nativeViewProtected}get fontFamily(){return this.style.fontFamily}set fontFamily(e){this.style.fontFamily=e}get fontSize(){return this.style.fontSize}set fontSize(e){this.style.fontSize=e}get fontStyle(){return this.style.fontStyle}set fontStyle(e){this.style.fontStyle=e}get fontWeight(){return this.style.fontWeight}set fontWeight(e){this.style.fontWeight=e}get letterSpacing(){return this.style.letterSpacing}set letterSpacing(e){this.style.letterSpacing=e}get lineHeight(){return this.style.lineHeight}set lineHeight(e){this.style.lineHeight=e}get maxLines(){return this.style.maxLines}set maxLines(e){this.style.maxLines=e}get textAlignment(){return this.style.textAlignment}set textAlignment(e){this.style.textAlignment=e}get textDecoration(){return this.style.textDecoration}set textDecoration(e){this.style.textDecoration=e}get textTransform(){return this.style.textTransform}set textTransform(e){this.style.textTransform=e}get textShadow(){return this.style.textShadow}set textShadow(e){this.style.textShadow=e}get whiteSpace(){return this.style.whiteSpace}set whiteSpace(e){this.style.whiteSpace=e}get textOverflow(){return this.style.textOverflow}set textOverflow(e){this.style.textOverflow=e}get padding(){return this.style.padding}set padding(e){this.style.padding=e}get paddingTop(){return this.style.paddingTop}set paddingTop(e){this.style.paddingTop=e}get paddingRight(){return this.style.paddingRight}set paddingRight(e){this.style.paddingRight=e}get paddingBottom(){return this.style.paddingBottom}set paddingBottom(e){this.style.paddingBottom=e}get paddingLeft(){return this.style.paddingLeft}set paddingLeft(e){this.style.paddingLeft=e}_onFormattedTextContentsChanged(e){this.nativeViewProtected&&this[wh.setNative](e.value)}_addChildFromBuilder(e,t){if(e===ux)if(this.formattedText)this.formattedText.spans.push(t);else{const n=new qm;n.spans.push(t),this.formattedText=n}else(e===dx||e===hx)&&(this.formattedText=t)}_requestLayoutOnTextChanged(){this.requestLayout()}eachChild(e){const t=this.formattedText;t&&e(t)}_setNativeText(e=!1){}}Wr.iosTextAnimationFallback=!0;Wr.prototype._isSingleLine=!1;function fx(i){return i==="bold"||i==="700"||i==="800"||i==="900"}const an=new b({name:"text",defaultValue:"",affectsLayout:!0});an.register(Wr);const wh=new b({name:"formattedText",affectsLayout:!0,valueChanged:gx});wh.register(Wr);const px=new b({name:"iosTextAnimation",defaultValue:"inherit",affectsLayout:!1,valueConverter(i){try{return K(i)}catch{return"inherit"}}});px.register(Wr);function gx(i,e,t){if(e&&(e.off(se.propertyChangeEvent,i._onFormattedTextContentsChanged,i),i._removeView(e)),t){const n=t.parent;n&&n._removeView(t),i._addView(t),t.on(se.propertyChangeEvent,i._onFormattedTextContentsChanged,i)}}function Zf(i,e){if(i.isSet(e.style))return e.style[i.name];if(i.isSet(e.parent.style))return e.parent.style[i.name];if(i.isSet(e.parent.parent.style))return e.parent.parent.style[i.name]}const mx=ge(pe("initial","left","center","right","justify")),Er=new He({name:"textAlignment",cssName:"text-align",defaultValue:"initial",valueConverter:mx});Er.register(T);const yx=ge(pe("initial","none","capitalize","uppercase","lowercase")),Pr=new R({name:"textTransform",cssName:"text-transform",defaultValue:"initial",valueConverter:yx});Pr.register(T);const xo=new R({name:"textShadow",cssName:"text-shadow",affectsLayout:!1,valueConverter:i=>eh(i)});xo.register(T);const _h=new R({name:"textStroke",cssName:"text-stroke",affectsLayout:!1,valueConverter:i=>lx(i)});_h.register(T);const vx=ge(pe("initial","normal","nowrap")),Wn=new R({name:"whiteSpace",cssName:"white-space",defaultValue:"initial",affectsLayout:!1,valueConverter:vx});Wn.register(T);const wx=ge(pe("clip","ellipsis","initial","unset")),Ch=new R({name:"textOverflow",cssName:"text-overflow",defaultValue:"initial",affectsLayout:!1,valueConverter:wx});Ch.register(T);const _x=ge(pe("none","underline","line-through","underline line-through")),Os=new R({name:"textDecoration",cssName:"text-decoration",defaultValue:"none",valueConverter:_x});Os.register(T);const So=new He({name:"letterSpacing",cssName:"letter-spacing",defaultValue:0,affectsLayout:!1,valueConverter:i=>parseFloat(i)});So.register(T);const To=new He({name:"lineHeight",cssName:"line-height",affectsLayout:!1,valueConverter:i=>parseFloat(i)});To.register(T);const Xm=new R({name:"maxLines",cssName:"max-lines",valueConverter:i=>i==="none"?0:parseInt(i,10)});Xm.register(T);const Eo=Symbol("textPropertyDefault");let sr;function Cx(){if(!sr){var i=function(e){__extends(t,e);function t(r){var s=e.call(this)||this;return s.textBase=r,global.__native(s)}t.prototype.getTransformation=function(r,s){var a=this.textBase.formattedText;if(a)return this.textBase.createFormattedTextNative(a);var o=this.textBase.text,c=Ai(o)?"":o.toString();return Ys(c,this.textBase.textTransform)},t.prototype.onFocusChanged=function(r,s,a,o,c){};var n;return t=__decorate([Interfaces([android.text.method.TransformationMethod]),__metadata("design:paramtypes",[typeof(n=typeof Vr<"u"&&Vr)=="function"?n:Object])],t),t}(java.lang.Object);sr=i}}let bu;function bx(){if(!bu){var i=function(e){__extends(t,e);function t(n){var r=e.call(this)||this;return r.owner=new WeakRef(n),global.__native(r)}return t.prototype.onClick=function(n){var r,s=(r=this.owner)===null||r===void 0?void 0:r.get();s&&s._emit(Un.linkTapEvent),n.clearFocus(),n.invalidate()},t.prototype.updateDrawState=function(n){},t}(android.text.style.ClickableSpan);bu=i}}let xu;function xx(){if(!xu){var i=function(e){__extends(t,e);function t(n,r){var s=e.call(this)||this;return s.align="baseline",s.align=r,s.fontSize=n,s}return t.prototype.updateDrawState=function(n){this.updateState(n)},t.prototype.updateMeasureState=function(n){this.updateState(n)},t.prototype.updateState=function(n){var r=n.getFontMetrics();if(!(!this.align||["baseline","stretch"].includes(this.align))){if(this.align==="top")return n.baselineShift=-this.fontSize-r.bottom-r.top;if(this.align==="bottom")return n.baselineShift=r.bottom;if(this.align==="text-top")return n.baselineShift=-this.fontSize-r.descent-r.ascent;if(this.align==="text-bottom")return n.baselineShift=r.bottom-r.descent;if(this.align==="middle")return n.baselineShift=(r.descent-r.ascent)/2-r.descent;if(this.align==="sup")return n.baselineShift=-this.fontSize*.4;if(this.align==="sub")return n.baselineShift=(r.descent-r.ascent)*.4}},t}(android.text.style.MetricAffectingSpan);xu=i}}class Vr extends Wr{constructor(){super(...arguments),this._tappable=!1}initNativeView(){super.initNativeView(),Cx();const e=this.nativeTextViewProtected;this._defaultTransformationMethod=e.getTransformationMethod(),this._defaultMovementMethod=e.getMovementMethod(),this._minHeight=e.getMinHeight(),this._maxHeight=e.getMaxHeight(),this._minLines=e.getMinLines(),this._maxLines=e.getMaxLines()}resetNativeView(){super.resetNativeView();const e=this.nativeTextViewProtected;e.setSingleLine(this._isSingleLine),e.setTransformationMethod(this._defaultTransformationMethod),this._defaultTransformationMethod=null,this._paintFlags!==void 0&&(e.setPaintFlags(this._paintFlags),this._paintFlags=void 0),this._minLines!==-1?e.setMinLines(this._minLines):e.setMinHeight(this._minHeight),this._minHeight=this._minLines=void 0,this._maxLines!==-1?e.setMaxLines(this._maxLines):e.setMaxHeight(this._maxHeight),this._maxHeight=this._maxLines=void 0}[an.getDefault](){return Eo}[an.setNative](e){const t=e===Eo;!t&&this.formattedText||(this._setTappableState(!1),this._setNativeText(t))}[_h.setNative](e){this._setNativeText()}createFormattedTextNative(e){return Ex(e,this.style.fontSize)}[wh.setNative](e){const t=this.nativeTextViewProtected;if(e||t instanceof android.widget.Button&&t.getTransformationMethod()instanceof sr&&t.setTransformationMethod(this._defaultTransformationMethod),this.secure)return;const n=this.createFormattedTextNative(e);t.setText(n),this._setTappableState(Tx(e)),an.nativeValueChange(this,e==null?"":e.toString()),n&&t instanceof android.widget.Button&&!(t.getTransformationMethod()instanceof sr)&&t.setTransformationMethod(new sr(this))}[Pr.setNative](e){if(e==="initial"){this.nativeTextViewProtected.setTransformationMethod(this._defaultTransformationMethod);return}this.secure||this.nativeTextViewProtected.setTransformationMethod(new sr(this))}[Er.getDefault](){return"initial"}[Er.setNative](e){const t=this.nativeTextViewProtected.getGravity()&android.view.Gravity.VERTICAL_GRAVITY_MASK;switch(e){case"center":this.nativeTextViewProtected.setGravity(android.view.Gravity.CENTER_HORIZONTAL|t);break;case"right":this.nativeTextViewProtected.setGravity(android.view.Gravity.END|t);break;default:this.nativeTextViewProtected.setGravity(android.view.Gravity.START|t);break}G>=26&&(e==="justify"?this.nativeTextViewProtected.setJustificationMode(android.text.Layout.JUSTIFICATION_MODE_INTER_WORD):this.nativeTextViewProtected.setJustificationMode(android.text.Layout.JUSTIFICATION_MODE_NONE))}[Wn.setNative](e){this.adjustLineBreak()}[Ch.setNative](e){this.adjustLineBreak()}adjustLineBreak(){const e=this.whiteSpace,t=this.textOverflow,n=this.nativeTextViewProtected;switch(e){case"initial":case"normal":n.setSingleLine(!1),n.setEllipsize(null);break;case"nowrap":switch(t){case"initial":case"ellipsis":n.setSingleLine(!0),n.setEllipsize(android.text.TextUtils.TruncateAt.END);break;default:n.setSingleLine(!1),n.setEllipsize(android.text.TextUtils.TruncateAt.END);break}break}}[Te.getDefault](){return this.nativeTextViewProtected.getTextColors()}[Te.setNative](e){(!this.formattedText||!(e instanceof S))&&(e instanceof S?this.nativeTextViewProtected.setTextColor(e.android):this.nativeTextViewProtected.setTextColor(e))}[ct.getDefault](){return{nativeSize:this.nativeTextViewProtected.getTextSize()}}[ct.setNative](e){(!this.formattedText||typeof e!="number")&&(typeof e=="number"?this.nativeTextViewProtected.setTextSize(e):this.nativeTextViewProtected.setTextSize(android.util.TypedValue.COMPLEX_UNIT_PX,e.nativeSize))}[To.getDefault](){return this.nativeTextViewProtected.getLineSpacingExtra()/V.getDisplayDensity()}[To.setNative](e){this.nativeTextViewProtected.setLineSpacing(e*V.getDisplayDensity(),1)}[Dt.getDefault](){return this.nativeTextViewProtected.getTypeface()}[Dt.setNative](e){(!this.formattedText||!(e instanceof ie))&&this.nativeTextViewProtected.setTypeface(e instanceof ie?e.getAndroidTypeface():e)}[Os.getDefault](){return this._paintFlags=this.nativeTextViewProtected.getPaintFlags()}[Os.setNative](e){switch(e){case"none":this.nativeTextViewProtected.setPaintFlags(0);break;case"underline":this.nativeTextViewProtected.setPaintFlags(android.graphics.Paint.UNDERLINE_TEXT_FLAG);break;case"line-through":this.nativeTextViewProtected.setPaintFlags(android.graphics.Paint.STRIKE_THRU_TEXT_FLAG);break;case"underline line-through":this.nativeTextViewProtected.setPaintFlags(android.graphics.Paint.UNDERLINE_TEXT_FLAG|android.graphics.Paint.STRIKE_THRU_TEXT_FLAG);break;default:this.nativeTextViewProtected.setPaintFlags(e);break}}[xo.getDefault](){return{radius:this.nativeTextViewProtected.getShadowRadius(),offsetX:this.nativeTextViewProtected.getShadowDx(),offsetY:this.nativeTextViewProtected.getShadowDy(),color:this.nativeTextViewProtected.getShadowColor()}}[xo.setNative](e){this.nativeTextViewProtected.setShadowLayer(_.toDevicePixels(e.blurRadius,java.lang.Float.MIN_VALUE),_.toDevicePixels(e.offsetX,0),_.toDevicePixels(e.offsetY,0),e.color.android)}[So.getDefault](){return org.nativescript.widgets.ViewHelper.getLetterspacing(this.nativeTextViewProtected)}[So.setNative](e){org.nativescript.widgets.ViewHelper.setLetterspacing(this.nativeTextViewProtected,e)}[Rt.getDefault](){return{value:this._defaultPaddingTop,unit:"px"}}[Rt.setNative](e){org.nativescript.widgets.ViewHelper.setPaddingTop(this.nativeTextViewProtected,_.toDevicePixels(e,0)+_.toDevicePixels(this.style.borderTopWidth,0))}[kt.getDefault](){return{value:this._defaultPaddingRight,unit:"px"}}[kt.setNative](e){org.nativescript.widgets.ViewHelper.setPaddingRight(this.nativeTextViewProtected,_.toDevicePixels(e,0)+_.toDevicePixels(this.style.borderRightWidth,0))}[Ft.getDefault](){return{value:this._defaultPaddingBottom,unit:"px"}}[Ft.setNative](e){org.nativescript.widgets.ViewHelper.setPaddingBottom(this.nativeTextViewProtected,_.toDevicePixels(e,0)+_.toDevicePixels(this.style.borderBottomWidth,0))}[Lt.getDefault](){return{value:this._defaultPaddingLeft,unit:"px"}}[Lt.setNative](e){org.nativescript.widgets.ViewHelper.setPaddingLeft(this.nativeTextViewProtected,_.toDevicePixels(e,0)+_.toDevicePixels(this.style.borderLeftWidth,0))}[mh.setNative](e){this.setAccessibilityIdentifier(this.nativeTextViewProtected,e)}[ph.setNative](e){this.setAccessibilityIdentifier(this.nativeTextViewProtected,e)}[Xm.setNative](e){const t=this.nativeTextViewProtected;e<=0?t.setMaxLines(Number.MAX_SAFE_INTEGER):(t.setMaxLines(typeof e=="string"?parseInt(e,10):e),t.setEllipsize(android.text.TextUtils.TruncateAt.END))}_setNativeText(e=!1){var n;if(e){this.nativeTextViewProtected.setText(null);return}let t;if(this.formattedText)t=this.createFormattedTextNative(this.formattedText);else{const r=this.text,s=r==null?"":r.toString();t=Ys(s,this.textTransform)}(n=this.style)!=null&&n.textStroke?this.nativeViewProtected.setTextStroke(_.toDevicePixels(this.style.textStroke.width),this.style.textStroke.color.android,this.style.color.android):this.nativeViewProtected.setTextStroke&&this.nativeViewProtected.setTextStroke(0,0,0),this.nativeTextViewProtected.setText(t)}_setTappableState(e){this._tappable!==e&&(this._tappable=e,this._tappable?(this.nativeTextViewProtected.setSingleLine(!1),this.nativeTextViewProtected.setMovementMethod(android.text.method.LinkMovementMethod.getInstance()),this.nativeTextViewProtected.setHighlightColor(null)):this.nativeTextViewProtected.setMovementMethod(this._defaultMovementMethod))}}function Sx(i){let e=i.toLowerCase();return e=e.replace(/(?:^|\s'*|[-"([{])+\S/g,t=>t.toUpperCase()),e}function Ys(i,e){if(!i||!Be(i))return"";switch(e){case"uppercase":return i.toUpperCase();case"lowercase":return i.toLowerCase();case"capitalize":return Sx(i);case"none":default:return i}}function Tx(i){if(!i)return!1;for(let e=0,t=i.spans.length;e<t;e++)if(i.spans.getItem(e).tappable)return!0;return!1}function Ex(i,e){if(!i||!i.parent)return null;const t=new android.text.SpannableStringBuilder;for(let n=0,r=0,s=0,a=i.spans.length;n<a;n++){const o=i.spans.getItem(n),c=o.text,u=i.parent.textTransform;let d=c==null?"":c.toString();u&&u!=="none"&&(d=Ys(d,u)),s=d.length,s>0&&(t.insert(r,d),Px(t,o,r,r+s,e),r+=s)}return t}function Px(i,e,t,n,r){const s=e.style,a=fx(s.fontWeight),o=s.fontStyle==="italic",c=s.verticalAlignment;a&&o?i.setSpan(new android.text.style.StyleSpan(android.graphics.Typeface.BOLD_ITALIC),t,n,android.text.Spanned.SPAN_EXCLUSIVE_EXCLUSIVE):a?i.setSpan(new android.text.style.StyleSpan(android.graphics.Typeface.BOLD),t,n,android.text.Spanned.SPAN_EXCLUSIVE_EXCLUSIVE):o&&i.setSpan(new android.text.style.StyleSpan(android.graphics.Typeface.ITALIC),t,n,android.text.Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);const u=e.fontFamily;if(u){const y=new ie(u,0,o?"italic":"normal",a?"bold":"normal",s.fontScaleInternal,s.fontVariationSettings).getAndroidTypeface()||android.graphics.Typeface.create(u,0),A=new org.nativescript.widgets.CustomTypefaceSpan(u,y);i.setSpan(A,t,n,android.text.Spanned.SPAN_EXCLUSIVE_EXCLUSIVE)}const d=e.fontSize;d&&i.setSpan(new android.text.style.AbsoluteSizeSpan(d*V.getDisplayDensity()),t,n,android.text.Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);const h=e.color;h&&i.setSpan(new android.text.style.ForegroundColorSpan(h.android),t,n,android.text.Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);const m=Zf(we,e);m&&i.setSpan(new android.text.style.BackgroundColorSpan(m.android),t,n,android.text.Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);const p=Zf(Os,e);p&&(p.indexOf("underline")!==-1&&i.setSpan(new android.text.style.UnderlineSpan,t,n,android.text.Spanned.SPAN_EXCLUSIVE_EXCLUSIVE),p.indexOf("line-through")!==-1&&i.setSpan(new android.text.style.StrikethroughSpan,t,n,android.text.Spanned.SPAN_EXCLUSIVE_EXCLUSIVE)),c&&(xx(),i.setSpan(new xu(r*V.getDisplayDensity(),c),t,n,android.text.Spanned.SPAN_EXCLUSIVE_EXCLUSIVE)),e.tappable&&(bx(),i.setSpan(new bu(e),t,n,android.text.Spanned.SPAN_EXCLUSIVE_EXCLUSIVE))}let Ar=class extends Vr{constructor(){super(...arguments),this.accessibilityRole=le.Button}get textWrap(){return this.style.whiteSpace==="normal"}set textWrap(e){typeof e=="string"&&(e=K(e)),this.style.whiteSpace=e?"normal":"nowrap"}};Ar.tapEvent="tap";Ar=__decorate([ee("Button")],Ar);Ar.prototype.recycleNativeView="auto";let Su,pl;function Vx(){if(!Su){var i=function(e){__extends(t,e);function t(r){var s=e.call(this)||this;return s.owner=r,global.__native(s)}t.prototype.onClick=function(r){var s=this.owner;s&&s._emit(Ar.tapEvent)};var n;return t=__decorate([Interfaces([android.view.View.OnClickListener]),__metadata("design:paramtypes",[typeof(n=typeof Ir<"u"&&Ir)=="function"?n:Object])],t),t}(java.lang.Object);Su=i}}class Ir extends Ar{createNativeView(){return pl||(pl=android.widget.Button),new pl(this._context)}initNativeView(){super.initNativeView();const e=this.nativeViewProtected;Vx();const t=new Su(this);e.setOnClickListener(t),e.clickListener=t}disposeNativeView(){var e;(e=this.nativeViewProtected)!=null&&e.clickListener&&(this.nativeViewProtected.clickListener.owner=null),super.disposeNativeView()}resetNativeView(){super.resetNativeView(),this._stateListAnimator&&G>=21&&(this.nativeViewProtected.setStateListAnimator(this._stateListAnimator),this._stateListAnimator=void 0)}_updateButtonStateChangeHandler(e){e?(this._highlightedHandler=this._highlightedHandler||(t=>{switch(t.action){case ui.up:case ui.cancel:this._goToVisualState(this.defaultVisualState);break;case ui.down:this._goToVisualState("highlighted");break}}),this.on(O[O.touch],this._highlightedHandler)):this.off(O[O.touch],this._highlightedHandler)}get needsNativeDrawableFill(){return!0}[rc.getDefault](){return{value:org.nativescript.widgets.ViewHelper.getMinWidth(this.nativeViewProtected),unit:"px"}}[sc.getDefault](){return{value:org.nativescript.widgets.ViewHelper.getMinHeight(this.nativeViewProtected),unit:"px"}}[Rt.getDefault](){return{value:this._defaultPaddingTop,unit:"px"}}[Rt.setNative](e){org.nativescript.widgets.ViewHelper.setPaddingTop(this.nativeViewProtected,_.toDevicePixels(e,0)+_.toDevicePixels(this.style.borderTopWidth,0))}[kt.getDefault](){return{value:this._defaultPaddingRight,unit:"px"}}[kt.setNative](e){org.nativescript.widgets.ViewHelper.setPaddingRight(this.nativeViewProtected,_.toDevicePixels(e,0)+_.toDevicePixels(this.style.borderRightWidth,0))}[Ft.getDefault](){return{value:this._defaultPaddingBottom,unit:"px"}}[Ft.setNative](e){org.nativescript.widgets.ViewHelper.setPaddingBottom(this.nativeViewProtected,_.toDevicePixels(e,0)+_.toDevicePixels(this.style.borderBottomWidth,0))}[Lt.getDefault](){return{value:this._defaultPaddingLeft,unit:"px"}}[Lt.setNative](e){org.nativescript.widgets.ViewHelper.setPaddingLeft(this.nativeViewProtected,_.toDevicePixels(e,0)+_.toDevicePixels(this.style.borderLeftWidth,0))}[As.setNative](e){if(G>=21){const t=this.nativeViewProtected;this._stateListAnimator||(this._stateListAnimator=t.getStateListAnimator()),t.setStateListAnimator(null)}org.nativescript.widgets.ViewHelper.setZIndex(this.nativeViewProtected,e)}[Er.setNative](e){const t=e==="initial"?"center":e;super[Er.setNative](t)}getDefaultElevation(){return G<21?0:2}getDefaultDynamicElevationOffset(){return G<21?0:4}}__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],Ir.prototype,"createNativeView",null);__decorate([gh("normal","highlighted","pressed","active"),__metadata("design:type",Function),__metadata("design:paramtypes",[Boolean]),__metadata("design:returntype",void 0)],Ir.prototype,"_updateButtonStateChangeHandler",null);Ir.prototype._ignoreFlexMinWidthHeightReset=!0;class dc extends Mn{get content(){return this._content}set content(e){const t=this._content;this._content&&this._removeView(this._content),this._content=e,this._content&&this._addView(this._content),this._onContentChanged(t,e)}get layoutView(){let e;if(this._content){let t=!0;this._content._eachLayoutView(n=>{if(t)t=!1,e=n;else throw new Error("More than one layout child inside a ContentView")})}return e}get _childrenCount(){return this._content?1:0}_onContentChanged(e,t){}_addChildFromBuilder(e,t){t instanceof L&&(this.content=t)}eachChildView(e){const t=this._content;t&&e(t)}onMeasure(e,t){const n=L.measureChild(this,this.layoutView,e,t),r=V.getMeasureSpecSize(e),s=V.getMeasureSpecMode(e),a=V.getMeasureSpecSize(t),o=V.getMeasureSpecMode(t),c=Math.max(n.measuredWidth,this.effectiveMinWidth),u=Math.max(n.measuredHeight,this.effectiveMinHeight),d=L.resolveSizeAndState(c,r,s,0),h=L.resolveSizeAndState(u,a,o,0);this.setMeasuredDimension(d,h)}onLayout(e,t,n,r){L.layoutChild(this,this.layoutView,0,0,n-e,r-t)}}dc.prototype.recycleNativeView="auto";class Ax{constructor(e,t){console.log("ControlStateChangeListener is intended for IOS usage only.")}start(){}stop(){}}const Xn=new Date,bh=(i,e)=>i<=e&&i>=e;let Ze=class extends L{};Ze=__decorate([ee("DatePicker")],Ze);Ze.prototype.recycleNativeView="auto";const xh=new b({name:"year",defaultValue:Xn.getFullYear(),valueConverter:i=>parseInt(i)});xh.register(Ze);const Sh=new b({name:"month",defaultValue:Xn.getMonth()+1,valueConverter:i=>parseInt(i)});Sh.register(Ze);const Th=new b({name:"day",defaultValue:Xn.getDate(),valueConverter:i=>parseInt(i)});Th.register(Ze);const Ix=new b({name:"hour",defaultValue:Xn.getHours(),valueConverter:i=>parseInt(i)});Ix.register(Ze);const Nx=new b({name:"minute",defaultValue:Xn.getMinutes(),valueConverter:i=>parseInt(i)});Nx.register(Ze);const Lx=new b({name:"second",defaultValue:Xn.getSeconds(),valueConverter:i=>parseInt(i)});Lx.register(Ze);const Tu=new b({name:"maxDate",equalityComparer:bh,valueConverter:i=>new Date(i)});Tu.register(Ze);const Eu=new b({name:"minDate",equalityComparer:bh,valueConverter:i=>new Date(i)});Eu.register(Ze);const Eh=new b({name:"date",defaultValue:Xn,equalityComparer:bh,valueConverter:i=>new Date(i)});Eh.register(Ze);const kx=new b({name:"showTime",defaultValue:!1,valueConverter:i=>K(i)});kx.register(Ze);const Rx=new b({name:"iosPreferredDatePickerStyle",defaultValue:0,valueConverter:i=>parseInt(i)});Rx.register(Ze);const Fx=(i,e)=>i<=e&&i>=e;function Ym(i,e,t){if(i.minuteInterval>1){const r=t-t%i.minuteInterval;t=r+(t===r+1?i.minuteInterval:0),t===60&&(e++,t=0)}let n={hour:e,minute:t};return Qm(i,e,t)||(n={hour:i.maxHour,minute:i.maxMinute}),Km(i,e,t)||(n={hour:i.minHour,minute:i.minMinute}),n}function Yn(i){return Km(i)&&Qm(i)}function Ph(i){return typeof i=="number"&&i>=0&&i<=23}function Vh(i){return typeof i=="number"&&i>=0&&i<=59}function Ox(i){return typeof i=="number"&&i>=1&&i<=30&&60%i===0}function Po(i){return i*60}function ha(i){return i!==void 0}function Km(i,e,t){return i.minHour===void 0||i.minMinute===void 0?!0:Po(e!==void 0?e:i.hour)+(t!==void 0?t:i.minute)>=Po(i.minHour)+i.minMinute}function Qm(i,e,t){return!ha(i.maxHour)||!ha(i.maxMinute)?!0:Po(ha(e)?e:i.hour)+(ha(t)?t:i.minute)<=Po(i.maxHour)+i.maxMinute}function ar(i){return i instanceof Date?i+"":i<10?`0${i}`:`${i}`}function Dx(i){return`Min time: (${ar(i.minHour)}:${ar(i.minMinute)}), max time: (${ar(i.maxHour)}:${ar(i.maxMinute)})`}function wn(i,e,t){return`${e} property value (${ar(t)}:${ar(i.minute)}) is not valid. ${Dx(i)}.`}let pt=class extends L{};pt=__decorate([ee("TimePicker")],pt);pt.prototype.recycleNativeView="auto";const Bx=new b({name:"minHour",defaultValue:0,valueChanged:(i,e,t)=>{if(!Ph(t)||!Yn(i))throw new Error(wn(i,"minHour",t))},valueConverter:i=>parseInt(i)});Bx.register(pt);const Mx=new b({name:"maxHour",defaultValue:23,valueChanged:(i,e,t)=>{if(!Ph(t)||!Yn(i))throw new Error(wn(i,"maxHour",t))},valueConverter:i=>parseInt(i)});Mx.register(pt);const Ux=new b({name:"minMinute",defaultValue:0,valueChanged:(i,e,t)=>{if(!Vh(t)||!Yn(i))throw new Error(wn(i,"minMinute",t))},valueConverter:i=>parseInt(i)});Ux.register(pt);const Wx=new b({name:"maxMinute",defaultValue:59,valueChanged:(i,e,t)=>{if(!Vh(t)||!Yn(i))throw new Error(wn(i,"maxMinute",t))},valueConverter:i=>parseInt(i)});Wx.register(pt);const Hx=new b({name:"minuteInterval",defaultValue:1,valueChanged:(i,e,t)=>{if(!Ox(t))throw new Error(wn(i,"minuteInterval",t))},valueConverter:i=>parseInt(i)});Hx.register(pt);const Pu=new b({name:"minute",defaultValue:null,valueChanged:(i,e,t)=>{if(t=t||0,!Vh(t)||!Yn(i))throw new Error(wn(i,"minute",t));i.time=new Date(0,0,0,i.hour,i.minute)},valueConverter:i=>parseInt(i)});Pu.register(pt);const Vu=new b({name:"hour",defaultValue:null,valueChanged:(i,e,t)=>{if(t=t||0,!Ph(t)||!Yn(i))throw new Error(wn(i,"Hour",t));i.time=new Date(0,0,0,i.hour,i.minute)},valueConverter:i=>parseInt(i)});Vu.register(pt);const Ah=new b({name:"time",defaultValue:new Date,equalityComparer:Fx,valueChanged:(i,e,t)=>{if(!Yn(i))throw new Error(wn(i,"time",t));i.hour=t.getHours(),i.minute=t.getMinutes()}});Ah.register(pt);const jx=new b({name:"iosPreferredDatePickerStyle",defaultValue:0,valueConverter:i=>parseInt(i)});jx.register(pt);let Au;function $x(){if(!Au){var i=function(e){__extends(t,e);function t(r){var s=e.call(this)||this;return s.owner=r,global.__native(s)}t.prototype.onTimeChanged=function(r,s,a){var o=this.owner;if(!o.updatingNativeValue){var c=Ym(o,s,a);Ah.nativeValueChange(o,new Date(0,0,0,c.hour,c.minute))}};var n;return t=__decorate([Interfaces([android.widget.TimePicker.OnTimeChangedListener]),__metadata("design:paramtypes",[typeof(n=typeof Vo<"u"&&Vo)=="function"?n:Object])],t),t}(java.lang.Object);Au=i}}class Vo extends pt{createNativeView(){return new android.widget.TimePicker(this._context)}initNativeView(){super.initNativeView();const e=this.nativeViewProtected;$x();const t=new Au(this);e.setOnTimeChangedListener(t),e.listener=t;const n=e.calendar=java.util.Calendar.getInstance(),r=Vu.isSet(this)?this.hour:n.get(java.util.Calendar.HOUR_OF_DAY),s=Pu.isSet(this)?this.minute:n.get(java.util.Calendar.MINUTE),a=Ym(this,r,s);Ah.isSet(this)||(this.time=new Date(0,0,0,a.hour,a.minute))}[Pu.setNative](e){this.updatingNativeValue=!0;try{G>=23?this.nativeViewProtected.setMinute(e):this.nativeViewProtected.setCurrentMinute(new java.lang.Integer(e))}finally{this.updatingNativeValue=!1}}[Vu.setNative](e){this.updatingNativeValue=!0;try{G>=23?this.nativeViewProtected.setHour(e):this.nativeViewProtected.setCurrentHour(new java.lang.Integer(e))}finally{this.updatingNativeValue=!1}}}let Iu;function Gx(){if(!Iu){var i=function(e){__extends(t,e);function t(r){var s=e.call(this)||this;return s.owner=r,global.__native(s)}t.prototype.onDateChanged=function(r,s,a,o){var c=this.owner,u=!1;if(s!==c.year&&(xh.nativeValueChange(c,s),u=!0),a!==c.month-1&&(Sh.nativeValueChange(c,a+1),u=!0),o!==c.day&&(Th.nativeValueChange(c,o),u=!0),u||c.showTime&&c.timePicker){var d=void 0;if(c.showTime&&c.timePicker){var h=c.timePicker.time;d=new Date(s,a,o,h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds())}else d=new Date(s,a,o);Eh.nativeValueChange(c,d)}};var n;return t=__decorate([Interfaces([android.widget.DatePicker.OnDateChangedListener]),__metadata("design:paramtypes",[typeof(n=typeof Nu<"u"&&Nu)=="function"?n:Object])],t),t}(java.lang.Object);Iu=i}}class Nu extends Ze{createNativeView(){const e=new android.widget.DatePicker(this._context);return e.setCalendarViewShown(!1),e}initNativeView(){super.initNativeView(),Gx();const e=this.nativeViewProtected,t=new Iu(this);e.init(this.year,this.month-1,this.day,t),e.listener=t,this.showTime&&(this.timePicker=new Vo,this.timePicker.width=this.width,this.timePicker.height=this.height,this.timePicker.on("timeChange",n=>{this.updateNativeDate()}),this.parent.addChild(this.timePicker))}disposeNativeView(){var e;this.timePicker&&this.timePicker.disposeNativeView(),(e=this.nativeViewProtected)!=null&&e.listener&&(this.nativeViewProtected.listener.owner=null),super.disposeNativeView()}updateNativeDate(){const e=this.nativeViewProtected,t=typeof this.year=="number"?this.year:e.getYear(),n=typeof this.month=="number"?this.month-1:e.getMonth(),r=typeof this.day=="number"?this.day:e.getDayOfMonth();if(this.showTime&&this.timePicker){const s=this.timePicker.time||new Date;this.date=new Date(t,n,r,s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())}else this.date=new Date(t,n,r)}[xh.setNative](e){this.nativeViewProtected.getYear()!==e&&this.updateNativeDate()}[Sh.setNative](e){this.nativeViewProtected.getMonth()!==e-1&&this.updateNativeDate()}[Th.setNative](e){this.nativeViewProtected.getDayOfMonth()!==e&&this.updateNativeDate()}[Eh.setNative](e){const t=this.nativeViewProtected;e&&(t.getDayOfMonth()!==e.getDate()||t.getMonth()!==e.getMonth()||t.getYear()!==e.getFullYear())&&t.updateDate(e.getFullYear(),e.getMonth(),e.getDate())}[Tu.getDefault](){return this.nativeViewProtected.getMaxDate()}[Tu.setNative](e){const t=e instanceof Date?e.getTime():e;this.nativeViewProtected.setMaxDate(t)}[Eu.getDefault](){return this.nativeViewProtected.getMinDate()}[Eu.setNative](e){const t=e instanceof Date?e.getTime():e;this.nativeViewProtected.setMinDate(t)}}var rt;(function(i){i[i.back=0]="back",i[i.forward=1]="forward",i[i.replace=2]="replace"})(rt||(rt={}));const Zm=Symbol("FRAME_SYMBOL");function zx(i){return i&&i[Zm]===!0}var ni;function qx(i){let e;return typeof i=="string"?e={moduleName:i}:typeof i=="function"?e={create:i}:e=i,e}let Me=ni=class extends Mn{constructor(){super(...arguments),this._backStack=new Array,this._navigationQueue=new Array,this._animationInProgress=!1,this._isInFrameStack=!1}static getFrameById(e){return Xe.find(t=>t.id&&t.id===e)}static topmost(){return Cs()}static goBack(){const e=ni.topmost();if(e&&e.canGoBack())return e.goBack(),!0;if(e){let t=!1,n=Ca(e,"Frame");for(;n&&!t;)n&&n.canGoBack()?t=!0:n=Ca(n,"Frame");if(n&&t)return n.goBack(),!0}return Xe.length>1&&e._popFromFrameStack(),!1}static reloadPage(){}static _stack(){return Xe}_addChildFromBuilder(e,t){throw new Error("Frame should not have a view. Use 'defaultPage' property instead.")}onLoaded(){super.onLoaded(),this._processNextNavigationEntry()}canGoBack(){let e=this._backStack.length,t=!1;return this._navigationQueue.forEach(n=>{const r=n.entry;if(n.navigationType===rt.back)if(t=!1,!r)e--;else{const a=this._backStack.indexOf(r);a!==-1?e=a:e--}else r.entry.clearHistory?(t=!1,e=0):(e++,t&&e--,t=r.entry.backstackVisible===!1)}),this._navigationQueue.length>0&&!this._currentEntry&&e--,e>0}goBack(e){if(l.isEnabled()&&l.write("GO BACK",l.categories.Navigation),!this.canGoBack()||e&&this._backStack.indexOf(e)<0)return;const t={entry:e,isBackNavigation:!0,navigationType:rt.back};this._navigationQueue.push(t),this._processNextNavigationEntry()}_removeEntry(e){const t=e.resolvedPage;if(t){const n=t.frame;n?n._removeView(t):t._tearDownUI(!0)}else l.isEnabled()&&l.write("_removeEntry: backstack entry missing page",l.categories.Navigation);e.resolvedPage=null}navigate(e){l.isEnabled()&&l.write("NAVIGATE",l.categories.Navigation),this._pushInFrameStack();const t=qx(e),n=Ke.createViewFromEntry(t),s={entry:{entry:t,resolvedPage:n,navDepth:void 0,fragmentTag:void 0},isBackNavigation:!1,navigationType:rt.forward};this._navigationQueue.push(s),this._processNextNavigationEntry()}isCurrent(e){return this._currentEntry===e}setCurrent(e,t){const n=e.resolvedPage;n.frame||(this._resolvedPage=n,this._addView(n)),this._currentEntry=e;const r=t===rt.back;r&&this._pushInFrameStack(),n.onNavigatedTo(r),this.notify({eventName:ni.navigatedToEvent,object:this,isBack:r,entry:e}),this._executingContext=null}_updateBackstack(e,t){const n=t===rt.back,r=t===rt.replace;this.raiseCurrentPageNavigatedEvents(n);const s=this._currentEntry;if(n){const a=this._backStack.indexOf(e);this._backStack.splice(a+1).forEach(o=>this._removeEntry(o)),this._backStack.pop()}else r||(e.entry.clearHistory?(this._backStack.forEach(a=>this._removeEntry(a)),this._backStack.length=0):ni._isEntryBackstackVisible(s)&&this._backStack.push(s));s&&this._backStack.indexOf(s)<0&&this._removeEntry(s)}isNestedWithin(e){let t=this;for(;t;)if(t=Ca(t,ni),t===e)return!0;return!1}raiseCurrentPageNavigatedEvents(e){const t=this.currentPage;t&&(t.isLoaded&&t.callUnloaded(),t.onNavigatedFrom(e))}_processNavigationQueue(e){if(this._navigationQueue.length===0)return;const n=this._navigationQueue[0].entry.resolvedPage;e===n&&(this._navigationQueue.shift(),this._processNextNavigationEntry(),this._updateActionBar())}_findEntryForTag(e){let t;if(this._currentEntry&&this._currentEntry.fragmentTag===e)t=this._currentEntry;else if(t=this._backStack.find(n=>n.fragmentTag===e),!t){const n=this._navigationQueue.find(r=>r.entry.fragmentTag===e);t=n?n.entry:void 0}return t}navigationQueueIsEmpty(){return this._navigationQueue.length===0}static _isEntryBackstackVisible(e){if(!e)return!1;const t=e.entry.backstackVisible;return!(t!==void 0&&!t)}_updateActionBar(e,t){}_processNextNavigationEntry(){if(!(!this.isLoaded||this._executingContext)&&this._navigationQueue.length>0){const e=this._navigationQueue[0];e.navigationType===rt.back?this.performGoBack(e):this.performNavigation(e)}}performNavigation(e){this._executingContext=e;const t=e.entry,n=e.navigationType===rt.back;this._onNavigatingTo(t,n);const r=this._getNavigationTransition(t.entry);if(r!=null&&r.instance){const s=ae.getState(r==null?void 0:r.instance.id);ae.updateState(r==null?void 0:r.instance.id,{page:(s==null?void 0:s.page)||this.currentPage,toPage:this})}this._navigateCore(t)}performGoBack(e){let t=e.entry;const n=this._backStack;t||(t=n[n.length-1],e.entry=t),this._executingContext=e,this._onNavigatingTo(t,!0),this._goBackCore(t)}_goBackCore(e){l.isEnabled()&&l.write(`GO BACK CORE(${this._backstackEntryTrace(e)}); currentPage: ${this.currentPage}`,l.categories.Navigation)}_navigateCore(e){l.isEnabled()&&l.write(`NAVIGATE CORE(${this._backstackEntryTrace(e)}); currentPage: ${this.currentPage}`,l.categories.Navigation)}_onNavigatingTo(e,t){this.currentPage&&this.currentPage.onNavigatingFrom(t),e.resolvedPage.onNavigatingTo(e.entry.context,t,e.entry.bindingContext),this.notify({eventName:ni.navigatingToEvent,object:this,isBack:t,entry:e,fromEntry:this._currentEntry})}get animated(){return this._animated}set animated(e){this._animated=e}get transition(){return this._transition}set transition(e){this._transition=e}get backStack(){return this._backStack.slice()}get currentPage(){return this._currentEntry?this._currentEntry.resolvedPage:null}get currentEntry(){return this._currentEntry?this._currentEntry.entry:null}_pushInFrameStackRecursive(){this._pushInFrameStack();const e=[];for(const t of Xe)t.isNestedWithin(this)&&e.push(t);for(const t of e)t._pushInFrameStack()}_pushInFrameStack(){vv(this)}_popFromFrameStack(){wv(this)}_removeFromFrameStack(){_v(this)}_dialogClosed(){this._removeFromFrameStack()}_onRootViewReset(){super._onRootViewReset(),this._removeFromFrameStack()}get _childrenCount(){return this._resolvedPage?1:0}eachChildView(e){const t=this._resolvedPage;t&&e(t)}_getIsAnimatedNavigation(e){return e&&e.animated!==void 0?e.animated:this.animated!==void 0?this.animated:ni.defaultAnimatedNavigation}_getNavigationTransition(e){if(e){if(e.transitionAndroid!==void 0)return e.transitionAndroid;if(e.transition!==void 0)return e.transition}return this.transition!==void 0?this.transition:ni.defaultTransition}get navigationBarHeight(){return 0}_getNavBarVisible(e){throw new Error}_addViewToNativeVisualTree(e){return!0}_removeViewFromNativeVisualTree(e){e._isAddedToNativeVisualTree=!1}_printFrameBackStack(){let t=this.backStack.length-1;for(console.log("Frame Back Stack: ");t>=0;){const n=this.backStack[t--];console.log(`	${n.resolvedPage}`)}}_backstackEntryTrace(e){let t=`${e.resolvedPage}`;ni._isEntryBackstackVisible(e)||(t+=" | INVISIBLE"),e.entry.clearHistory&&(t+=" | CLEAR HISTORY"),this._getIsAnimatedNavigation(e.entry)||(t+=" | NOT ANIMATED");const s=this._getNavigationTransition(e.entry);return s&&(t+=` | Transition[${JSON.stringify(s)}]`),t}_onLivesync(e){return super._onLivesync(e)?!0:e?!1:this._onLivesyncWithoutContext()}_handleLivesync(e){return super._handleLivesync(e)?!0:this.currentPage&&fu(this.currentPage,e,["markup","script"])?(l.write(`Change Handled: Replacing page ${e.path}`,l.categories.Livesync),this.replacePage({moduleName:e.path,transition:{name:"fade",duration:100}}),!0):!1}_onLivesyncWithoutContext(){if(l.isEnabled()&&l.write(`${this}._onLivesyncWithoutContext()`,l.categories.Livesync),!this._currentEntry||!this._currentEntry.entry)return!1;const e=this._currentEntry.entry;return e.create&&e.create()===this.currentPage?!1:(this.replacePage({moduleName:e.moduleName,create:e.create,transition:{name:"fade",duration:100}}),!0)}replacePage(e){const t=this._currentEntry;typeof e=="string"&&(e={moduleName:ki(e)});const n=Ke.createViewFromEntry(e),s={entry:{entry:Object.assign({},t.entry,e),resolvedPage:n,navDepth:t.navDepth,fragmentTag:t.fragmentTag,frameId:t.frameId},isBackNavigation:!1,navigationType:rt.replace};this._navigationQueue.push(s),this._processNextNavigationEntry()}};Me.navigatingToEvent="navigatingTo";Me.navigatedToEvent="navigatedTo";Me.defaultAnimatedNavigation=!0;__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],Me.prototype,"onLoaded",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],Me.prototype,"performNavigation",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],Me.prototype,"performGoBack",null);Me=ni=__decorate([ee("Frame")],Me);Me.prototype[Zm]=!0;function Xx(){return console.log("_stack() is deprecated. Use Frame._stack() instead."),Me._stack()}const Yx=new b({name:"defaultPage",valueChanged:(i,e,t)=>{i.navigate({moduleName:t})}});Yx.register(Me);const Kx=new b({name:"actionBarVisibility",defaultValue:"auto",affectsLayout:!1});Kx.register(Me);const Qx=$i(()=>new android.view.animation.AccelerateDecelerateInterpolator);let Jf=0;class j{constructor(e=350,t){this._duration=e,this._interpolator=t?dh(t):Qx(),Jf++,this.id=Jf}getDuration(){return this._duration}setDuration(e){this._duration=e}getCurve(){return this._interpolator}animateIOSTransition(e,t,n,r){throw new Error("Abstract method call")}createAndroidAnimator(e){throw new Error("Abstract method call")}toString(){return`Transition@${this.id}`}}j.AndroidTransitionType={enter:"enter",exit:"exit",popEnter:"popEnter",popExit:"popExit"};class Zx extends j{constructor(e,t,n){super(t,n),this._direction=e}createAndroidAnimator(e){let t,n,r;const s=new android.animation.AnimatorSet,a=this.getDuration()||300,o=this.getCurve(),c=this._direction==="right"?180:-180;switch(e){case j.AndroidTransitionType.enter:t=Array.create(android.animation.Animator,2),n=Array.create("float",2),n[0]=c,n[1]=0,r=android.animation.ObjectAnimator.ofFloat(null,"rotationY",n),r.setInterpolator(o),r.setDuration(a),t[0]=r,n=Array.create("float",3),n[0]=0,n[1]=0,n[2]=255,r=android.animation.ObjectAnimator.ofFloat(null,"alpha",n),r.setDuration(a/2),t[1]=r;break;case j.AndroidTransitionType.exit:t=Array.create(android.animation.Animator,2),n=Array.create("float",2),n[0]=0,n[1]=-c,r=android.animation.ObjectAnimator.ofFloat(null,"rotationY",n),r.setInterpolator(o),r.setDuration(a),t[0]=r,n=Array.create("float",3),n[0]=255,n[1]=0,n[2]=0,r=android.animation.ObjectAnimator.ofFloat(null,"alpha",n),r.setDuration(a/2),t[1]=r;break;case j.AndroidTransitionType.popEnter:t=Array.create(android.animation.Animator,2),n=Array.create("float",2),n[0]=-c,n[1]=0,r=android.animation.ObjectAnimator.ofFloat(null,"rotationY",n),r.setInterpolator(o),r.setDuration(a),t[0]=r,n=Array.create("float",3),n[0]=0,n[1]=0,n[2]=255,r=android.animation.ObjectAnimator.ofFloat(null,"alpha",n),r.setDuration(a/2),t[1]=r;break;case j.AndroidTransitionType.popExit:t=Array.create(android.animation.Animator,2),n=Array.create("float",2),n[0]=0,n[1]=c,r=android.animation.ObjectAnimator.ofFloat(null,"rotationY",n),r.setInterpolator(o),r.setDuration(a),t[0]=r,n=Array.create("float",3),n[0]=255,n[1]=0,n[2]=0,r=android.animation.ObjectAnimator.ofFloat(null,"alpha",n),r.setDuration(a/2),t[1]=r;break}return s.playTogether(t),s}}const Jx=$i(()=>new android.view.animation.AccelerateDecelerateInterpolator),eS=17432576,tS=17432577,Nr=new Map,gl=new Map;let ml,yl;function ep(i,e,t,n,r,s,a){const o=t?t.fragment:null,c=n.fragment,u=Nr.get(r);if(u&&u.size>0)throw new Error("Calling navigation before previous navigation finish.");n.isAnimationRunning=!1,rp(o),rp(c);let d="",h;e&&(h=e.instance,d=e.name?e.name.toLowerCase():""),i?h?d="custom":d.indexOf("slide")!==0&&d!=="fade"&&d.indexOf("flip")!==0&&d.indexOf("explode")!==0&&(d="default"):d="none";let m=!1;if(t&&(Ao(t),(t.transitionName!==d||t.transition!==h||a)&&(ty(t,!0),m=!0)),d==="none"){const p=new dS(0,null);a?(s.setCustomAnimations(eS,tS),iS(n,p),fa({duration:0,curve:null},n,p)):fa({duration:0,curve:null},n,p),n.isNestedDefaultTransition=a,m&&Sa({duration:0,curve:null},t,p)}else if(d==="custom")fa({duration:h.getDuration(),curve:h.getCurve()},n,h),m&&Sa({duration:h.getDuration(),curve:h.getCurve()},t,h);else if(d==="default")sp({duration:150,curve:null},n),m&&Lu({duration:150,curve:null},t);else if(d.indexOf("slide")===0)cS(e,n,d),m&&ny(e,t,d);else if(d==="fade")sp(e,n),m&&Lu(e,t);else if(d==="explode")lS(e,n),m&&ry(e,t);else if(d.indexOf("flip")===0){const p=d.substr(4)||"right",g=new Zx(p,e.duration,e.curve);fa(e,n,g),m&&Sa(e,t,g)}n.transitionName=d,t&&(t.transitionName=d,d==="custom"&&(t.transition=h)),ap(t),ap(n)}function iS(i,e){nS(i,e);const t=Jm(),n=e.createAndroidAnimator(j.AndroidTransitionType.enter);n.transitionType=j.AndroidTransitionType.enter,n.entry=i,n.addListener(t),i.enterAnimator=n;const r=e.createAndroidAnimator(j.AndroidTransitionType.popExit);r.transitionType=j.AndroidTransitionType.popExit,r.entry=i,r.addListener(t),i.popExitAnimator=r}function nS(i,e){const t=Jm();tp(i.exitAnimator,t),tp(i.popEnterAnimator,t);const n=e.createAndroidAnimator(j.AndroidTransitionType.exit);n.transitionType=j.AndroidTransitionType.exit,n.entry=i,n.addListener(t),i.exitAnimator=n;const r=e.createAndroidAnimator(j.AndroidTransitionType.popEnter);r.transitionType=j.AndroidTransitionType.popEnter,r.entry=i,r.addListener(t),i.popEnterAnimator=r}function Jm(){if(!yl){var i=function(e){__extends(t,e);function t(){var n=e.call(this)||this;return global.__native(n)}return t.prototype.onAnimationStart=function(n){var r=n.entry;ey(r),l.isEnabled()&&l.write("START ".concat(n.transitionType," for ").concat(r.fragmentTag),l.categories.Transition),r.isAnimationRunning=!0},t.prototype.onAnimationRepeat=function(n){l.isEnabled()&&l.write("REPEAT ".concat(n.transitionType," for ").concat(n.entry.fragmentTag),l.categories.Transition)},t.prototype.onAnimationEnd=function(n){l.isEnabled()&&l.write("END ".concat(n.transitionType," for ").concat(n.entry.fragmentTag),l.categories.Transition),n.entry.isAnimationRunning=!1,sy(n.entry,n.backEntry)},t.prototype.onAnimationCancel=function(n){l.isEnabled()&&l.write("CANCEL ".concat(n.transitionType," for ").concat(n.entry.fragmentTag),l.categories.Transition),n.entry.isAnimationRunning=!1},t=__decorate([Interfaces([android.animation.Animator.AnimatorListener]),__metadata("design:paramtypes",[])],t),t}(java.lang.Object);yl=new i}return yl}function tp(i,e){if(i){if(i.removeListener(e),i.entry&&l.isEnabled()){const t=i.entry;l.write(`Clear ${i.transitionType} - ${t.transition} for ${t.fragmentTag}`,l.categories.Transition)}i.entry=null}}function rS(i){return Nr.get(i)}function Ao(i){const e=i.fragment,t=i.enterTransitionListener;t&&e&&e.setEnterTransition(t.transition);const n=i.exitTransitionListener;n&&e&&e.setExitTransition(n.transition);const r=i.reenterTransitionListener;r&&e&&e.setReenterTransition(r.transition);const s=i.returnTransitionListener;s&&e&&e.setReturnTransition(s.transition)}function sS(i,e){const t=i.fragment,n=e.fragment;let r=!1;const s=e.returnTransitionListener;s?(r=!0,n.setExitTransition(s.transition)):n.setExitTransition(null);const a=i.reenterTransitionListener;return a?(r=!0,t.setEnterTransition(a.transition)):t.setEnterTransition(null),r}function ip(i,e){const t=ae.getState(i);t&&(ae.notifyEvent(e,{id:i,type:"page",action:t.activeType===Li.present?"present":"dismiss"}),e===ae.finishedEvent&&(t.activeType===Li.present?ae.updateState(i,{activeType:Li.dismiss}):ae.finishState(i)))}function aS(i,e){if(!ml){var t=function(n){__extends(r,n);function r(c,u){var d=n.call(this)||this;return d.entry=c,d.transition=u,global.__native(d)}r.prototype.onTransitionStart=function(c){var u,d=this.entry;d.isAnimationRunning=!0,ey(d),l.isEnabled()&&l.write("START ".concat(Ti(c)," transition for ").concat(d.fragmentTag),l.categories.Transition),d!=null&&d.transition&&ip((u=d.transition)===null||u===void 0?void 0:u.id,ae.startedEvent)},r.prototype.onTransitionEnd=function(c){var u,d=this.entry;l.isEnabled()&&l.write("END ".concat(Ti(c)," transition for ").concat(d.fragmentTag),l.categories.Transition),d.isAnimationRunning=!1,sy(d,this.backEntry),d!=null&&d.transition&&ip((u=d.transition)===null||u===void 0?void 0:u.id,ae.finishedEvent)},r.prototype.onTransitionResume=function(c){if(l.isEnabled()){var u=this.entry.fragmentTag;l.write("RESUME ".concat(Ti(c)," transition for ").concat(u),l.categories.Transition)}},r.prototype.onTransitionPause=function(c){l.isEnabled()&&l.write("PAUSE ".concat(Ti(c)," transition for ").concat(this.entry.fragmentTag),l.categories.Transition)},r.prototype.onTransitionCancel=function(c){var u=this.entry;u.isAnimationRunning=!1,l.isEnabled()&&l.write("CANCEL ".concat(Ti(c)," transition for ").concat(this.entry.fragmentTag),l.categories.Transition)};var s,a,o;return r=__decorate([Interfaces([androidx.transition.Transition.TransitionListener]),__metadata("design:paramtypes",[typeof(s=typeof ExpandedEntry<"u"&&ExpandedEntry)=="function"?s:Object,typeof(o=typeof androidx<"u"&&(a=androidx.transition)!==void 0&&a.Transition)=="function"?o:Object])],r),r}(java.lang.Object);ml=t}return new ml(i,e)}function ey(i){const e=i.frameId;let t=Nr.get(e);t||(t=new Set,Nr.set(e,t)),t.add(i)}function ty(i,e){const t=i.fragment,n=i.exitTransitionListener;if(n){const s=t.getExitTransition();s&&(e&&s.removeListener(n),t.setExitTransition(null),l.isEnabled()&&l.write(`Cleared Exit ${s.getClass().getSimpleName()} transition for ${t}`,l.categories.Transition)),e&&(i.exitTransitionListener=null)}const r=i.reenterTransitionListener;if(r){const s=t.getReenterTransition();s&&(e&&s.removeListener(r),t.setReenterTransition(null),l.isEnabled()&&l.write(`Cleared Reenter ${s.getClass().getSimpleName()} transition for ${t}`,l.categories.Transition)),e&&(i.reenterTransitionListener=null)}}function oS(i){iy(i,!1)}function np(i){iy(i,!0)}function iy(i,e){ty(i,e);const t=i.fragment,n=i.enterTransitionListener;if(n){const s=t.getEnterTransition();s&&(e&&s.removeListener(n),t.setEnterTransition(null),l.isEnabled()&&l.write(`Cleared Enter ${s.getClass().getSimpleName()} transition for ${t}`,l.categories.Transition)),e&&(i.enterTransitionListener=null)}const r=i.returnTransitionListener;if(r){const s=t.getReturnTransition();s&&(e&&s.removeListener(r),t.setReturnTransition(null),l.isEnabled()&&l.write(`Cleared Return ${s.getClass().getSimpleName()} transition for ${t}`,l.categories.Transition)),e&&(i.returnTransitionListener=null)}}function rp(i){i&&(i.setAllowEnterTransitionOverlap(!0),i.setAllowReturnTransitionOverlap(!0))}function Pn(i,e,t){hc(i,t);const n=Ks(e,t);e.enterTransitionListener=n,e.fragment.setEnterTransition(t)}function Vn(i,e,t){hc(i,t);const n=Ks(e,t);e.exitTransitionListener=n,e.fragment.setExitTransition(t)}function An(i,e,t){hc(i,t);const n=Ks(e,t);e.reenterTransitionListener=n,e.fragment.setReenterTransition(t)}function In(i,e,t){hc(i,t);const n=Ks(e,t);e.returnTransitionListener=n,e.fragment.setReturnTransition(t)}function cS(i,e,t){switch(ny(i,e,t),t.substr(5)||"left"){case"left":Pn(i,e,new androidx.transition.Slide(android.view.Gravity.RIGHT)),In(i,e,new androidx.transition.Slide(android.view.Gravity.RIGHT));break;case"right":Pn(i,e,new androidx.transition.Slide(android.view.Gravity.LEFT)),In(i,e,new androidx.transition.Slide(android.view.Gravity.LEFT));break;case"top":Pn(i,e,new androidx.transition.Slide(android.view.Gravity.BOTTOM)),In(i,e,new androidx.transition.Slide(android.view.Gravity.BOTTOM));break;case"bottom":Pn(i,e,new androidx.transition.Slide(android.view.Gravity.TOP)),In(i,e,new androidx.transition.Slide(android.view.Gravity.TOP));break}}function ny(i,e,t){switch(t.substr(5)||"left"){case"left":Vn(i,e,new androidx.transition.Slide(android.view.Gravity.LEFT)),An(i,e,new androidx.transition.Slide(android.view.Gravity.LEFT));break;case"right":Vn(i,e,new androidx.transition.Slide(android.view.Gravity.RIGHT)),An(i,e,new androidx.transition.Slide(android.view.Gravity.RIGHT));break;case"top":Vn(i,e,new androidx.transition.Slide(android.view.Gravity.TOP)),An(i,e,new androidx.transition.Slide(android.view.Gravity.TOP));break;case"bottom":Vn(i,e,new androidx.transition.Slide(android.view.Gravity.BOTTOM)),An(i,e,new androidx.transition.Slide(android.view.Gravity.BOTTOM));break}}function Sa(i,e,t){const n=t.createAndroidAnimator(j.AndroidTransitionType.exit),r=new org.nativescript.widgets.CustomTransition(n,t.constructor.name+j.AndroidTransitionType.exit.toString());Vn(i,e,r);const s=t.createAndroidAnimator(j.AndroidTransitionType.popEnter),a=new org.nativescript.widgets.CustomTransition(s,t.constructor.name+j.AndroidTransitionType.popEnter.toString());An(i,e,a)}function fa(i,e,t){Sa(i,e,t);const n=t.createAndroidAnimator(j.AndroidTransitionType.enter),r=new org.nativescript.widgets.CustomTransition(n,t.constructor.name+j.AndroidTransitionType.enter.toString());Pn(i,e,r);const s=t.createAndroidAnimator(j.AndroidTransitionType.popExit),a=new org.nativescript.widgets.CustomTransition(s,t.constructor.name+j.AndroidTransitionType.popExit.toString());In(i,e,a)}function sp(i,e){Lu(i,e);const t=new androidx.transition.Fade(androidx.transition.Fade.IN);Pn(i,e,t);const n=new androidx.transition.Fade(androidx.transition.Fade.OUT);In(i,e,n)}function Lu(i,e){const t=new androidx.transition.Fade(androidx.transition.Fade.OUT);Vn(i,e,t);const n=new androidx.transition.Fade(androidx.transition.Fade.IN);An(i,e,n)}function ry(i,e){Vn(i,e,new androidx.transition.Explode),An(i,e,new androidx.transition.Explode)}function lS(i,e){ry(i,e),Pn(i,e,new androidx.transition.Explode),In(i,e,new androidx.transition.Explode)}function hc(i,e){i.duration&&e.setDuration(i.duration);const t=i.curve?dh(i.curve):Jx();e.setInterpolator(t)}function Ks(i,e){const t=aS(i,e);return e.addListener(t),t}function sy(i,e){const t=i.frameId,n=Nr.get(t);if(n)if(n.delete(i),n.size===0){const r=gl.get(t);if(gl.delete(t),Nr.delete(t),!i.resolvedPage){l.isEnabled()&&l.write(`Transition completed - Entry ${i} with unexpected null value for the resolvedPage property.`,l.categories.Transition,l.messageType.error);return}const s=i.resolvedPage.frame,a=s._executingContext||{navigationType:rt.back};let o=s.isCurrent(i)?r:i;o=o||i,o&&setTimeout(()=>s.setCurrent(e||o,a.navigationType))}else gl.set(t,i)}function Ti(i){return`${i.getClass().getSimpleName()}@${i.hashCode().toString(16)}`}function ap(i){if(i&&l.isEnabled()){let e=`${i.fragmentTag} Transitions:`;i.transitionName&&(e+=`transitionName=${i.transitionName}, `);const t=i.fragment;e+=`${t.getEnterTransition()?" enter="+Ti(t.getEnterTransition()):""}`,e+=`${t.getExitTransition()?" exit="+Ti(t.getExitTransition()):""}`,e+=`${t.getReenterTransition()?" popEnter="+Ti(t.getReenterTransition()):""}`,e+=`${t.getReturnTransition()?" popExit="+Ti(t.getReturnTransition()):""}`,l.write(e,l.categories.Transition)}}function uS(i){const e=new android.animation.AnimatorSet,t=Array.create(android.animation.Animator,1),n=Array.create("float",2);n[0]=0,n[1]=1;const r=android.animation.ObjectAnimator.ofFloat(null,"alpha",n);return r.setDuration(i),t[0]=r,e.playTogether(t),e}class dS extends j{createAndroidAnimator(e){return uS(this.getDuration())}}const vt=org.nativescript.widgets.FragmentBase.prototype,hS=org.nativescript.widgets.FragmentBase.extend("com.tns.FragmentClass",{init(){},onHiddenChanged(i){this._callbacks.onHiddenChanged(this,i,vt.onHiddenChanged)},onCreateAnimator(i,e,t){return this._callbacks.onCreateAnimator(this,i,e,t,vt.onCreateAnimator)},onStop(){this._callbacks.onStop(this,vt.onStop)},onPause(){this._callbacks.onPause(this,vt.onPause)},onResume(){this._callbacks.onResume(this,vt.onResume)},onCreate(i){this._callbacks||ay(this),this.setHasOptionsMenu(!0),this._callbacks.onCreate(this,i,vt.onCreate)},onCreateView(i,e,t){return this._callbacks.onCreateView(this,i,e,t,vt.onCreateView)},onSaveInstanceState(i){this._callbacks.onSaveInstanceState(this,i,vt.onSaveInstanceState)},onDestroyView(){this._callbacks.onDestroyView(this,vt.onDestroyView)},onDestroy(){this._callbacks.onDestroy(this,vt.onDestroy),this._callbacks=null},toString(){const i=this._callbacks;if(i)return i.toStringOverride(this,vt.toString);vt.toString()}});let Ds;function fS(){if(!Ds&&(require("./fragment"),!Ds))throw new Error("Failed to initialize the extended androidx.fragment.app.Fragment class")}function pS(i){if(Ds)throw new Error("Fragment class already initialized");or()&&gS(),Ds=i}function gS(){const i=com.tns.embedding.EmbeddableFragmentCallbacks.extend({init(){},onCreateView(){return vc().nativeViewProtected},onResume(){vc().callLoaded()},onPause(){vc().callUnloaded()}});com.tns.embedding.CallbacksStore.setFragmentCallbacks(new i)}pS(hS);const mS="_frameId",yS="_callbacks";class Wt{constructor(){this.backgroundBitmap=null}onHiddenChanged(e,t,n){l.isEnabled()&&l.write(`${e}.onHiddenChanged(${t})`,l.categories.NativeLifecycle),n.call(e,t)}onCreateAnimator(e,t,n,r,s){let a=null;const o=this.entry;return n&&o.isNestedDefaultTransition&&(a=o.enterAnimator,o.isNestedDefaultTransition=!1),a||s.call(e,t,n,r)}onCreate(e,t,n){if(l.isEnabled()&&l.write(`${e}.onCreate(${t})`,l.categories.NativeLifecycle),n.call(e,t),!this.entry){const s=e.getArguments().getInt(mS),a=PS(s);if(!a)throw new Error(`Cannot find Frame for ${e}`);vS(e,a)}}onCreateView(e,t,n,r,s){l.isEnabled()&&l.write(`${e}.onCreateView(inflater, container, ${r})`,l.categories.NativeLifecycle);const a=this.entry;if(!a)return l.error(`${e}.onCreateView: entry is null or undefined`),null;const o=a.resolvedPage;if(!o)return l.error(`${e}.onCreateView: entry has no resolvedPage`),null;const c=this.frame;if(!c)return l.error(`${e}.onCreateView: this.frame is null or undefined`),null;if(c._resolvedPage=o,o.parent===c){if(c._inheritStyles(o),!o._context){const h=n&&n.getContext()||t&&t.getContext();o._setupUI(h)}c.isLoaded&&!o.isLoaded&&o.callLoaded()}else if(!o.parent)c._styleScope||o._updateStyleScope(),c._addView(o);else throw new Error("Page is already shown on another frame.");const u=a.viewSavedState;u&&(o.nativeViewProtected.restoreHierarchyState(u),a.viewSavedState=null);const d=o.nativeViewProtected;if(d!=null){const h=d.getParent();h instanceof android.view.ViewGroup&&(h.getChildCount()===0&&h.addViewInLayout(d,-1,new org.nativescript.widgets.CommonLayoutParams),h.removeAllViews())}return o.nativeViewProtected}onSaveInstanceState(e,t,n){l.isEnabled()&&l.write(`${e}.onSaveInstanceState(${t})`,l.categories.NativeLifecycle),n.call(e,t)}onDestroyView(e,t){try{if(l.isEnabled()&&l.write(`${e}.onDestroyView()`,l.categories.NativeLifecycle),e.getRemovingParentFragment()){const r=this.frame.nativeViewProtected;if(r){const s=new android.graphics.drawable.BitmapDrawable(x.android.context.getResources(),this.backgroundBitmap);this.frame._originalBackground=this.frame.backgroundColor||new S("White"),r.setBackgroundDrawable(s),this.backgroundBitmap=null}}}finally{t.call(e)}}onDestroy(e,t){l.isEnabled()&&l.write(`${e}.onDestroy()`,l.categories.NativeLifecycle),t.call(e);const n=this.entry;if(!n)return l.error(`${e}.onDestroy: entry is null or undefined`),null;if(n.fragment=null,!n.resolvedPage)return console.log(`${e}.onDestroy: entry has no resolvedPage`),null}onPause(e,t){try{e.getRemovingParentFragment()&&(this.backgroundBitmap=this.loadBitmapFromView(this.frame.nativeViewProtected))}finally{t.call(e)}}onResume(e,t){const n=this.entry.resolvedPage.frame,r=new WeakRef(this);setTimeout(()=>{const s=r.get();s&&n._executingContext&&!s.entry.isAnimationRunning&&n.setCurrent(s.entry,n._executingContext.navigationType)},0),t.call(e)}onStop(e,t){t.call(e)}toStringOverride(e,t){const n=this.entry;return n?`${n.fragmentTag}<${n.resolvedPage}>`:"NO ENTRY, "+t.call(e)}loadBitmapFromView(e){if(e&&e.getWidth()>0&&e.getHeight()>0)return org.nativescript.widgets.Utils.getBitmapFromView(e)}}__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[androidx.fragment.app.Fragment,Boolean,Function]),__metadata("design:returntype",void 0)],Wt.prototype,"onHiddenChanged",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[androidx.fragment.app.Fragment,Number,Boolean,Number,Function]),__metadata("design:returntype",android.animation.Animator)],Wt.prototype,"onCreateAnimator",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[androidx.fragment.app.Fragment,android.os.Bundle,Function]),__metadata("design:returntype",void 0)],Wt.prototype,"onCreate",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[androidx.fragment.app.Fragment,android.view.LayoutInflater,android.view.ViewGroup,android.os.Bundle,Function]),__metadata("design:returntype",android.view.View)],Wt.prototype,"onCreateView",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[androidx.fragment.app.Fragment,android.os.Bundle,Function]),__metadata("design:returntype",void 0)],Wt.prototype,"onSaveInstanceState",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[org.nativescript.widgets.FragmentBase,Function]),__metadata("design:returntype",void 0)],Wt.prototype,"onDestroyView",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[androidx.fragment.app.Fragment,Function]),__metadata("design:returntype",void 0)],Wt.prototype,"onDestroy",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[org.nativescript.widgets.FragmentBase,Function]),__metadata("design:returntype",void 0)],Wt.prototype,"onPause",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[org.nativescript.widgets.FragmentBase,Function]),__metadata("design:returntype",void 0)],Wt.prototype,"onResume",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[androidx.fragment.app.Fragment,Function]),__metadata("design:returntype",void 0)],Wt.prototype,"onStop",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[androidx.fragment.app.Fragment,Function]),__metadata("design:returntype",String)],Wt.prototype,"toStringOverride",null);function vS(i,e){const t=i.getTag();l.isEnabled()&&l.write(`Finding page for ${t}.`,l.categories.NativeLifecycle);let n;const r=e._currentEntry,s=e._executingContext;r&&r.fragmentTag===t?n=r:s&&s.entry&&s.entry.fragmentTag===t&&(n=s.entry);let a;if(n&&(n.recreated=!0,a=n.resolvedPage),a){const o=i[yS];o.frame=e,o.entry=n,n.fragment=i,Ao(n)}else throw new Error(`Could not find a page for ${t}.`)}const vl=new Map,wS="com.tns.activity",op="com.tns.activity.rootViewId";let cp;class Qt{getRootView(){return this._rootView}onCreate(e,t,n,r){var o;l.isEnabled()&&l.write(`Activity.onCreate(${t})`,l.categories.NativeLifecycle);const s=r?n:void 0;r||(console.log("AndroidActivityCallbacks.onCreate(activity: any, savedInstanceState: any, superFunc: Function) is deprecated. Use AndroidActivityCallbacks.onCreate(activity: any, savedInstanceState: any, intent: any, superFunc: Function) instead."),r=n);const a=!!t&&cp;if(r.call(e,a?t:null),t){const c=t.getInt(op,-1);c!==-1&&vl.has(c)&&(this._rootView=(o=vl.get(c))==null?void 0:o.get())}s&&s.getAction()&&x.android.notify({eventName:x.AndroidApplication.activityNewIntentEvent,object:x.android,activity:e,intent:s}),this.setActivityContent(e,t,!0),cp=!0}onSaveInstanceState(e,t,n){n.call(e,t);const r=this._rootView;r instanceof di&&(t.putInt(wS,r.android.frameId),r._saveFragmentsState()),r&&t.putInt(op,r._domId)}onNewIntent(e,t,n,r){r.call(e,t),n.call(e,t),x.android.notify({eventName:x.AndroidApplication.activityNewIntentEvent,object:x.android,activity:e,intent:t})}onStart(e,t){t.call(e),l.isEnabled()&&l.write("NativeScriptActivity.onStart();",l.categories.NativeLifecycle);const n=this._rootView;n&&!n.isLoaded&&!or()&&n.callLoaded()}onStop(e,t){t.call(e),l.isEnabled()&&l.write("NativeScriptActivity.onStop();",l.categories.NativeLifecycle);const n=this._rootView;n&&n.isLoaded&&!or()&&n.callUnloaded()}onPostResume(e,t){t.call(e),l.isEnabled()&&l.write("NativeScriptActivity.onPostResume();",l.categories.NativeLifecycle),e.isNativeScriptActivity&&x.setSuspended(!1,{android:e,activity:e})}onDestroy(e,t){try{l.isEnabled()&&l.write("NativeScriptActivity.onDestroy();",l.categories.NativeLifecycle);const n=this._rootView;if(n&&n._tearDownUI(!0),e.isFinishing()){const r={eventName:x.exitEvent,object:x.android,android:e};x.notify(r)}}finally{t.call(e)}}onBackPressed(e,t){l.isEnabled()&&l.write("NativeScriptActivity.onBackPressed;",l.categories.NativeLifecycle);const n={eventName:"activityBackPressed",object:x,android:x.android,activity:e,cancel:!1};if(x.android.notify(n),n.cancel)return;const r=this._rootView;let s=!1;const a={eventName:"activityBackPressed",object:r,activity:e,cancel:!1};r.notify(a),!a.cancel&&(r.onBackPressed===di.prototype.onBackPressed||!r.onBackPressed())&&(s=r instanceof di?!di.goBack():!0),s&&t.call(e)}onRequestPermissionsResult(e,t,n,r,s){l.isEnabled()&&l.write("NativeScriptActivity.onRequestPermissionsResult;",l.categories.NativeLifecycle),x.android.notify({eventName:"activityRequestPermissions",object:x,android:x.android,activity:e,requestCode:t,permissions:n,grantResults:r})}onActivityResult(e,t,n,r,s){s.call(e,t,n,r),l.isEnabled()&&l.write(`NativeScriptActivity.onActivityResult(${t}, ${n}, ${r})`,l.categories.NativeLifecycle),x.android.notify({eventName:"activityResult",object:x,android:x.android,activity:e,requestCode:t,resultCode:n,intent:r})}resetActivityContent(e){this._rootView&&(this._rootView._getFragmentManager().executePendingTransactions(),this._rootView._onRootViewReset()),this._rootView=null,this.setActivityContent(e,null,!1),this._rootView.callLoaded()}setActivityContent(e,t,n){let r=this._rootView;l.isEnabled()&&l.write(`Frame.setActivityContent rootView: ${r} shouldCreateRootFrame: false fireLaunchEvent: ${n}`,l.categories.NativeLifecycle);const s=e.getIntent();r=x.createRootView(r,n,{android:s,intent:s,savedInstanceState:t}),r&&(vl.set(r._domId,new WeakRef(r)),r._setupAsRootView(e),or()?pv(r):e.setContentView(r.nativeViewProtected,new org.nativescript.widgets.CommonLayoutParams),this._rootView=r,x.initRootView(r))}}__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[androidx.appcompat.app.AppCompatActivity,android.os.Bundle,Object,Function]),__metadata("design:returntype",void 0)],Qt.prototype,"onCreate",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[androidx.appcompat.app.AppCompatActivity,android.os.Bundle,Function]),__metadata("design:returntype",void 0)],Qt.prototype,"onSaveInstanceState",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[androidx.appcompat.app.AppCompatActivity,android.content.Intent,Function,Function]),__metadata("design:returntype",void 0)],Qt.prototype,"onNewIntent",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object,Function]),__metadata("design:returntype",void 0)],Qt.prototype,"onStart",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object,Function]),__metadata("design:returntype",void 0)],Qt.prototype,"onStop",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object,Function]),__metadata("design:returntype",void 0)],Qt.prototype,"onPostResume",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object,Function]),__metadata("design:returntype",void 0)],Qt.prototype,"onDestroy",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object,Function]),__metadata("design:returntype",void 0)],Qt.prototype,"onBackPressed",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object,Number,Array,Array,Function]),__metadata("design:returntype",void 0)],Qt.prototype,"onRequestPermissionsResult",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object,Number,Number,android.content.Intent,Function]),__metadata("design:returntype",void 0)],Qt.prototype,"onActivityResult",null);const _S="com.tns.activity",CS="_frameId",Io="_callbacks",No=Symbol("_owner");let es=-1,lp=-1,wl;function up(){if(!wl){const i=java.lang.Object.extend({interfaces:[android.view.View.OnAttachStateChangeListener],init(){},onViewAttachedToWindow(e){const t=e[No];t&&t._onAttachedToWindow()},onViewDetachedFromWindow(e){const t=e[No];t&&t._onDetachedFromWindow()}});wl=new i}return wl}class di extends Me{constructor(){super(),this._containerViewId=-1,this._tearDownPending=!1,this._attachedToWindow=!1,this._wasReset=!1,this._android=new TS(this)}static reloadPage(e){const t=yr.getCurrentActivity(),n=t[Io];if(n){const r=n.getRootView();(e&&e.path&&e.path.includes(x.getMainEntry().moduleName)&&e.type!=="style"||!r||!r._onLivesync(e))&&n.resetActivityContent(t)}else l.error(`${t}[CALLBACKS] is null or undefined`)}static get defaultAnimatedNavigation(){return Me.defaultAnimatedNavigation}static set defaultAnimatedNavigation(e){Me.defaultAnimatedNavigation=e}static get defaultTransition(){return Me.defaultTransition}static set defaultTransition(e){Me.defaultTransition=e}get containerViewId(){return this._containerViewId}get android(){return this._android}get _hasFragments(){return!0}_onAttachedToWindow(){var n,r;super._onAttachedToWindow();const e=yr.getCurrentActivity(),t=((r=(n=e==null?void 0:e.getLifecycle)==null?void 0:n.call(e))==null?void 0:r.getCurrentState())||androidx.lifecycle.Lifecycle.State.CREATED;this._manager&&this._manager.isDestroyed()||!t.isAtLeast(androidx.lifecycle.Lifecycle.State.CREATED)||(this._attachedToWindow=!0,this._wasReset=!1,this._processNextNavigationEntry())}_onDetachedFromWindow(){super._onDetachedFromWindow(),this._attachedToWindow=!1}_processNextNavigationEntry(){if(!this.isLoaded||this._executingContext||this._wasReset&&!this._attachedToWindow)return;const e=rS(this._android.frameId);if(e&&e.size>0)return;const t=this._getFragmentManager(),n=this._currentEntry;if((!this._cachedTransitionState||n!==this._cachedTransitionState.entry)&&n&&t&&!t.findFragmentByTag(n.fragmentTag)){const s=bS(this._currentEntry);s?(this._cachedTransitionState=s,this._currentEntry=null,this._navigateCore(n),this._currentEntry=n):super._processNextNavigationEntry()}else super._processNextNavigationEntry()}_getChildFragmentManager(){let e;return this._executingContext&&this._executingContext.entry?e=this._executingContext.entry:e=this._currentEntry,e&&e.fragment&&e.fragment.isAdded()?e.fragment.getChildFragmentManager():null}_onRootViewReset(){super._onRootViewReset(),this._wasReset=!0,this.disposeCurrentFragment()}onLoaded(){this._originalBackground&&(this.backgroundColor=null,this.backgroundColor=this._originalBackground,this._originalBackground=null),this._frameCreateTimeout=setTimeout(()=>{var t;const e=this._currentEntry||((t=this._executingContext)==null?void 0:t.entry);if(e&&!e.fragment){const r=this._getFragmentManager().beginTransaction();e.fragment=this.createFragment(e,e.fragmentTag),Ao(e),r.replace(this.containerViewId,e.fragment,e.fragmentTag),r.commitAllowingStateLoss()}},0),super.onLoaded()}onUnloaded(){super.onUnloaded(),typeof this._frameCreateTimeout=="number"&&(clearTimeout(this._frameCreateTimeout),this._frameCreateTimeout=null)}disposeCurrentFragment(){if(!this._currentEntry||!this._currentEntry.fragment||!this._currentEntry.fragment.isAdded())return;const e=this._currentEntry.fragment,n=e.getFragmentManager().beginTransaction(),r=e.getExitTransition();r&&r instanceof org.nativescript.widgets.CustomTransition&&r.setResetOnTransitionEnd(!0),n.remove(e),n.commitNowAllowingStateLoss()}createFragment(e,t){fS();const n=new Ds,r=new android.os.Bundle;r.putInt(CS,this._android.frameId),n.setArguments(r),ay(n);const s=n[Io];return s.frame=this,s.entry=e,e.fragment=n,e.fragmentTag=t,e.navDepth=es,n}setCurrent(e,t){const n=this._currentEntry;if(n!==e){if(this._updateBackstack(e,t),this._tearDownPending){this._tearDownPending=!1,e.recreated||ga(e),n&&!n.recreated&&ga(n);const s=this._context;s&&!e.recreated&&(e.fragment=this.createFragment(e,e.fragmentTag),e.resolvedPage._setupUI(s)),e.recreated=!1,n&&(n.recreated=!1)}super.setCurrent(e,t),this._processNavigationQueue(e.resolvedPage)}else this._processNextNavigationEntry();if(this._cachedTransitionState&&(xS(this._currentEntry,this._cachedTransitionState),this._cachedTransitionState=null),t===rt.replace){np(e);const s=this._getIsAnimatedNavigation(e.entry),a=this._getNavigationTransition(e.entry);ep(s,a,null,e,this._android.frameId,null)}}onBackPressed(){if(this.canGoBack())return this.goBack(),!0;if(!this.navigationQueueIsEmpty()){const e=this._getFragmentManager();if(e)return e.executePendingTransactions(),!0}return!1}_navigateCore(e){var p,g;if(super._navigateCore(e),e.frameId=this._android.frameId,!this._android.activity){const v=this._android.currentActivity;v&&ES(v,this._android.frameId);return}const n=this._getFragmentManager(),r=e.entry.clearHistory,s=this._currentEntry;r&&(es=-1),this._executingContext&&this._executingContext.navigationType===rt.replace||es++,lp++;const o=`fragment${lp}[${es}]`,c=this.createFragment(e,o),u=n.beginTransaction(),d=s?this._getIsAnimatedNavigation(e.entry):!1;let h;this._currentEntry?h=this._getNavigationTransition(e.entry):h=null;const m=!s;ep(d,h,s,e,this._android.frameId,u,m),u.replace(this.containerViewId,c,o),(g=(p=h==null?void 0:h.instance)==null?void 0:p.androidFragmentTransactionCallback)==null||g.call(p,u,s,e),u.commitAllowingStateLoss()}_goBackCore(e){var r,s;super._goBackCore(e),es=e.navDepth;const n=this._getFragmentManager().beginTransaction();e.fragment||(e.fragment=this.createFragment(e,e.fragmentTag),Ao(e)),sS(e,this._currentEntry),n.replace(this.containerViewId,e.fragment,e.fragmentTag),(s=(r=e.transition)==null?void 0:r.androidFragmentTransactionCallback)==null||s.call(r,n,this._currentEntry,e),n.commitAllowingStateLoss()}_removeEntry(e){super._removeEntry(e),e.fragment&&np(e),e.fragment=null,e.viewSavedState=null}createNativeView(){return this._currentEntry&&this._pushInFrameStack(),new org.nativescript.widgets.ContentLayout(this._context)}initNativeView(){super.initNativeView();const e=up();this.nativeViewProtected.addOnAttachStateChangeListener(e),this.nativeViewProtected[No]=this,this._android.rootViewGroup=this.nativeViewProtected,this._containerViewId<0&&(this._containerViewId=android.view.View.generateViewId()),this._android.rootViewGroup.setId(this._containerViewId)}disposeNativeView(){const e=up();this.nativeViewProtected.removeOnAttachStateChangeListener(e),this.nativeViewProtected[No]=null,this._tearDownPending=!!this._executingContext;const t=this._currentEntry,n=this._executingContext?this._executingContext.entry:null;this.backStack.forEach(r=>{r!==n&&ga(r)}),t&&!n&&ga(t),this._android.rootViewGroup=null,this._removeFromFrameStack(),super.disposeNativeView()}_popFromFrameStack(){this._isInFrameStack&&super._popFromFrameStack()}_getNavBarVisible(e){switch(this.actionBarVisibility){case"never":return!1;case"always":return!0;default:return e.actionBarHidden!==void 0?!e.actionBarHidden:this._android&&this._android.showActionBar!==void 0?this._android.showActionBar:!0}}_saveFragmentsState(){this.backStack.forEach(e=>{const t=e.resolvedPage.nativeViewProtected;if(!e.viewSavedState&&t){const n=new android.util.SparseArray;t.saveHierarchyState(n),e.viewSavedState=n}})}}__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],di.prototype,"_navigateCore",null);global.__onLiveSyncCore=di.reloadPage;function pa(i){if(!i)return null;const e=i.transition.clone();return Ks(i.entry,e)}function bS(i){const e=i,t={};if(e.enterTransitionListener&&e.exitTransitionListener)t.enterTransitionListener=pa(e.enterTransitionListener),t.exitTransitionListener=pa(e.exitTransitionListener),t.reenterTransitionListener=pa(e.reenterTransitionListener),t.returnTransitionListener=pa(e.returnTransitionListener),t.transitionName=e.transitionName,t.entry=i;else return null;return t}function xS(i,e){const t=i;e.enterTransitionListener&&(t.enterTransitionListener=e.enterTransitionListener),e.exitTransitionListener&&(t.exitTransitionListener=e.exitTransitionListener),e.reenterTransitionListener&&(t.reenterTransitionListener=e.reenterTransitionListener),e.returnTransitionListener&&(t.returnTransitionListener=e.returnTransitionListener),t.transitionName=e.transitionName}function ga(i){i.fragment&&oS(i),i.recreated=!1,i.fragment=null;const e=i.resolvedPage;e&&e._context&&i.resolvedPage._tearDownUI(!0)}let SS=0;const ku=new Array;class TS extends se{constructor(e){super(),this._showActionBar=!0,this._owner=e,this.frameId=SS++,ku.push(new WeakRef(this))}get showActionBar(){return this._showActionBar}set showActionBar(e){this._showActionBar!==e&&(this._showActionBar=e,this.owner.currentPage&&this.owner.currentPage.actionBar.update())}get activity(){const e=this.owner._context;if(e)return e;let t=this._owner.parent;for(;t;){if(t instanceof di)return t.android.activity;t=t.parent}}get actionBar(){const e=this.currentActivity;if(!e)return;const t=e.getActionBar();if(t)return t}get currentActivity(){let e=this.activity;if(e)return e;const t=Xx();for(let n=t.length,r=n-1;r>=0;r--)if(e=t[r].android.activity,e)return e}get owner(){return this._owner}canGoBack(){return this.activity?this.activity.getIntent().getAction()!==android.content.Intent.ACTION_MAIN:!1}fragmentForPage(e){const t=e&&e.fragmentTag;if(t)return this.owner._getFragmentManager().findFragmentByTag(t)}}function ES(i,e){const t=new android.content.Intent(i,i.getClass());t.setAction(android.content.Intent.ACTION_DEFAULT),t.putExtra(_S,e),i.startActivity(t)}function PS(i){for(let e=0;e<ku.length;e++){const t=ku[e].get();if(t&&t.frameId===i)return t.owner}return null}function VS(i){i[Io]=new Qt}function ay(i){i[Io]=new Wt}const oy=`${ue.CLASS_PREFIX}dialog-item`;var Qe;(function(i){i.STRING="string",i.PROMPT="Prompt",i.CONFIRM="Confirm",i.ALERT="Alert",i.LOGIN="Login",i.OK="OK",i.CANCEL="Cancel"})(Qe||(Qe={}));var xi;(function(i){i.text="text",i.password="password",i.email="email",i.number="number",i.decimal="decimal",i.phone="phone"})(xi||(xi={}));var pr;(function(i){i.none="none",i.all="all",i.sentences="sentences",i.words="words"})(pr||(pr={}));function cy(){const i=di.topmost();if(i)return i.currentPage}function ly(i,e){const t=cy();if(t){const n=t._styleScope;n&&(i.parent=t,i._inheritStyleScope(n),i.onLoaded(),e(i),i.onUnloaded())}}let ma,ya;function AS(){if(!ma){const t=require("../button").Button;ma=new t,ma.className=oy}let i,e;return ly(ma,t=>{i=t.color,e=t.backgroundColor}),{color:i,backgroundColor:e}}function IS(){if(!ya){const e=require("../label").Label;ya=new e,ya.className=oy}let i;return ly(ya,e=>{i=e.color}),i}function uy(i){return i&&(i.message||i.title)}function NS(i){if(i.length===1&&$s(i[0]))return i[0];const e={title:Qe.LOGIN,okButtonText:Qe.OK,cancelButtonText:Qe.CANCEL};return Be(i[0])&&(e.message=i[0]),Be(i[1])&&(e.userNameHint=i[1]),Be(i[2])&&(e.passwordHint=i[2]),Be(i[3])&&(e.userName=i[3]),Be(i[4])&&(e.password=i[4]),e}function st(i){return typeof i=="string"}function fc(i){const e=new android.app.AlertDialog.Builder(Ue.getCurrentActivity(),i.theme?i.theme:-1);return e.setTitle(i&&st(i.title)?i.title:""),e.setMessage(i&&st(i.message)?i.message:""),i&&i.cancelable===!1&&e.setCancelable(!1),e}function Qs(i){const e=i.show(),t=IS();if(t){const s=e.getContext().getResources().getIdentifier("android:id/alertTitle",null,null);if(s){const o=e.findViewById(s);o&&o.setTextColor(t.android)}const a=e.getContext().getResources().getIdentifier("android:id/message",null,null);if(a){const o=e.findViewById(a);o&&o.setTextColor(t.android)}}const{color:n,backgroundColor:r}=AS();if(n){const s=[];for(let a=0;a<3;a++){const o=e.getContext().getResources().getIdentifier("android:id/button"+a,null,null);s[a]=e.findViewById(o)}s.forEach(a=>{a&&(n&&a.setTextColor(n.android),r&&a.setBackgroundColor(r.android))})}}function Ih(i,e,t){e&&(e.okButtonText&&i.setPositiveButton(e.okButtonText,new android.content.DialogInterface.OnClickListener({onClick:function(n,r){n.cancel(),t(!0)}})),e.cancelButtonText&&i.setNegativeButton(e.cancelButtonText,new android.content.DialogInterface.OnClickListener({onClick:function(n,r){n.cancel(),t(!1)}})),e.neutralButtonText&&i.setNeutralButton(e.neutralButtonText,new android.content.DialogInterface.OnClickListener({onClick:function(n,r){n.cancel(),t(void 0)}})),i.setOnDismissListener(new android.content.DialogInterface.OnDismissListener({onDismiss:function(){t(!1)}})))}function dy(i){return new Promise((e,t)=>{try{const n=uy(i)?i:{title:Qe.ALERT,okButtonText:Qe.OK,message:i+""},r=fc(n);r.setPositiveButton(n.okButtonText,new android.content.DialogInterface.OnClickListener({onClick:function(s,a){s.cancel(),e()}})),r.setOnDismissListener(new android.content.DialogInterface.OnDismissListener({onDismiss:function(){e()}})),Qs(r)}catch(n){t(n)}})}function hy(i){return new Promise((e,t)=>{try{const n=uy(i)?i:{title:Qe.CONFIRM,okButtonText:Qe.OK,cancelButtonText:Qe.CANCEL,message:i+""},r=fc(n);Ih(r,n,function(s){e(s)}),Qs(r)}catch(n){t(n)}})}function fy(...i){let e;const t={title:Qe.PROMPT,okButtonText:Qe.OK,cancelButtonText:Qe.CANCEL,inputType:xi.text},n=i[0];return i.length===1?st(n)?(e=t,e.message=n):e=n:i.length===2&&st(n)&&st(i[1])&&(e=t,e.message=n,e.defaultText=i[1]),new Promise((r,s)=>{try{const a=fc(e),o=new android.widget.EditText(Ue.getCurrentActivity());if(e)switch(e.inputType===xi.password?o.setInputType(android.text.InputType.TYPE_CLASS_TEXT|android.text.InputType.TYPE_TEXT_VARIATION_PASSWORD):e.inputType===xi.email?o.setInputType(android.text.InputType.TYPE_CLASS_TEXT|android.text.InputType.TYPE_TEXT_VARIATION_EMAIL_ADDRESS):e.inputType===xi.number?o.setInputType(android.text.InputType.TYPE_CLASS_NUMBER):e.inputType===xi.decimal?o.setInputType(android.text.InputType.TYPE_CLASS_NUMBER|android.text.InputType.TYPE_NUMBER_FLAG_DECIMAL):e.inputType===xi.phone&&o.setInputType(android.text.InputType.TYPE_CLASS_PHONE),e.capitalizationType){case pr.all:{o.setInputType(o.getInputType()|android.text.InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS);break}case pr.sentences:{o.setInputType(o.getInputType()|android.text.InputType.TYPE_TEXT_FLAG_CAP_SENTENCES);break}case pr.words:{o.setInputType(o.getInputType()|android.text.InputType.TYPE_TEXT_FLAG_CAP_WORDS);break}}o.setText(e&&e.defaultText||""),a.setView(o);const c=function(){return o.getText().toString()};Ih(a,e,function(u){r({result:u,text:c()})}),Qs(a)}catch(a){s(a)}})}function py(...i){const e=NS(i);return new Promise((t,n)=>{try{const r=fc(e),s=new android.widget.EditText(Ue.getApplicationContext());s.setHint(e.userNameHint?e.userNameHint:""),s.setText(e.userName?e.userName:"");const a=new android.widget.EditText(Ue.getApplicationContext());a.setInputType(android.text.InputType.TYPE_CLASS_TEXT|android.text.InputType.TYPE_TEXT_VARIATION_PASSWORD),a.setTypeface(android.graphics.Typeface.DEFAULT),a.setHint(e.passwordHint?e.passwordHint:""),a.setText(e.password?e.password:"");const o=new android.widget.LinearLayout(Ue.getApplicationContext());o.setOrientation(1),o.addView(s),o.addView(a),r.setView(o),Ih(r,e,function(c){t({result:c,userName:s.getText().toString(),password:a.getText().toString()})}),Qs(r)}catch(r){n(r)}})}function gy(...i){let e;const t={title:null,cancelButtonText:Qe.CANCEL};return i.length===1?st(i[0])?(e=t,e.message=i[0]):e=i[0]:i.length===2?st(i[0])&&st(i[1])&&(e=t,e.message=i[0],e.cancelButtonText=i[1]):i.length===3&&st(i[0])&&st(i[1])&&typeof i[2]<"u"&&(e=t,e.message=i[0],e.cancelButtonText=i[1],e.actions=i[2]),new Promise((n,r)=>{try{const s=new android.app.AlertDialog.Builder(Ue.getCurrentActivity(),e.theme?e.theme:-1),a=e&&st(e.message)?e.message:"",o=e&&st(e.title)?e.title:"";e&&e.cancelable===!1&&s.setCancelable(!1),o?(s.setTitle(o),e.actions||s.setMessage(a)):s.setTitle(a),e.actions&&s.setItems(e.actions,new android.content.DialogInterface.OnClickListener({onClick:function(c,u){n(e.actions[u])}})),st(e.cancelButtonText)&&s.setNegativeButton(e.cancelButtonText,new android.content.DialogInterface.OnClickListener({onClick:function(c,u){c.cancel(),n(e.cancelButtonText)}})),s.setOnDismissListener(new android.content.DialogInterface.OnDismissListener({onDismiss:function(){st(e.cancelButtonText)?n(e.cancelButtonText):n("")}})),Qs(s)}catch(s){r(s)}})}const LS={alert:dy,confirm:hy,prompt:fy,login:py,action:gy};let lt=class extends Vr{constructor(){super(...arguments),this._focusHandler=()=>this._goToVisualState("focus"),this._blurHandler=()=>this._goToVisualState("blur")}_updateTextBaseFocusStateHandler(e){const t=e?"on":"off";this[t]("focus",this._focusHandler),this[t]("blur",this._blurHandler)}};lt.blurEvent="blur";lt.focusEvent="focus";lt.textChangeEvent="textChange";__decorate([gh("focus","blur"),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],lt.prototype,"_updateTextBaseFocusStateHandler",null);const Lo=new R({name:"placeholderColor",cssName:"placeholder-color",equalityComparer:S.equals,valueConverter:i=>new S(i)});Lo.register(T);const kS=ge(pe(E.KeyboardType.datetime,E.KeyboardType.phone,E.KeyboardType.number,E.KeyboardType.url,E.KeyboardType.email,E.KeyboardType.integer),!0),Nh=new b({name:"autofillType"});Nh.register(lt);const Bs=new b({name:"keyboardType",valueConverter:kS});Bs.register(lt);const RS=ge(pe(E.ReturnKeyType.done,E.ReturnKeyType.next,E.ReturnKeyType.go,E.ReturnKeyType.search,E.ReturnKeyType.send),!0),ko=new b({name:"returnKeyType",valueConverter:RS});ko.register(lt);const Lh=new b({name:"editable",defaultValue:!0,valueConverter:K});Lh.register(lt);const my=new b({name:"updateTextTrigger",defaultValue:E.UpdateTextTrigger.textChanged});my.register(lt);const FS=ge(pe(E.AutocapitalizationType.none,E.AutocapitalizationType.words,E.AutocapitalizationType.sentences,E.AutocapitalizationType.allCharacters),!0),Ro=new b({name:"autocapitalizationType",defaultValue:E.AutocapitalizationType.sentences,valueConverter:FS});Ro.register(lt);const Fo=new b({name:"autocorrect",valueConverter:K});Fo.register(lt);const Oo=new b({name:"hint",defaultValue:""});Oo.register(lt);const kh=new b({name:"maxLength",defaultValue:Number.POSITIVE_INFINITY,valueConverter:parseInt});kh.register(lt);let Rn,Ru;function yy(){Rn&&(clearTimeout(Rn),Rn=null)}function OS(i){yy(),Rn||(Rn=kp(()=>{const e=i._context;Rn=null;const t=e&&e.getCurrentFocus();t&&!(t instanceof android.widget.EditText)&&Ue.dismissSoftInput(t)},10))}function DS(){if(!Ru){var i=function(e){__extends(t,e);function t(r){var s=e.call(this)||this;return s.owner=r,global.__native(s)}t.prototype.beforeTextChanged=function(r,s,a,o){var c,u;(u=(c=this.owner)===null||c===void 0?void 0:c.get())===null||u===void 0||u.beforeTextChanged(r,s,a,o)},t.prototype.onTextChanged=function(r,s,a,o){var c,u;(u=(c=this.owner)===null||c===void 0?void 0:c.get())===null||u===void 0||u.onTextChanged(r,s,a,o)},t.prototype.afterTextChanged=function(r){var s,a;(a=(s=this.owner)===null||s===void 0?void 0:s.get())===null||a===void 0||a.afterTextChanged(r)},t.prototype.onFocusChange=function(r,s){var a,o;(o=(a=this.owner)===null||a===void 0?void 0:a.get())===null||o===void 0||o.onFocusChange(r,s)},t.prototype.onEditorAction=function(r,s,a){var o,c;return((c=(o=this.owner)===null||o===void 0?void 0:o.get())===null||c===void 0?void 0:c.onEditorAction(r,s,a))||!1};var n;return t=__decorate([Interfaces([android.text.TextWatcher,android.view.View.OnFocusChangeListener,android.widget.TextView.OnEditorActionListener]),__metadata("design:paramtypes",[typeof(n=typeof WeakRef<"u"&&WeakRef)=="function"?n:Object])],t),t}(java.lang.Object);Ru=i}}class Lr extends lt{_onReturnPress(){}createNativeView(){return new android.widget.EditText(this._context)}initNativeView(){super.initNativeView();const e=this.nativeTextViewProtected;this._configureEditText(e),DS();const t=new Ru(new WeakRef(this));e.addTextChangedListener(t),e.setOnFocusChangeListener(t),e.setOnEditorActionListener(t),e.listener=t,this._inputType=e.getInputType()}disposeNativeView(){const e=this.nativeTextViewProtected;e.removeTextChangedListener(e.listener),e.setOnFocusChangeListener(null),e.setOnEditorActionListener(null),e.listener.owner=null,e.listener=null,this._keyListenerCache=null,super.disposeNativeView()}resetNativeView(){super.resetNativeView(),this.nativeTextViewProtected.setInputType(this._inputType)}onUnloaded(){this.dismissSoftInput(),super.onUnloaded()}dismissSoftInput(){const e=this.nativeTextViewProtected;e&&Ue.dismissSoftInput(e)}focus(){if(!this.nativeTextViewProtected)return;const t=super.focus();return t&&Ue.showSoftInput(this.nativeTextViewProtected),t}_setInputType(e){const t=this.nativeTextViewProtected;try{this._changeFromCode=!0,t.setInputType(parseInt(e,10))}finally{this._changeFromCode=!1}const n=t.getKeyListener();n&&(this._keyListenerCache=n),this.editable||(t.setFocusable(!1),t.setFocusableInTouchMode(!1),t.setLongClickable(!1),t.setClickable(!1))}[an.getDefault](){return Eo}[an.setNative](e){try{this._changeFromCode=!0,this._setNativeText(e===Eo)}finally{this._changeFromCode=!1}}[Bs.getDefault](){return this.nativeTextViewProtected.getInputType()}[Bs.setNative](e){let t;switch(e){case"datetime":t=android.text.InputType.TYPE_CLASS_DATETIME|android.text.InputType.TYPE_DATETIME_VARIATION_NORMAL;break;case"phone":t=android.text.InputType.TYPE_CLASS_PHONE;break;case"number":t=android.text.InputType.TYPE_CLASS_NUMBER|android.text.InputType.TYPE_NUMBER_VARIATION_NORMAL|android.text.InputType.TYPE_NUMBER_FLAG_SIGNED|android.text.InputType.TYPE_NUMBER_FLAG_DECIMAL;break;case"url":t=android.text.InputType.TYPE_CLASS_TEXT|android.text.InputType.TYPE_TEXT_VARIATION_URI;break;case"email":t=android.text.InputType.TYPE_CLASS_TEXT|android.text.InputType.TYPE_TEXT_VARIATION_EMAIL_ADDRESS;break;case"integer":t=android.text.InputType.TYPE_CLASS_NUMBER;break;default:{const n=+e;isNaN(n)?t=android.text.InputType.TYPE_CLASS_TEXT:t=n;break}}this._setInputType(t)}[Nh.setNative](e){if(G<26)return;let t;switch(e){case"phone":t="phone";break;case"postalCode":t="postalCode";break;case"creditCardNumber":t="creditCardNumber";break;case"email":t="emailAddress";break;case"name":t="name";break;case"username":t="username";break;case"password":t="password";break;case"newPassword":t="newPassword";break;case"newUsername":t="newUsername";break;case"oneTimeCode":t="2faAppOTPCode";break;case"none":t=null;break;default:{t=e;break}}if(t){const n=Array.create(java.lang.String,1);n[0]=t,this.nativeTextViewProtected.setAutofillHints(n)}else this.nativeTextViewProtected.setAutofillHints(null)}[ko.getDefault](){const e=this.nativeTextViewProtected.getImeOptions();switch(e){case android.view.inputmethod.EditorInfo.IME_ACTION_DONE:return"done";case android.view.inputmethod.EditorInfo.IME_ACTION_GO:return"go";case android.view.inputmethod.EditorInfo.IME_ACTION_NEXT:return"next";case android.view.inputmethod.EditorInfo.IME_ACTION_SEARCH:return"search";case android.view.inputmethod.EditorInfo.IME_ACTION_SEND:return"send";default:return e.toString()}}[ko.setNative](e){let t;switch(e){case"done":t=android.view.inputmethod.EditorInfo.IME_ACTION_DONE;break;case"go":t=android.view.inputmethod.EditorInfo.IME_ACTION_GO;break;case"next":t=android.view.inputmethod.EditorInfo.IME_ACTION_NEXT;break;case"search":t=android.view.inputmethod.EditorInfo.IME_ACTION_SEARCH;break;case"send":t=android.view.inputmethod.EditorInfo.IME_ACTION_SEND;break;default:{const n=+e;isNaN(n)?t=android.view.inputmethod.EditorInfo.IME_ACTION_UNSPECIFIED:t=n;break}}this.nativeTextViewProtected.setImeOptions(t)}[Lh.setNative](e){const t=this.nativeTextViewProtected;e?t.setKeyListener(this._keyListenerCache):(this._keyListenerCache||(this._keyListenerCache=t.getKeyListener()),t.setKeyListener(null))}[Ro.getDefault](){const e=this.nativeTextViewProtected.getInputType();return(e&android.text.InputType.TYPE_TEXT_FLAG_CAP_WORDS)===android.text.InputType.TYPE_TEXT_FLAG_CAP_WORDS?"words":(e&android.text.InputType.TYPE_TEXT_FLAG_CAP_SENTENCES)===android.text.InputType.TYPE_TEXT_FLAG_CAP_SENTENCES?"sentences":(e&android.text.InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS)===android.text.InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS?"allcharacters":e.toString()}[Ro.setNative](e){let t=this.nativeTextViewProtected.getInputType();switch(t=t&-28673,e){case"none":break;case"words":t=t|android.text.InputType.TYPE_TEXT_FLAG_CAP_WORDS;break;case"sentences":t=t|android.text.InputType.TYPE_TEXT_FLAG_CAP_SENTENCES;break;case"allcharacters":t=t|android.text.InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS;break;default:{const n=+e;isNaN(n)?t=t|android.text.InputType.TYPE_TEXT_FLAG_CAP_SENTENCES:t=n;break}}this._setInputType(t)}[Fo.getDefault](){return(this.nativeTextViewProtected.getInputType()&android.text.InputType.TYPE_TEXT_FLAG_AUTO_CORRECT)===android.text.InputType.TYPE_TEXT_FLAG_AUTO_CORRECT}[Fo.setNative](e){let t=this.nativeTextViewProtected.getInputType();switch(e){case!0:t=t|android.text.InputType.TYPE_TEXT_FLAG_AUTO_COMPLETE,t=t|android.text.InputType.TYPE_TEXT_FLAG_AUTO_CORRECT,t=t&~android.text.InputType.TYPE_TEXT_FLAG_NO_SUGGESTIONS;break;case!1:t=t&~android.text.InputType.TYPE_TEXT_FLAG_AUTO_COMPLETE,t=t&~android.text.InputType.TYPE_TEXT_FLAG_AUTO_CORRECT,t=t|android.text.InputType.TYPE_TEXT_FLAG_NO_SUGGESTIONS;break}this._setInputType(t)}[Oo.getDefault](){return this.nativeTextViewProtected.getHint()}[Oo.setNative](e){const t=e==null?null:e.toString();this.nativeTextViewProtected.setHint(t)}[Lo.getDefault](){return this.nativeTextViewProtected.getHintTextColors()}[Lo.setNative](e){const t=e instanceof S?e.android:e;this.nativeTextViewProtected.setHintTextColor(t)}[Pr.setNative](e){}[kh.setNative](e){if(e===Number.POSITIVE_INFINITY)this.nativeTextViewProtected.setFilters([]);else{const t=new android.text.InputFilter.LengthFilter(e),n=this.nativeTextViewProtected.getFilters(),r=[];for(let s=0;s<n.length;s++){const a=n[s];a instanceof android.text.InputFilter.LengthFilter||r.push(a)}r.push(t),this.nativeTextViewProtected.setFilters(r)}}setSelection(e,t){const n=this.nativeTextViewProtected;n&&(t!==void 0?n.setSelection(e,t):n.setSelection(e))}beforeTextChanged(e,t,n,r){}onTextChanged(e,t,n,r){this.valueFormatter&&(this.text=this.valueFormatter(e.toString()),this.android.setSelection((this.text||"").length))}afterTextChanged(e){if(!this._changeFromCode)switch(this.updateTextTrigger){case"focusLost":this._dirtyTextAccumulator=e.toString();break;case"textChanged":an.nativeValueChange(this,e.toString());break;default:throw new Error("Invalid updateTextTrigger: "+this.updateTextTrigger)}}onFocusChange(e,t){t?(yy(),this.notify({eventName:Lr.focusEvent})):((this._dirtyTextAccumulator||this._dirtyTextAccumulator==="")&&(an.nativeValueChange(this,this._dirtyTextAccumulator),this._dirtyTextAccumulator=void 0),this.notify({eventName:Lr.blurEvent}),OS(this))}onEditorAction(e,t,n){return t===android.view.inputmethod.EditorInfo.IME_ACTION_DONE||t===android.view.inputmethod.EditorInfo.IME_ACTION_UNSPECIFIED||n&&n.getKeyCode()===android.view.KeyEvent.KEYCODE_ENTER?(e.getMaxLines()===1&&this.dismissSoftInput(),this._onReturnPress()):(t===android.view.inputmethod.EditorInfo.IME_ACTION_NEXT||t===android.view.inputmethod.EditorInfo.IME_ACTION_PREVIOUS)&&this._onReturnPress(),!1}}let kr=class extends L{};kr=__decorate([ee("HtmlView")],kr);kr.prototype.recycleNativeView="auto";const Fu=new b({name:"html",defaultValue:"",affectsLayout:!0});Fu.register(kr);const Ou=new b({name:"selectable",defaultValue:!0,valueConverter:K});Ou.register(kr);const Du=new R({name:"linkColor",cssName:"link-color",equalityComparer:S.equals,valueConverter:i=>new S(i)});Du.register(T);class BS extends kr{createNativeView(){return new android.widget.TextView(this._context)}initNativeView(){super.initNativeView();const e=this.nativeViewProtected;e.setTextIsSelectable(!0),e.setLinksClickable(!0),e.setMovementMethod(android.text.method.LinkMovementMethod.getInstance())}resetNativeView(){super.resetNativeView(),this.nativeViewProtected.setAutoLinkMask(0)}[Fu.getDefault](){return""}[Fu.setNative](e){let t=15;e.search(/<a\s/i)>=0&&(t=0),this.nativeViewProtected.setAutoLinkMask(t),G>=24?this.nativeViewProtected.setText(android.text.Html.fromHtml(e,android.text.Html.FROM_HTML_MODE_LEGACY)):this.nativeViewProtected.setText(android.text.Html.fromHtml(e))}[Ou.getDefault](){return!0}[Ou.setNative](e){this.nativeViewProtected.setTextIsSelectable(e)}[Te.getDefault](){return this.nativeViewProtected.getTextColors()}[Te.setNative](e){e instanceof S?this.nativeViewProtected.setTextColor(e.android):this.nativeViewProtected.setTextColor(e)}[Du.getDefault](){return this.nativeViewProtected.getLinkTextColors()}[Du.setNative](e){e instanceof S?this.nativeViewProtected.setLinkTextColor(e.android):this.nativeViewProtected.setLinkTextColor(e)}[Dt.getDefault](){return this.nativeViewProtected.getTypeface()}[Dt.setNative](e){const t=e instanceof ie?e.getAndroidTypeface():e;this.nativeViewProtected.setTypeface(t)}[ct.getDefault](){return{nativeSize:this.nativeViewProtected.getTextSize()}}[ct.setNative](e){typeof e=="number"?this.nativeViewProtected.setTextSize(e):this.nativeViewProtected.setTextSize(android.util.TypedValue.COMPLEX_UNIT_PX,e.nativeSize)}}class MS extends se{constructor(){super(),this._options={keepAspectRatio:!0,autoScaleFactor:!0}}get options(){return this._options}set options(e){this._options=e}get nativeImage(){return this._nativeImage}set nativeImage(e){this._nativeImage=e}getImageAsync(e){}}class vy extends MS{constructor(e){super();let t=typeof e=="string"?e.trim():"";t.indexOf("~/")===0&&(t=It.join(We.currentApp().path,t.replace("~/",""))),this.android=t}get android(){return this._android}set android(e){this._android=e}getImageAsync(e){org.nativescript.widgets.Utils.loadImageAsync(Ue.getApplicationContext(),this.android,JSON.stringify(this.options||{}),Ve.mainScreen.widthPixels,Ve.mainScreen.heightPixels,new org.nativescript.widgets.Utils.AsyncImageCallback({onSuccess(t){e(t,null)},onError(t){e(null,t)}}))}}var Bu;(function(i){i.Appear="appear",i.AppearUp="appearUp",i.AppearDown="appearDown",i.Bounce="bounce",i.BounceUp="bounceUp",i.BounceDown="bounceDown",i.Disappear="disappear",i.DisappearDown="disappearDown",i.DisappearUp="disappearUp",i.Pulse="pulse",i.Scale="scale",i.ScaleDown="scaleDown",i.ScaleUp="scaleUp",i.VariableColor="variableColor",i.Breathe="breathe",i.BreathePlain="breathePlain",i.BreathePulse="breathePulse",i.Rotate="rotate",i.RotateClockwise="rotateClockwise",i.RotateCounterClockwise="rotateCounterClockwise",i.Wiggle="wiggle",i.WiggleBackward="wiggleBackward",i.WiggleClockwise="wiggleClockwise",i.WiggleCounterClockwise="wiggleCounterClockwise",i.WiggleDown="wiggleDown",i.WiggleForward="wiggleForward",i.WiggleUp="wiggleUp",i.WiggleLeft="wiggleLeft",i.WiggleRight="wiggleRight"})(Bu||(Bu={}));class US{}class Rh extends US{static fromSymbol(e){return new Rh}}let gt=class extends L{get tintColor(){return this.style.tintColor}set tintColor(e){this.style.tintColor=e}disposeImageSource(){}_createImageSourceFromSrc(e){this.disposeImageSource();const t=e,n=this.loadMode==="sync";if(typeof e=="string"||e instanceof String){e=e.trim(),this.imageSource=null,this._url=e,this.isLoading=!0;const r=s=>{this.src===t&&(this.imageSource=s,this.isLoading=!1)};if(Hd(e)){const s=e.split("//")[1];if(s!==void 0){const a=this.style.fontInternal,o=this.style.color;r(Y.fromFontIconCodeSync(s,a,o))}}else if(jd(e)){const s=e.split(",")[1];s!==void 0&&(n?r(Y.fromBase64Sync(s)):Y.fromBase64(s).then(r))}else if(Ko(e))if(e.indexOf(Yt)===0){const s=e.slice(Yt.length);n?r(Y.fromResourceSync(s)):(this.imageSource=null,Y.fromResource(s).then(r))}else if(e.indexOf(Al)===0){const s=e.slice(Al.length);n?r(Y.fromSystemImageSync(s,this.iosSymbolScale)):(this.imageSource=null,Y.fromSystemImage(s,this.iosSymbolScale).then(r))}else n?r(Y.fromFileSync(e)):(this.imageSource=null,Y.fromFile(e).then(r));else this.imageSource=null,Y.fromUrl(e).then(s=>{this._url===e&&(this.imageSource=s,this.isLoading=!1)},s=>{this.isLoading=!1,l.isEnabled()&&(typeof s=="object"&&s.message&&(s=s.message),l.write(s,l.categories.Debug))})}else e instanceof Y?(this.imageSource=e,this.isLoading=!1):e instanceof vy?Y.fromAsset(e).then(r=>{this.imageSource=r,this.isLoading=!1}):(this.imageSource=new Y(e),this.isLoading=!1)}};gt=__decorate([ee("Image")],gt);gt.prototype.recycleNativeView="auto";const Mu=new b({name:"imageSource"});Mu.register(gt);const Uu=new b({name:"src"});Uu.register(gt);const WS=new b({name:"loadMode",defaultValue:"sync"});WS.register(gt);const HS=new b({name:"isLoading",defaultValue:!1,valueConverter:K});HS.register(gt);const Wu=new b({name:"stretch",defaultValue:"aspectFit",affectsLayout:!1});Wu.register(gt);const Hu=new He({name:"tintColor",cssName:"tint-color",equalityComparer:S.equals,valueConverter:i=>new S(i)});Hu.register(T);const jS=new b({name:"decodeHeight",defaultValue:{value:0,unit:"dip"},valueConverter:_.parse});jS.register(gt);const $S=new b({name:"decodeWidth",defaultValue:{value:0,unit:"dip"},valueConverter:_.parse});$S.register(gt);const GS=new b({name:"iosSymbolEffect"});GS.register(gt);const zS=new b({name:"iosSymbolScale"});zS.register(gt);const qS="file:///",XS="async";let _l,ju;function YS(){if(!ju){var i=function(e){__extends(t,e);function t(r){var s=e.call(this)||this;return s.owner=r,global.__native(s)}t.prototype.onImageLoaded=function(r){var s=this.owner;s&&(s.isLoading=!1)};var n;return t=__decorate([Interfaces([org.nativescript.widgets.image.Worker.OnImageLoadedListener]),__metadata("design:paramtypes",[typeof(n=typeof $u<"u"&&$u)=="function"?n:Object])],t),t}(java.lang.Object);ju=i}}class $u extends gt{constructor(){super(...arguments),this.useCache=!0}createNativeView(){return _l||(_l=org.nativescript.widgets.ImageView),new _l(this._context)}initNativeView(){super.initNativeView(),YS();const e=this.nativeViewProtected,t=new ju(this);e.setImageLoadedListener(t),e.listener=t}disposeNativeView(){var e;(e=this.nativeViewProtected)!=null&&e.listener&&(this.nativeViewProtected.listener.owner=null),super.disposeNativeView()}resetNativeView(){super.resetNativeView(),this.nativeViewProtected.setImageMatrix(new android.graphics.Matrix)}_createImageSourceFromSrc(e){const t=this.nativeViewProtected;if(!t)return;if(!e){t.setUri(null,0,0,!1,!1,!0);return}let n=Math.min(_.toDevicePixels(this.decodeWidth,0),Ve.mainScreen.widthPixels),r=Math.min(_.toDevicePixels(this.decodeHeight,0),Ve.mainScreen.heightPixels),s=this._calculateKeepAspectRatio();e instanceof vy&&(e.options&&(n=e.options.width||n,r=e.options.height||r,s=!!e.options.keepAspectRatio),e=e.android);const a=this.loadMode===XS;if(typeof e=="string"||e instanceof String)if(e=e.trim(),this.isLoading=!0,Hd(e)||jd(e))super._createImageSourceFromSrc(e);else if(Ko(e))if(e.indexOf(Yt)===0)t.setUri(e,n,r,s,this.useCache,a);else{let o=e;o.indexOf("~/")===0&&(o=We.currentApp().path+"/"+o.replace("~/","")),t.setUri(qS+o,n,r,s,this.useCache,a)}else t.setUri(e,n,r,s,this.useCache,!0);else super._createImageSourceFromSrc(e)}_calculateKeepAspectRatio(){return this.stretch!=="fill"}[Wu.getDefault](){return"aspectFit"}[Wu.setNative](e){switch(e){case"aspectFit":this.nativeViewProtected.setScaleType(android.widget.ImageView.ScaleType.FIT_CENTER);break;case"aspectFill":this.nativeViewProtected.setScaleType(android.widget.ImageView.ScaleType.CENTER_CROP);break;case"fill":this.nativeViewProtected.setScaleType(android.widget.ImageView.ScaleType.FIT_XY);break;case"none":default:this.nativeViewProtected.setScaleType(android.widget.ImageView.ScaleType.MATRIX);break}}[Hu.getDefault](){}[Hu.setNative](e){e?this.nativeViewProtected.setColorFilter(e.android):this.nativeViewProtected.clearColorFilter()}[Mu.getDefault](){}[Mu.setNative](e){const t=this.nativeViewProtected;if(e&&e.android){const n=e.rotationAngle?e.rotationAngle:0;t.setRotationAngle(n),t.setImageBitmap(e.android)}else t.setRotationAngle(0),t.setImageBitmap(null)}[Uu.getDefault](){}[Uu.setNative](e){this._createImageSourceFromSrc(e)}}let Fh=class ls extends se{constructor(){super(...arguments),this.maxRequests=5,this._enabled=!0,this._pendingDownloads={},this._queue=[],this._currentDownloads=0}enableDownload(){if(this._enabled)return;this._enabled=!0;let e;for(;this._queue.length>0&&this._currentDownloads<this.maxRequests;)e=this._queue.pop(),e.key in this._pendingDownloads||this._download(e)}disableDownload(){this._enabled&&(this._enabled=!1)}push(e){this._addRequest(e,!0)}enqueue(e){this._addRequest(e,!1)}_addRequest(e,t){if(e.key in this._pendingDownloads){const n=this._pendingDownloads[e.key];this._mergeRequests(n,e)}else{let n;for(let r=0;r<this._queue.length;r++)if(this._queue[r].key===e.key){n=this._queue[r];break}n?this._mergeRequests(n,e):this._shouldDownload(e,t)&&this._download(e)}}_mergeRequests(e,t){if(e.completed){if(t.completed){const n=e.completed,r=function(s,a){n(s,a),t.completed(s,a)};e.completed=r}}else e.completed=t.completed;if(e.error){if(t.error){const n=e.error,r=function(s){n(s),t.error(s)};e.error=r}}else e.error=t.error}get(e){throw new Error("Abstract")}set(e,t){throw new Error("Abstract")}remove(e){throw new Error("Abstract")}clear(){throw new Error("Abstract")}_downloadCore(e){throw new Error("Abstract")}_onDownloadCompleted(e,t){const n=this._pendingDownloads[e];this.set(n.key,t),this._currentDownloads--,n.completed&&n.completed(t,n.key),this.hasListeners(ls.downloadedEvent)&&this.notify({eventName:ls.downloadedEvent,object:this,key:e,image:t}),delete this._pendingDownloads[n.key],this._updateQueue()}_onDownloadError(e,t){const n=this._pendingDownloads[e];this._currentDownloads--,n.error&&n.error(n.key),this.hasListeners(ls.downloadErrorEvent)&&this.notify({eventName:ls.downloadErrorEvent,object:this,key:e,error:t}),delete this._pendingDownloads[n.key],this._updateQueue()}_shouldDownload(e,t){return this.get(e.key)||e.key in this._pendingDownloads?!1:this._currentDownloads>=this.maxRequests||!this._enabled?(t?this._queue.push(e):this._queue.unshift(e),!1):!0}_download(e){this._currentDownloads++,this._pendingDownloads[e.key]=e,this._downloadCore(e)}_updateQueue(){if(!this._enabled||this._queue.length===0||this._currentDownloads===this.maxRequests)return;const e=this._queue.pop();this._download(e)}};Fh.downloadedEvent="downloaded";Fh.downloadErrorEvent="downloadError";let Gu;function KS(){if(!Gu){var i=function(e){__extends(t,e);function t(n){var r=e.call(this,n)||this;return global.__native(r)}return t.prototype.sizeOf=function(n,r){var s=Math.round(r.getByteCount()/1024);return s},t}(android.util.LruCache);Gu=i}}class QS extends Fh{constructor(){super(),KS();const t=java.lang.Runtime.getRuntime().maxMemory()/1024/8;this._cache=new Gu(t);const n=new WeakRef(this);this._callback=new org.nativescript.widgets.Async.CompleteCallback({onComplete:function(r,s){const a=n==null?void 0:n.get();a&&(r?a._onDownloadCompleted(s,r):a._onDownloadError(s,new Error("No result in CompletionCallback")))},onError:function(r,s){const a=n==null?void 0:n.get();a&&a._onDownloadError(s,new Error(r))}})}_downloadCore(e){org.nativescript.widgets.Async.Image.download(e.url,this._callback,e.key)}get(e){return this._cache.get(e)}set(e,t){try{e&&t&&this._cache.put(e,t)}catch(n){l.write("Cache set error: "+n,l.categories.Error,l.messageType.error)}}remove(e){this._cache.remove(e)}clear(){this._cache.evictAll()}}let gi=class extends Vr{get textWrap(){return this.style.whiteSpace==="normal"}set textWrap(e){typeof e=="string"&&(e=K(e)),this.style.whiteSpace=e?"normal":"nowrap"}createNativeView(){return new org.nativescript.widgets.StyleableTextView(this._context)}initNativeView(){super.initNativeView();const e=this.nativeTextViewProtected;e.setSingleLine(!0),e.setEllipsize(android.text.TextUtils.TruncateAt.END),e.setGravity(android.view.Gravity.CENTER_VERTICAL)}[Wn.setNative](e){const t=e==="initial"?"nowrap":e;super[Wn.setNative](t)}};__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],gi.prototype,"createNativeView",null);gi=__decorate([ee("Label")],gi);gi.prototype._isSingleLine=!0;gi.prototype.recycleNativeView="auto";class Oh extends Mn{constructor(){super(...arguments),this._subViews=new Array}_addChildFromBuilder(e,t){t instanceof L&&this.addChild(t)}getChildrenCount(){return this._subViews.length}get _childrenCount(){return this._subViews.length}getChildAt(e){return this._subViews[e]}getChildIndex(e){return this._subViews.indexOf(e)}getChildById(e){return ch(this,e)}_registerLayoutChild(e){}_unregisterLayoutChild(e){}addChild(e){this._subViews.push(e),this._addView(e),this._registerLayoutChild(e)}insertChild(e,t){this._subViews.splice(t,0,e),this._addView(e,t),this._registerLayoutChild(e)}removeChild(e){this._removeView(e);const t=this._subViews.indexOf(e);this._subViews.splice(t,1),this._unregisterLayoutChild(e)}removeChildren(){for(;this.getChildrenCount()!==0;)this.removeChild(this._subViews[this.getChildrenCount()-1])}get padding(){return this.style.padding}set padding(e){this.style.padding=e}get paddingTop(){return this.style.paddingTop}set paddingTop(e){this.style.paddingTop=e}get paddingRight(){return this.style.paddingRight}set paddingRight(e){this.style.paddingRight=e}get paddingBottom(){return this.style.paddingBottom}set paddingBottom(e){this.style.paddingBottom=e}get paddingLeft(){return this.style.paddingLeft}set paddingLeft(e){this.style.paddingLeft=e}_childIndexToNativeChildIndex(e){if(e===void 0)return;let t=0;for(let n=0;n<e&&n<this._subViews.length;n++)t+=this._subViews[n]._getNativeViewsCount();return t}eachChildView(e){for(let t=0,n=this._subViews.length;t<n&&e(this._subViews[t])!==!1;t++);}eachLayoutChild(e){let t=null;this.eachChildView(n=>(n._eachLayoutView(r=>{t&&!t.isCollapsed&&e(t,!1),t=r}),!0)),t&&!t.isCollapsed&&e(t,!0)}}const zu=new b({name:"clipToBounds",defaultValue:!0,valueConverter:K});zu.register(Oh);const wy=new b({name:"isPassThroughParentEnabled",defaultValue:!1,valueConverter:K});wy.register(Oh);class at extends Oh{[zu.getDefault](){return!0}[zu.setNative](e){console.warn("clipToBounds with value false is not supported on Android. You can use this.android.getParent().setClipChildren(false) as an alternative")}[wy.setNative](e){this.nativeViewProtected.setPassThroughParent(e)}[Rt.getDefault](){return{value:this._defaultPaddingTop,unit:"px"}}[Rt.setNative](e){org.nativescript.widgets.ViewHelper.setPaddingTop(this.nativeViewProtected,_.toDevicePixels(e,0)+_.toDevicePixels(this.style.borderTopWidth,0))}[kt.getDefault](){return{value:this._defaultPaddingRight,unit:"px"}}[kt.setNative](e){org.nativescript.widgets.ViewHelper.setPaddingRight(this.nativeViewProtected,_.toDevicePixels(e,0)+_.toDevicePixels(this.style.borderRightWidth,0))}[Ft.getDefault](){return{value:this._defaultPaddingBottom,unit:"px"}}[Ft.setNative](e){org.nativescript.widgets.ViewHelper.setPaddingBottom(this.nativeViewProtected,_.toDevicePixels(e,0)+_.toDevicePixels(this.style.borderBottomWidth,0))}[Lt.getDefault](){return{value:this._defaultPaddingLeft,unit:"px"}}[Lt.setNative](e){org.nativescript.widgets.ViewHelper.setPaddingLeft(this.nativeViewProtected,_.toDevicePixels(e,0)+_.toDevicePixels(this.style.borderLeftWidth,0))}}L.prototype.effectiveLeft=0;L.prototype.effectiveTop=0;function va(i){if(!i)throw new Error("element cannot be null or undefinied.");return i}let Rr=class extends at{static getLeft(e){return va(e).left}static setLeft(e,t){va(e).left=t}static getTop(e){return va(e).top}static setTop(e,t){va(e).top=t}onLeftChanged(e,t,n){}onTopChanged(e,t,n){}};Rr=__decorate([ee("AbsoluteLayout")],Rr);Rr.prototype.recycleNativeView="auto";const _y=new b({name:"left",defaultValue:E.zeroLength,valueChanged:(i,e,t)=>{i.effectiveLeft=_.toDevicePixels(t,0);const n=i.parent;n instanceof Rr&&n.onLeftChanged(i,e,t)},valueConverter:i=>_.parse(i)});_y.register(L);const Cy=new b({name:"top",defaultValue:E.zeroLength,valueChanged:(i,e,t)=>{i.effectiveTop=_.toDevicePixels(t,0);const n=i.parent;n instanceof Rr&&n.onTopChanged(i,e,t)},valueConverter:i=>_.parse(i)});Cy.register(L);function by(i){return function(e){const t=this.nativeViewProtected,n=t.getLayoutParams()||new org.nativescript.widgets.CommonLayoutParams;n instanceof org.nativescript.widgets.CommonLayoutParams&&(i.call(this,n,e),t.setLayoutParams(n))}}L.prototype[Cy.setNative]=by(function(i,e){i.top=_.toDevicePixels(e,0)});L.prototype[_y.setNative]=by(function(i,e){i.left=_.toDevicePixels(e,0)});class ZS extends Rr{createNativeView(){return new org.nativescript.widgets.AbsoluteLayout(this._context)}}function dp(i){if(!i)throw new Error("element cannot be null or undefinied.");return i}let Fr=class extends at{static getDock(e){return dp(e).dock}static setDock(e,t){dp(e).dock=t}onDockChanged(e,t,n){}};Fr=__decorate([ee("DockLayout")],Fr);Fr.prototype.recycleNativeView="auto";const JS=ge(pe(E.Dock.left,E.Dock.top,E.Dock.right,E.Dock.bottom)),xy=new b({name:"dock",defaultValue:"left",valueChanged:(i,e,t)=>{if(i instanceof L){const n=i.parent;n instanceof Fr&&n.onDockChanged(i,e,t)}},valueConverter:JS});xy.register(L);const qu=new b({name:"stretchLastChild",defaultValue:!0,affectsLayout:!1,valueConverter:K});qu.register(Fr);L.prototype[xy.setNative]=function(i){const e=this.nativeViewProtected,t=e.getLayoutParams()||new org.nativescript.widgets.CommonLayoutParams;if(t instanceof org.nativescript.widgets.CommonLayoutParams){switch(i){case"left":t.dock=org.nativescript.widgets.Dock.left;break;case"top":t.dock=org.nativescript.widgets.Dock.top;break;case"right":t.dock=org.nativescript.widgets.Dock.right;break;case"bottom":t.dock=org.nativescript.widgets.Dock.bottom;break;default:throw new Error(`Invalid value for dock property: ${i}`)}e.setLayoutParams(t)}};class eT extends Fr{createNativeView(){return new org.nativescript.widgets.DockLayout(this._context)}[qu.getDefault](){return!0}[qu.setNative](e){this.nativeViewProtected.setStretchLastChild(e)}}const tT=1,iT=0,nT=1;var hi;(function(i){i.ROW="row",i.ROW_REVERSE="row-reverse",i.COLUMN="column",i.COLUMN_REVERSE="column-reverse",i.isValid=pe(i.ROW,i.ROW_REVERSE,i.COLUMN,i.COLUMN_REVERSE),i.parse=ge(i.isValid)})(hi||(hi={}));var on;(function(i){i.NOWRAP="nowrap",i.WRAP="wrap",i.WRAP_REVERSE="wrap-reverse",i.isValid=pe(i.NOWRAP,i.WRAP,i.WRAP_REVERSE),i.parse=ge(i.isValid)})(on||(on={}));var Ei;(function(i){i.FLEX_START="flex-start",i.FLEX_END="flex-end",i.CENTER="center",i.SPACE_BETWEEN="space-between",i.SPACE_AROUND="space-around",i.isValid=pe(i.FLEX_START,i.FLEX_END,i.CENTER,i.SPACE_BETWEEN,i.SPACE_AROUND),i.parse=ge(i.isValid)})(Ei||(Ei={}));var hp;(function(i){i.DEFAULT=-1})(hp||(hp={}));var Pi;(function(i){i.FLEX_START="flex-start",i.FLEX_END="flex-end",i.CENTER="center",i.BASELINE="baseline",i.STRETCH="stretch",i.isValid=pe(i.FLEX_START,i.FLEX_END,i.CENTER,i.BASELINE,i.STRETCH),i.parse=ge(i.isValid)})(Pi||(Pi={}));var oi;(function(i){i.FLEX_START="flex-start",i.FLEX_END="flex-end",i.CENTER="center",i.SPACE_BETWEEN="space-between",i.SPACE_AROUND="space-around",i.STRETCH="stretch",i.isValid=pe(i.FLEX_START,i.FLEX_END,i.CENTER,i.SPACE_BETWEEN,i.SPACE_AROUND,i.STRETCH),i.parse=ge(i.isValid)})(oi||(oi={}));var Xu;(function(i){function e(t){return isFinite(parseInt(t))}i.isValid=e,i.parse=parseInt})(Xu||(Xu={}));var Nn;(function(i){function e(t){const n=parseInt(t);return isFinite(n)&&t>=0}i.isValid=e,i.parse=parseFloat})(Nn||(Nn={}));var Ms;(function(i){function e(t){const n=parseInt(t);return isFinite(n)&&t>=0}i.isValid=e,i.parse=parseFloat})(Ms||(Ms={}));var Yu;(function(i){function e(n){if(typeof n=="boolean")return!0;if(typeof n=="string"){const r=n.trim().toLowerCase();return r==="true"||r==="false"}return!1}i.isValid=e;function t(n){return n&&n.toString().trim().toLowerCase()==="true"}i.parse=t})(Yu||(Yu={}));var ci;(function(i){i.AUTO="auto",i.FLEX_START="flex-start",i.FLEX_END="flex-end",i.CENTER="center",i.BASELINE="baseline",i.STRETCH="stretch",i.isValid=pe(i.AUTO,i.FLEX_START,i.FLEX_END,i.CENTER,i.BASELINE,i.STRETCH),i.parse=ge(i.isValid)})(ci||(ci={}));function ii(i){if(!i)throw new Error("element cannot be null or undefinied.");return i}let Do=class extends at{get flexDirection(){return this.style.flexDirection}set flexDirection(e){this.style.flexDirection=e}get flexWrap(){return this.style.flexWrap}set flexWrap(e){this.style.flexWrap=e}get justifyContent(){return this.style.justifyContent}set justifyContent(e){this.style.justifyContent=e}get alignItems(){return this.style.alignItems}set alignItems(e){this.style.alignItems=e}get alignContent(){return this.style.alignContent}set alignContent(e){this.style.alignContent=e}static setOrder(e,t){ii(e).style.order=t}static getOrder(e){return ii(e).style.order}static setFlexGrow(e,t){ii(e).style.flexGrow=t}static getFlexGrow(e){return ii(e).style.flexGrow}static setFlexShrink(e,t){ii(e).style.flexShrink=t}static getFlexShrink(e){return ii(e).style.flexShrink}static setAlignSelf(e,t){ii(e).style.alignSelf=t}static getAlignSelf(e){return ii(e).style.alignSelf}static setFlexWrapBefore(e,t){ii(e).style.flexWrapBefore=t}static getFlexWrapBefore(e){return ii(e).style.flexWrapBefore}};Do=__decorate([ee("FlexboxLayout")],Do);Do.prototype.recycleNativeView="auto";const gr=new R({name:"flexDirection",cssName:"flex-direction",defaultValue:hi.ROW,affectsLayout:!1,valueConverter:hi.parse});gr.register(T);const mr=new R({name:"flexWrap",cssName:"flex-wrap",defaultValue:"nowrap",affectsLayout:!1,valueConverter:on.parse});mr.register(T);const Ta=new R({name:"justifyContent",cssName:"justify-content",defaultValue:Ei.FLEX_START,affectsLayout:!1,valueConverter:Ei.parse});Ta.register(T);const Ea=new R({name:"alignItems",cssName:"align-items",defaultValue:Pi.STRETCH,affectsLayout:!1,valueConverter:Pi.parse});Ea.register(T);const Pa=new R({name:"alignContent",cssName:"align-content",defaultValue:oi.STRETCH,affectsLayout:!1,valueConverter:oi.parse});Pa.register(T);const Sy=new R({name:"order",cssName:"order",defaultValue:tT,valueConverter:Xu.parse});Sy.register(T);Object.defineProperty(L.prototype,"order",{get(){return this.style.order},set(i){this.style.order=i},enumerable:!0,configurable:!0});const Ji=new R({name:"flexGrow",cssName:"flex-grow",defaultValue:iT,valueConverter:Nn.parse});Ji.register(T);Object.defineProperty(L.prototype,"flexGrow",{get(){return this.style.flexGrow},set(i){this.style.flexGrow=i},enumerable:!0,configurable:!0});const en=new R({name:"flexShrink",cssName:"flex-shrink",defaultValue:nT,valueConverter:Ms.parse});en.register(T);Object.defineProperty(L.prototype,"flexShrink",{get(){return this.style.flexShrink},set(i){this.style.flexShrink=i},enumerable:!0,configurable:!0});const Ty=new R({name:"flexWrapBefore",cssName:"flex-wrap-before",defaultValue:!1,valueConverter:Yu.parse});Ty.register(T);Object.defineProperty(L.prototype,"flexWrapBefore",{get(){return this.style.flexWrapBefore},set(i){this.style.flexWrapBefore=i},enumerable:!0,configurable:!0});const Ey=new R({name:"alignSelf",cssName:"align-self",defaultValue:ci.AUTO,valueConverter:ci.parse});Ey.register(T);Object.defineProperty(L.prototype,"alignSelf",{get(){return this.style.alignSelf},set(i){this.style.alignSelf=i},enumerable:!0,configurable:!0});const rT=new Bt({name:"flexFlow",cssName:"flex-flow",getter:function(){return`${this.flexDirection} ${this.flexWrap}`},converter:function(i){const e=[];if(i===D)e.push([gr,i]),e.push([mr,i]);else{const t=i&&i.trim();if(t){const n=t.split(/\s+/);n.length>=1&&hi.isValid(n[0])&&e.push([gr,hi.parse(n[0])]),i.length>=2&&on.isValid(n[1])&&e.push([mr,on.parse(n[1])])}}return e}});rT.register(T);const sT=new Bt({name:"flex",cssName:"flex",getter:function(){return`${this.flexGrow} ${this.flexShrink}`},converter:function(i){const e=[];if(i===D)e.push([Ji,i]),e.push([en,i]);else{const t=i&&i.trim();if(t){const n=t.split(/\s+/);if(n.length===1)switch(n[0]){case"inital":e.push([Ji,0]),e.push([en,1]);break;case"auto":e.push([Ji,1]),e.push([en,1]);break;case"none":e.push([Ji,0]),e.push([en,0]);break;default:Nn.isValid(n[0])&&(e.push([Ji,Nn.parse(n[0])]),e.push([en,1]))}n.length>=2&&Nn.isValid(n[0])&&Ms.isValid(n[1])&&(e.push([Ji,Nn.parse(n[0])]),e.push([en,Ms.parse(n[1])]))}}return e}});sT.register(T);let Va,Us;function Py(){Va||(Va=org.nativescript.widgets.FlexboxLayout,Us=Va.LayoutParams)}function Zs(i){return function(e){Py();const t=this.nativeViewProtected,n=t.getLayoutParams()||new Us;n instanceof Us&&(i(n,e),t.setLayoutParams(n))}}L.prototype[Sy.setNative]=Zs((i,e)=>i.order=e);L.prototype[Ji.setNative]=Zs((i,e)=>i.flexGrow=e);L.prototype[en.setNative]=Zs((i,e)=>i.flexShrink=e);L.prototype[Ty.setNative]=Zs((i,e)=>i.wrapBefore=e);L.prototype[Ey.setNative]=Zs((i,e)=>i.alignSelf=Vy[e]);const aT={[hi.ROW]:0,[hi.ROW_REVERSE]:1,[hi.COLUMN]:2,[hi.COLUMN_REVERSE]:3},oT={[on.NOWRAP]:0,[on.WRAP]:1,[on.WRAP_REVERSE]:2},cT={[Ei.FLEX_START]:0,[Ei.FLEX_END]:1,[Ei.CENTER]:2,[Ei.SPACE_BETWEEN]:3,[Ei.SPACE_AROUND]:4},lT={[Pi.FLEX_START]:0,[Pi.FLEX_END]:1,[Pi.CENTER]:2,[Pi.BASELINE]:3,[Pi.STRETCH]:4},uT={[oi.FLEX_START]:0,[oi.FLEX_END]:1,[oi.CENTER]:2,[oi.SPACE_BETWEEN]:3,[oi.SPACE_AROUND]:4,[oi.STRETCH]:5},Vy={[ci.AUTO]:-1,[ci.FLEX_START]:0,[ci.FLEX_END]:1,[ci.CENTER]:2,[ci.BASELINE]:3,[ci.STRETCH]:4};class dT extends Do{constructor(){super(),Py()}createNativeView(){return new Va(this._context)}resetNativeView(){super.resetNativeView(),this.nativeViewProtected.invalidateOrdersCache()}[gr.getDefault](){return gr.defaultValue}[gr.setNative](e){this.nativeViewProtected.setFlexDirection(aT[e])}[mr.getDefault](){return mr.defaultValue}[mr.setNative](e){this.nativeViewProtected.setFlexWrap(oT[e])}[Ta.getDefault](){return Ta.defaultValue}[Ta.setNative](e){this.nativeViewProtected.setJustifyContent(cT[e])}[Ea.getDefault](){return Ea.defaultValue}[Ea.setNative](e){this.nativeViewProtected.setAlignItems(lT[e])}[Pa.getDefault](){return Pa.defaultValue}[Pa.setNative](e){this.nativeViewProtected.setAlignContent(uT[e])}_updateNativeLayoutParams(e){super._updateNativeLayoutParams(e),this._setChildMinWidthNative(e,e.minWidth),this._setChildMinHeightNative(e,e.minHeight);const t=e.nativeViewProtected.getLayoutParams(),n=e.style;t.order=n.order,t.flexGrow=n.flexGrow,t.flexShrink=n.flexShrink,t.wrapBefore=n.flexWrapBefore,t.alignSelf=Vy[n.alignSelf],e.nativeViewProtected.setLayoutParams(t)}_setChildMinWidthNative(e,t){e._ignoreFlexMinWidthHeightReset||e._setMinWidthNative(0);const n=e.nativeViewProtected,r=n.getLayoutParams();r instanceof Us&&(r.minWidth=_.toDevicePixels(t,0),n.setLayoutParams(r))}_setChildMinHeightNative(e,t){e._ignoreFlexMinWidthHeightReset||e._setMinHeightNative(0);const n=e.nativeViewProtected,r=n.getLayoutParams();r instanceof Us&&(r.minHeight=_.toDevicePixels(t,0),n.setLayoutParams(r))}}var Jn;function qi(i){if(!i)throw new Error("element cannot be null or undefined.");return i}L.prototype.row=0;L.prototype.col=0;L.prototype.rowSpan=1;L.prototype.colSpan=1;Object.defineProperty(L.prototype,"column",{get(){return this.col},set(i){this.col=i},enumerable:!0,configurable:!0});Object.defineProperty(L.prototype,"columnSpan",{get(){return this.colSpan},set(i){this.colSpan=i},enumerable:!0,configurable:!0});function fp(i){if(!i)throw new Error("Value cannot be undefined.");if(i.owner)throw new Error("itemSpec is already added to GridLayout.")}function hT(i){if(i===Ye.AUTO)return Fn.create(1,Ye.AUTO);if(i.indexOf("*")!==-1){const e=parseInt(i.replace("*","")||"1");return Fn.create(e,Ye.STAR)}else{if(isNaN(parseInt(i)))throw new Error(`Cannot parse item spec from string: ${i}`);return Fn.create(parseInt(i),Ye.PIXEL)}}function pp(i){const e=[],t=`${i}`.split(/[\s,]+/);for(let n=0,r=t.length;n<r;n++)t[n].trim().length>0&&e.push(hT(t[n].trim()));return e}class Fn extends se{constructor(...e){if(super(),this._actualLength=0,e.length===0)this._value=1,this._unitType=Ye.STAR;else if(arguments.length===2){const t=e[0],n=e[1];if(typeof t=="number"&&typeof n=="string"){if(t<0||isNaN(t)||!isFinite(t))throw new Error(`Value should not be negative, NaN or Infinity: ${t}`);this._value=t,this._unitType=Ye.parse(n)}else throw new Error("First argument should be number, second argument should be string.")}else throw new Error("ItemSpec expects 0 or 2 arguments");this.index=-1}static create(e,t){const n=new Fn;return n._value=e,n._unitType=t,n}get actualLength(){return this._actualLength}static equals(e,t){return e.gridUnitType===t.gridUnitType&&e.value===t.value&&e.owner===t.owner&&e.index===t.index}get gridUnitType(){return this._unitType}get isAbsolute(){return this._unitType===Ye.PIXEL}get isAuto(){return this._unitType===Ye.AUTO}get isStar(){return this._unitType===Ye.STAR}get value(){return this._value}}let un=Jn=class extends at{constructor(){super(...arguments),this._rows=new Array,this._cols=new Array}static getColumn(e){return qi(e).col}static setColumn(e,t){qi(e).col=t}static getColumnSpan(e){return qi(e).colSpan}static setColumnSpan(e,t){qi(e).colSpan=t}static getRow(e){return qi(e).row}static setRow(e,t){qi(e).row=t}static getRowSpan(e){return qi(e).rowSpan}static setRowSpan(e,t){qi(e).rowSpan=t}_addRow(e){fp(e),e.owner=this,this._rows.push(e)}addRow(e){this._addRow(e),this._onRowAdded(e),this.invalidate()}addRows(e){for(let t=0;t<e.length;t++){const n=e[t];this._addRow(n),this._onRowAdded(n)}this.invalidate()}_addColumn(e){fp(e),e.owner=this,this._cols.push(e)}addColumn(e){this._addColumn(e),this._onColumnAdded(e),this.invalidate()}addColumns(e){for(let t=0;t<e.length;t++){const n=e[t];this._addColumn(n),this._onColumnAdded(n)}this.invalidate()}addChildAtCell(e,t,n,r,s){this.addChild(e),Jn.setRow(e,t),Jn.setColumn(e,n),r&&Jn.setRowSpan(e,r),s&&Jn.setColumnSpan(e,s)}removeRow(e){if(!e)throw new Error("Value is null.");const t=this._rows.indexOf(e);if(e.owner!==this||t<0)throw new Error("Row is not child of this GridLayout");e.index=-1,this._rows.splice(t,1),this._onRowRemoved(e,t),this.invalidate()}removeColumn(e){if(!e)throw new Error("Value is null.");const t=this._cols.indexOf(e);if(e.owner!==this||t<0)throw new Error("Column is not child of this GridLayout");e.index=-1,this._cols.splice(t,1),this._onColumnRemoved(e,t),this.invalidate()}removeColumns(){for(let e=this._cols.length-1;e>=0;e--){const t=this._cols[e];this._onColumnRemoved(t,e),t.index=-1}this._cols.length=0,this.invalidate()}removeRows(){for(let e=this._rows.length-1;e>=0;e--){const t=this._rows[e];this._onRowRemoved(t,e),t.index=-1}this._rows.length=0,this.invalidate()}onRowChanged(e,t,n){this.invalidate()}onRowSpanChanged(e,t,n){this.invalidate()}onColumnChanged(e,t,n){this.invalidate()}onColumnSpanChanged(e,t,n){this.invalidate()}_onRowAdded(e){}_onColumnAdded(e){}_onRowRemoved(e,t){}_onColumnRemoved(e,t){}getColumns(){return this._cols.slice()}getRows(){return this._rows.slice()}get columnsInternal(){return this._cols}get rowsInternal(){return this._rows}invalidate(){}set rows(e){this.removeRows();const t=pp(e);this.addRows(t)}set columns(e){this.removeColumns();const t=pp(e);this.addColumns(t)}};un=Jn=__decorate([ee("GridLayout")],un);un.prototype.recycleNativeView="auto";const Ay=new b({name:"col",defaultValue:0,valueChanged:(i,e,t)=>{const n=i.parent;n instanceof un&&n.onColumnChanged(i,e,t)},valueConverter:i=>Math.max(0,parseInt(i))});Ay.register(L);const Iy=new b({name:"colSpan",defaultValue:1,valueChanged:(i,e,t)=>{const n=i.parent;n instanceof un&&n.onColumnSpanChanged(i,e,t)},valueConverter:i=>Math.max(1,parseInt(i))});Iy.register(L);const Ny=new b({name:"row",defaultValue:0,valueChanged:(i,e,t)=>{const n=i.parent;n instanceof un&&n.onRowChanged(i,e,t)},valueConverter:i=>Math.max(0,parseInt(i))});Ny.register(L);const Ly=new b({name:"rowSpan",defaultValue:1,valueChanged:(i,e,t)=>{const n=i.parent;n instanceof un&&n.onRowSpanChanged(i,e,t)},valueConverter:i=>Math.max(1,parseInt(i))});Ly.register(L);var Ye;(function(i){i.PIXEL="pixel",i.STAR="star",i.AUTO="auto",i.isValid=pe(i.PIXEL,i.STAR,i.AUTO),i.parse=ge(i.isValid)})(Ye||(Ye={}));function pc(i){return function(e){const t=this.nativeViewProtected,n=t.getLayoutParams()||new org.nativescript.widgets.CommonLayoutParams;n instanceof org.nativescript.widgets.CommonLayoutParams&&(i(n,e),t.setLayoutParams(n))}}L.prototype[Ny.setNative]=pc((i,e)=>i.row=e);L.prototype[Ay.setNative]=pc((i,e)=>i.column=e);L.prototype[Ly.setNative]=pc((i,e)=>i.rowSpan=e);L.prototype[Iy.setNative]=pc((i,e)=>i.columnSpan=e);Fn.prototype.toJSON=function(){let i;switch(this.gridUnitType){case Ye.AUTO:i={type:0,value:this.value};break;case Ye.PIXEL:i={type:1,value:this.value*V.getDisplayDensity()};break;case Ye.STAR:i={type:2,value:this.value};break;default:return null}return i};class Ws extends un{createNativeView(){return new org.nativescript.widgets.GridLayout(this._context)}initNativeView(){super.initNativeView();const e=JSON.stringify(this.rowsInternal.map(n=>n.toJSON()).filter(n=>!!n)),t=JSON.stringify(this.columnsInternal.map(n=>n.toJSON()).filter(n=>!!n));this.nativeViewProtected.addRowsAndColumnsFromJSON(e,t)}resetNativeView(){this.nativeViewProtected.reset(),super.resetNativeView()}_onRowAdded(e){this.nativeViewProtected&&this.nativeViewProtected.addRowsFromJSON(JSON.stringify([e.toJSON()]))}addRows(e){const t=[],n=this.nativeViewProtected,r=!!n;for(let s=0;s<e.length;s++){const a=e[s];this._addRow(a),r&&t.push(a.toJSON())}r&&n.addRowsFromJSON(JSON.stringify(t.filter(s=>!!s)))}addColumns(e){const t=[],n=this.nativeViewProtected,r=!!n;for(let s=0;s<e.length;s++){const a=e[s];this._addColumn(a),r&&t.push(a.toJSON())}r&&n.addColumnsFromJSON(JSON.stringify(t.filter(s=>!!s)))}_onColumnAdded(e){this.nativeViewProtected&&this.nativeViewProtected.addColumnsFromJSON(JSON.stringify([e.toJSON()]))}removeColumns(){this._cols.length&&(this.nativeViewProtected&&this.nativeViewProtected.clearColumns(),this._cols.length=0)}removeRows(){this._rows.length&&(this.nativeViewProtected&&this.nativeViewProtected.clearRows(),this._rows.length=0)}_onRowRemoved(e,t){this.nativeViewProtected&&this.nativeViewProtected.removeRowAt(t)}_onColumnRemoved(e,t){this.nativeViewProtected&&this.nativeViewProtected.removeColumnAt(t)}invalidate(){}}let Ku=class extends Ws{constructor(){super(),this.popupViews=[],global.rootLayout=this}onLoaded(){this.staticChildCount=this.getChildrenCount(),super.onLoaded()}_onLivesync(e){let t=!1;return this.popupViews.length>0&&(this.closeAll(),t=!0),super._onLivesync(e)&&(t=!0),t}open(e,t={}){return new Promise((n,r)=>{if(!(e instanceof L))return r(new Error(`Invalid open view: ${e}`));if(this.hasChild(e))return r(new Error(`${e} has already been added`));const s=[],a=t.animation?t.animation.enterFrom:null;this.popupViews.push({view:e,options:t}),t.shadeCover&&(this.shadeCover?s.push(this.updateShadeCover(this.shadeCover,t.shadeCover)):s.push(this.openShadeCover(t.shadeCover))),e.opacity=0,this.insertChild(e,this.getChildrenCount()+1),s.push(new Promise((o,c)=>{setTimeout(()=>{this.applyInitialState(e,a),this.getEnterAnimation(e,a).play().then(()=>{this.applyDefaultState(e),e.notify({eventName:"opened",object:e}),o()},u=>{c(new Error(`Error playing enter animation: ${u}`))})})})),Promise.all(s).then(()=>{n()},o=>{r(o)})})}close(e,t){return new Promise((n,r)=>{var d,h,m,p,g,v;if(!(e instanceof L))return r(new Error(`Invalid close view: ${e}`));if(!this.hasChild(e))return r(new Error(`Unable to close popup. ${e} not found`));const s=[],a=this.getPopupIndex(e),o=this.popupViews[a],c=()=>{e.notify({eventName:"closed",object:e}),this.removeChild(e),n()},u=t||((h=(d=o==null?void 0:o.options)==null?void 0:d.animation)==null?void 0:h.exitTo);if(this.popupViews.splice(a,1),s.push(new Promise((y,A)=>{u?this.getExitAnimation(e,u).play().then(y,P=>{A(new Error(`Error playing exit animation: ${P}`))}):y()})),this.shadeCover)if(this.popupViews.length){if(!((p=(m=o==null?void 0:o.options)==null?void 0:m.shadeCover)!=null&&p.ignoreShadeRestore)){const y=(g=this.popupViews[this.popupViews.length-1].options)==null?void 0:g.shadeCover;y&&s.push(this.updateShadeCover(this.shadeCover,y))}}else s.push(this.closeShadeCover((v=o==null?void 0:o.options)==null?void 0:v.shadeCover));Promise.all(s).then(()=>{c()},y=>{r(y)})})}closeAll(){const e=[],t=this.popupViews.map(n=>n.view);for(const n of t)e.push(this.close(n));return Promise.all(e)}getShadeCover(){return this.shadeCover}openShadeCover(e={}){return new Promise(t=>{if(this.shadeCover)l.isEnabled()&&l.write("RootLayout shadeCover already open.",l.categories.Layout,l.messageType.warn),t();else{const n=this.createShadeCover();n.on("loaded",()=>{this._initShadeCover(n,e),this.updateShadeCover(n,e).then(()=>{t()})}),this.shadeCover=n,this.insertChild(this.shadeCover,this.staticChildCount+1)}})}closeShadeCover(e={}){return new Promise(t=>{if(this.shadeCover)return this._closeShadeCover(this.shadeCover,e).then(()=>{this.shadeCover&&(this.shadeCover.off("loaded"),this.shadeCover.parent&&this.removeChild(this.shadeCover)),this.shadeCover=null,this._cleanupPlatformShadeCover(),t()});t()})}topmost(){return this.popupViews.length?this.popupViews[this.popupViews.length-1].view:null}bringToFront(e,t=!1){return new Promise((n,r)=>{var u;if(!(e instanceof L))return r(new Error(`Invalid bringToFront view: ${e}`));if(!this.hasChild(e))return r(new Error(`${e} not found or already at topmost`));const s=this.getPopupIndex(e);if(s<0||s==this.popupViews.length-1)return r(new Error(`${e} not found or already at topmost`));const a=this.popupViews[this.getPopupIndex(e)];this.popupViews.splice(this.getPopupIndex(e),1),this.popupViews.push(a);const o=this.getViewExitState(e);t&&o?this.getExitAnimation(e,o).play().then(()=>{this._bringToFront(e);const d=this.getViewInitialState(a.view);d?(this.applyInitialState(e,d),this.getEnterAnimation(e,d).play().then(()=>{this.applyDefaultState(e)}).catch(h=>{r(new Error(`Error playing enter animation: ${h}`))})):this.applyDefaultState(e)}).catch(d=>{this._bringToFront(e),r(new Error(`Error playing exit animation: ${d}`))}):this._bringToFront(e);const c=(u=a==null?void 0:a.options)==null?void 0:u.shadeCover;c&&this.updateShadeCover(this.shadeCover,c),n()})}getPopupIndex(e){return this.popupViews.findIndex(t=>t.view===e)}getViewInitialState(e){var r,s,a;const t=this.getPopupIndex(e);if(t===-1)return;const n=(a=(s=(r=this.popupViews[t])==null?void 0:r.options)==null?void 0:s.animation)==null?void 0:a.enterFrom;if(n)return n}getViewExitState(e){var r,s,a;const t=this.getPopupIndex(e);if(t===-1)return;const n=(a=(s=(r=this.popupViews[t])==null?void 0:r.options)==null?void 0:s.animation)==null?void 0:a.exitTo;if(n)return n}applyInitialState(e,t){const n={...Qi,...t||{}};e.translateX=n.translateX,e.translateY=n.translateY,e.scaleX=n.scaleX,e.scaleY=n.scaleY,e.rotate=n.rotate,e.opacity=n.opacity}applyDefaultState(e){e.translateX=0,e.translateY=0,e.scaleX=1,e.scaleY=1,e.rotate=0,e.opacity=1}getEnterAnimation(e,t){const n={...Qi,...t||{}};return new Bn([{target:e,translate:{x:0,y:0},scale:{x:1,y:1},rotate:0,opacity:1,duration:n.duration,curve:n.curve}])}getExitAnimation(e,t){return new Bn([this.getExitAnimationDefinition(e,t)])}getExitAnimationDefinition(e,t){return{target:e,...Qi,...t||{},translate:{x:Re(t.translateX)?t.translateX:Qi.translateX,y:Re(t.translateY)?t.translateY:Qi.translateY},scale:{x:Re(t.scaleX)?t.scaleX:Qi.scaleX,y:Re(t.scaleY)?t.scaleY:Qi.scaleY}}}createShadeCover(){const e=new Ws;return e.verticalAlignment="bottom",e}updateShadeCover(e,t={}){return t.tapToClose!==void 0&&t.tapToClose!==null&&(e.off("tap"),t.tapToClose&&e.on("tap",()=>{this.closeAll()})),this._updateShadeCover(e,t)}hasChild(e){return this.getChildIndex(e)>=0}_bringToFront(e){}_initShadeCover(e,t){}_updateShadeCover(e,t){return new Promise(()=>{})}_closeShadeCover(e,t){return new Promise(()=>{})}_cleanupPlatformShadeCover(){}};Ku=__decorate([ee("RootLayout"),__metadata("design:paramtypes",[])],Ku);function fT(){return global.rootLayout}const Qi={translateX:0,translateY:0,scaleX:1,scaleY:1,rotate:0,opacity:1,duration:300,curve:E.AnimationCurve.easeIn},gp={...Qi,opacity:0},ts={opacity:.5,color:"#000000",tapToClose:!0,animation:{enterFrom:gp,exitTo:gp},ignoreShadeRestore:!1};class pT extends Ku{constructor(){super()}insertChild(e,t){super.insertChild(e,t),e.hasGestureObservers()||e.nativeViewProtected&&e.nativeViewProtected.setOnTouchListener(new android.view.View.OnTouchListener({onTouch:function(n,r){return!0}}))}removeChild(e){e.hasGestureObservers()&&e.nativeViewProtected&&e.nativeViewProtected.setOnTouchListener(null),super.removeChild(e)}_bringToFront(e){e.nativeViewProtected.bringToFront()}_initShadeCover(e,t){var r;const n={...ts.animation.enterFrom,...(r=t==null?void 0:t.animation)==null?void 0:r.enterFrom};this._playAnimation(this._getAnimationSet(e,n))}_updateShadeCover(e,t){var s,a;const n={...ts,...t},r=((a=(s=n.animation)==null?void 0:s.enterFrom)==null?void 0:a.duration)||ts.animation.enterFrom.duration;return this._playAnimation(this._getAnimationSet(e,{translateX:0,translateY:0,scaleX:1,scaleY:1,rotate:0,opacity:n.opacity},n.color),r)}_closeShadeCover(e,t){var r;const n={...ts.animation.exitTo,...(r=t==null?void 0:t.animation)==null?void 0:r.exitTo};return this._playAnimation(this._getAnimationSet(e,n),n==null?void 0:n.duration)}_getAnimationSet(e,t,n=ts.color){const r=n&&n.startsWith("linear-gradient"),s=Array.create(android.animation.Animator,r?6:7);if(s[0]=android.animation.ObjectAnimator.ofFloat(e.nativeViewProtected,"translationX",[t.translateX]),s[1]=android.animation.ObjectAnimator.ofFloat(e.nativeViewProtected,"translationY",[t.translateY]),s[2]=android.animation.ObjectAnimator.ofFloat(e.nativeViewProtected,"scaleX",[t.scaleX]),s[3]=android.animation.ObjectAnimator.ofFloat(e.nativeViewProtected,"scaleY",[t.scaleY]),s[4]=android.animation.ObjectAnimator.ofFloat(e.nativeViewProtected,"rotation",[t.rotate]),s[5]=android.animation.ObjectAnimator.ofFloat(e.nativeViewProtected,"alpha",[t.opacity]),r){e.backgroundColor&&(e.backgroundColor=void 0);const a=Kg(n);e.backgroundImage=At.parse(a.value)}else e.backgroundImage&&(e.backgroundImage=void 0),s[6]=this._getBackgroundColorAnimator(e,n);return s}_getBackgroundColorAnimator(e,t){const n=Array.create(java.lang.Object,2);n[0]=java.lang.Integer.valueOf(e.backgroundColor?e.backgroundColor.argb:-1),n[1]=java.lang.Integer.valueOf(t?new S(t).argb:-1);const r=android.animation.ValueAnimator.ofObject(new android.animation.ArgbEvaluator,n);return r.addUpdateListener(new android.animation.ValueAnimator.AnimatorUpdateListener({onAnimationUpdate(s){const a=s.getAnimatedValue().intValue();e.backgroundColor=new S(a)}})),r}_playAnimation(e,t=0){return new Promise(n=>{const r=new android.animation.AnimatorSet;r.playTogether(e),r.setDuration(t),r.addListener(new android.animation.Animator.AnimatorListener({onAnimationStart:function(s){},onAnimationEnd:function(s){n()},onAnimationRepeat:function(s){},onAnimationCancel:function(s){}})),r.start()})}}let Hs=class extends at{};Hs=__decorate([ee("StackLayout")],Hs);Hs.prototype.recycleNativeView="auto";const gT=ge(pe("horizontal","vertical")),ky=new b({name:"orientation",defaultValue:"vertical",affectsLayout:!1,valueConverter:gT});ky.register(Hs);class Dh extends Hs{createNativeView(){return new org.nativescript.widgets.StackLayout(this._context)}[ky.setNative](e){this.nativeViewProtected.setOrientation(e==="vertical"?org.nativescript.widgets.Orientation.vertical:org.nativescript.widgets.Orientation.horizontal)}}let Hn=class extends at{};Hn=__decorate([ee("WrapLayout")],Hn);Hn.prototype.recycleNativeView="auto";const Ry=new b({name:"itemWidth",defaultValue:"auto",affectsLayout:!1,valueConverter:i=>_.parse(i),valueChanged:(i,e,t)=>i.effectiveItemWidth=_.toDevicePixels(t,-1)});Ry.register(Hn);const Fy=new b({name:"itemHeight",defaultValue:"auto",affectsLayout:!1,valueConverter:i=>_.parse(i),valueChanged:(i,e,t)=>i.effectiveItemHeight=_.toDevicePixels(t,-1)});Fy.register(Hn);const mT=ge(pe(E.Orientation.horizontal,E.Orientation.vertical)),Oy=new b({name:"orientation",defaultValue:E.Orientation.horizontal,affectsLayout:!1,valueConverter:mT});Oy.register(Hn);class yT extends Hn{createNativeView(){return new org.nativescript.widgets.WrapLayout(this._context)}[Oy.setNative](e){this.nativeViewProtected.setOrientation(e==="vertical"?org.nativescript.widgets.Orientation.vertical:org.nativescript.widgets.Orientation.horizontal)}[Ry.setNative](e){this.nativeViewProtected.setItemWidth(_.toDevicePixels(e,-1))}[Fy.setNative](e){this.nativeViewProtected.setItemHeight(_.toDevicePixels(e,-1))}}let Ui=class extends L{_getItemAsString(e){if(!this.items)return" ";const n=this.isItemsSource?this.items.getItem(e):this.items[e];return n==null?e+"":this.parseItem(n)}parseItem(e){return this.textField?e[this.textField]+"":e+""}updateSelectedValue(e){let t=null;if(e>=0){const n=this.items[e];t=this.valueField?n[this.valueField]:n}this.selectedValue!==t&&this.set("selectedValue",t)}};Ui=__decorate([ee("ListPicker")],Ui);Ui.prototype.recycleNativeView="auto";const ws=new hn({name:"selectedIndex",defaultValue:-1,valueConverter:i=>parseInt(i),coerceValue:(i,e)=>{const t=i.items;if(t){const n=t.length-1;e<0&&(e=0),e>n&&(e=n)}else e=-1;return i.updateSelectedValue(e),e}});ws.register(Ui);const Qu=new b({name:"items",valueChanged:(i,e,t)=>{const n=t&&t.getItem;i.isItemsSource=typeof n=="function"}});Qu.register(Ui);const vT=new b({name:"textField",defaultValue:""});vT.register(Ui);const wT=new b({name:"valueField",defaultValue:""});wT.register(Ui);const _T=new b({name:"selectedValue",defaultValue:null});_T.register(Ui);let Zu,Dy;function CT(){if(!Zu){var i=function(t){__extends(n,t);function n(s){var a=t.call(this)||this;return a.owner=s,global.__native(a)}n.prototype.format=function(s){return this.owner._getItemAsString(s)};var r;return n=__decorate([Interfaces([android.widget.NumberPicker.Formatter]),__metadata("design:paramtypes",[typeof(r=typeof us<"u"&&us)=="function"?r:Object])],n),n}(java.lang.Object),e=function(t){__extends(n,t);function n(s){var a=t.call(this)||this;return a.owner=s,global.__native(a)}n.prototype.onValueChange=function(s,a,o){ws.nativeValueChange(this.owner,o),this.owner.updateSelectedValue(o)};var r;return n=__decorate([Interfaces([android.widget.NumberPicker.OnValueChangeListener]),__metadata("design:paramtypes",[typeof(r=typeof us<"u"&&us)=="function"?r:Object])],n),n}(java.lang.Object);Zu=i,Dy=e}}function bT(i){for(let e=0,t=i.getChildCount();e<t;e++){const n=i.getChildAt(e);if(n instanceof android.widget.EditText)return n}return null}let is;function xT(i){try{is=i.getClass().getDeclaredField("mSelectorWheelPaint"),is&&is.setAccessible(!0)}catch{}return is?is.get(i):null}class us extends Ui{createNativeView(){const e=new android.widget.NumberPicker(this._context);return e.setDescendantFocusability(android.widget.NumberPicker.FOCUS_BLOCK_DESCENDANTS),e.setMinValue(0),e.setMaxValue(0),e.setValue(0),e.setWrapSelectorWheel(!1),e}initNativeView(){super.initNativeView(),CT();const e=this.nativeViewProtected;this._selectorWheelPaint=xT(e);const t=new Zu(this);e.setFormatter(t),e.formatter=t;const n=new Dy(this);e.setOnValueChangedListener(n),e.valueChangedListener=n;const r=bT(e);r&&(e.editText=r,r.setFilters([]),r.setText(" ",android.widget.TextView.BufferType.NORMAL))}disposeNativeView(){const e=this.nativeViewProtected;e!=null&&e.formatter&&(e.formatter.owner=null),e!=null&&e.valueChangedListener&&(e.valueChangedListener.owner=null),super.disposeNativeView()}_fixNumberPickerRendering(){const e=this.nativeViewProtected;e.setFormatter(null),e.setFormatter(e.formatter);const t=e.editText;t&&(t.setFilters([]),t.invalidate()),e.invalidate()}[ws.getDefault](){return-1}[ws.setNative](e){e>=0&&this.nativeViewProtected.setValue(e)}[Qu.getDefault](){return null}[Qu.setNative](e){const t=e&&e.length>0?e.length-1:0;this.nativeViewProtected.setMaxValue(t),this._fixNumberPickerRendering(),ws.coerce(this)}[Te.getDefault](){return this._selectorWheelPaint?this._selectorWheelPaint.getColor():this.nativeView&&this.nativeView.getTextColor?this.nativeView.getTextColor():0}[Te.setNative](e){const t=e instanceof S?e.android:e;if(this._selectorWheelPaint){this._selectorWheelPaint.setColor(t);const n=this.nativeViewProtected.editText;n&&n.setTextColor(t)}else this.nativeView&&this.nativeView.setTextColor&&this.nativeView.setTextColor(t)}}const By=-1;let ze=class extends uc{constructor(){super(...arguments),this._itemIdGenerator=(e,t)=>t,this._itemTemplateSelectorBindable=new gi,this._defaultTemplate={key:"default",createView:()=>{if(this.itemTemplate)return Ke.parse(this.itemTemplate,this)}},this._itemTemplatesInternal=new Array(this._defaultTemplate),this._effectiveRowHeight=By}get separatorColor(){return this.style.separatorColor}set separatorColor(e){this.style.separatorColor=e}get itemTemplateSelector(){return this._itemTemplateSelector}set itemTemplateSelector(e){typeof e=="string"?(this._itemTemplateSelectorBindable.bind({sourceProperty:null,targetProperty:"templateKey",expression:e}),this._itemTemplateSelector=(t,n,r)=>(t.$index=n,this._itemTemplateSelectorBindable.bindingContext===t&&(this._itemTemplateSelectorBindable.bindingContext=null),this._itemTemplateSelectorBindable.bindingContext=t,this._itemTemplateSelectorBindable.get("templateKey"))):typeof e=="function"&&(this._itemTemplateSelector=e)}get itemIdGenerator(){return this._itemIdGenerator}set itemIdGenerator(e){this._itemIdGenerator=e}refresh(){}scrollToIndex(e){}scrollToIndexAnimated(e){}_getItemTemplate(e){let t="default";if(this.itemTemplateSelector){const n=this._getDataItem(e);t=this._itemTemplateSelector(n,e,this.items)}for(let n=0,r=this._itemTemplatesInternal.length;n<r;n++)if(this._itemTemplatesInternal[n].key===t)return this._itemTemplatesInternal[n];return this._itemTemplatesInternal[0]}_prepareItem(e,t){e&&(e.bindingContext=this._getDataItem(t))}_getDataItem(e){const t=this.items;return t.getItem?t.getItem(e):t[e]}_getDefaultItemContent(e){const t=new gi;return t.bind({targetProperty:"text",sourceProperty:"$value"}),t}_onItemsChanged(e){this.refresh()}_onRowHeightPropertyChanged(e,t){this.refresh()}isItemAtIndexVisible(e){return!1}updateEffectiveRowHeight(){My.coerce(this)}};ze.itemLoadingEvent="itemLoading";ze.itemTapEvent="itemTap";ze.loadMoreItemsEvent="loadMoreItems";ze.knownFunctions=["itemTemplateSelector","itemIdGenerator"];ze=__decorate([ee("ListView")],ze);ze.prototype.recycleNativeView="auto";const ST=new b({name:"items",valueChanged:(i,e,t)=>{e instanceof se&&bs(e,$e.changeEvent,i._onItemsChanged,i),t instanceof se&&ur(t,$e.changeEvent,i._onItemsChanged,i),i.refresh()}});ST.register(ze);const TT=new b({name:"itemTemplate",valueChanged:i=>{i.refresh()}});TT.register(ze);const Ju=new b({name:"itemTemplates",valueConverter:i=>typeof i=="string"?Ke.parseMultipleTemplates(i,null):i});Ju.register(ze);const mp="auto",My=new hn({name:"rowHeight",defaultValue:mp,equalityComparer:_.equals,coerceValue:(i,e)=>i.nativeViewProtected?e:mp,valueChanged:(i,e,t)=>{i._effectiveRowHeight=_.toDevicePixels(t,By),i._onRowHeightPropertyChanged(e,t)},valueConverter:_.parse});My.register(ze);const ET=new b({name:"iosEstimatedRowHeight",valueConverter:i=>_.parse(i)});ET.register(ze);const ed=new R({name:"separatorColor",cssName:"separator-color",equalityComparer:S.equals,valueConverter:i=>new S(i)});ed.register(T);let js=class extends at{constructor(){super(),this.proxiedLayoutProperties=new Set,this.nativeViewProtected=void 0}get ios(){return null}get android(){return null}get isLayoutRequested(){return!1}createNativeView(){}_getNativeViewsCount(){let e=0;return this.eachChildView(t=>(e+=t._getNativeViewsCount(),!0)),e}_eachLayoutView(e){this.eachChildView(t=>(t.isCollapsed||t._eachLayoutView(e),!0))}_setupUI(e,t,n){let r=!1;this.reusable&&this._context===e&&(r=!0),super._setupUI(e,t,n),this.reusable&&r&&this.eachChild(s=>{const a=s.reusable;return s.reusable=!0,s._setupUI(e),s.reusable=a,!0})}_tearDownUI(e){super._tearDownUI(e),this.reusable&&!e&&this.eachChild(t=>{const n=t.reusable;return t.reusable=!0,t._tearDownUI(),t.reusable=n,!0})}_addViewToNativeVisualTree(e,t){l.isEnabled()&&l.write("ProxyViewContainer._addViewToNativeVisualTree for a child "+e+" ViewContainer.parent: "+this.parent,l.categories.ViewHierarchy),super._addViewToNativeVisualTree(e),Uy.forEach(r=>{const s=yp(r);e[s]=e[r],this.proxiedLayoutProperties.has(r)&&this._applyLayoutPropertyToChild(e,r,this[r])});const n=this.parent;if(n instanceof L){let r=0,s=0;return n instanceof at&&(r=n._childIndexToNativeChildIndex(n.getChildIndex(this))),t!==void 0?s=this._childIndexToNativeChildIndex(t):s=this._getNativeViewsCount(),l.isEnabled()&&l.write("ProxyViewContainer._addViewToNativeVisualTree at: "+t+" base: "+r+" additional: "+s,l.categories.ViewHierarchy),n._addViewToNativeVisualTree(e,r+s)}return!1}_removeViewFromNativeVisualTree(e){l.isEnabled()&&l.write("ProxyViewContainer._removeViewFromNativeVisualTree for a child "+e+" ViewContainer.parent: "+this.parent,l.categories.ViewHierarchy),super._removeViewFromNativeVisualTree(e);const t=this.parent;if(t instanceof L)return t._removeViewFromNativeVisualTree(e)}_registerLayoutChild(e){const t=this.parent;t instanceof at&&t._registerLayoutChild(e)}_unregisterLayoutChild(e){const t=this.parent;t instanceof at&&t._unregisterLayoutChild(e)}_parentChanged(e){super._parentChanged(e);const t=this.parent&&!e,n=this.parent,r=e;t&&n instanceof at?this.eachLayoutChild(s=>(n._registerLayoutChild(s),!0)):r instanceof at&&this.eachLayoutChild(s=>(r._unregisterLayoutChild(s),!0))}_changedLayoutProperty(e,t){this._getNativeViewsCount()>1&&l.write("ProxyViewContainer._changeLayoutProperty - you're setting '"+e+"' for "+this+" with more than one child. Probably this is not what you want, consider wrapping it in a StackLayout ",l.categories.ViewHierarchy,l.messageType.error),this.eachLayoutChild(r=>(this._applyLayoutPropertyToChild(r,e,t),!0)),this.proxiedLayoutProperties.add(e)}_applyLayoutPropertyToChild(e,t,n){const r=yp(t);if(r in e&&e[t]!==e[r]){l.isEnabled()&&l.write("ProxyViewContainer._applyLayoutPropertyToChild child "+e+" has its own value ["+e[t]+"] for ["+t+"]",l.categories.ViewHierarchy);return}e[t]=n,e[r]=n}};js=__decorate([ee("ProxyViewContainer"),__metadata("design:paramtypes",[])],js);const Uy=["left","top","dock","flexDirection","flexWrap","justifyContent","alignItems","alignContent","order","flexGrow","flexShrink","flexWrapBefore","alignSelf","flexFlow","flex","column","columnSpan","col","colSpan","row","rowSpan"];for(const i of Uy)new b({name:i,valueChanged(t,n,r){t._changedLayoutProperty(i,r)}}).register(js);function yp(i){return`_proxy:${i}`}const PT=ze.itemLoadingEvent,VT=ze.loadMoreItemsEvent,AT=ze.itemTapEvent;let td;function IT(){if(!td){var i=function(e){__extends(t,e);function t(r){var s=e.call(this)||this;return s.owner=r,global.__native(s)}t.prototype.onItemClick=function(r,s,a,o){var c=this.owner,u=c._realizedItems.get(s).view;c.notify({eventName:AT,object:c,index:a,view:u})};var n;return t=__decorate([Interfaces([android.widget.AdapterView.OnItemClickListener]),__metadata("design:paramtypes",[typeof(n=typeof jn<"u"&&jn)=="function"?n:Object])],t),t}(java.lang.Object);td=i}}class jn extends ze{constructor(){super(...arguments),this._androidViewId=-1,this._realizedItems=new Map,this._availableViews=new Map,this._realizedTemplates=new Map}_ensureAvailableViews(e){this._availableViews.has(e)||this._availableViews.set(e,new Set)}_registerViewToTemplate(e,t,n){this._realizedItems.set(t,{view:n,templateKey:e}),this._realizedTemplates.has(e)||this._realizedTemplates.set(e,new Map),this._realizedTemplates.get(e).set(t,n),this._ensureAvailableViews(e),this._availableViews.get(e).add(t)}_markViewUsed(e){const t=this._realizedItems.get(e);if(!t)throw new Error("View not registered");this._ensureAvailableViews(t.templateKey),this._availableViews.get(t.templateKey).delete(e)}_markViewUnused(e){const t=this._realizedItems.get(e);if(!t)throw new Error("View not registered");this._ensureAvailableViews(t.templateKey),this._availableViews.get(t.templateKey).add(e)}_getKeyFromView(e){return this._realizedItems.get(e).templateKey}_hasAvailableView(e){return this._ensureAvailableViews(e),this._availableViews.get(e).size>0}_getAvailableView(e){if(this._ensureAvailableViews(e),!this._hasAvailableView(e))return null;const t=this._availableViews.get(e).values().next().value;return this._markViewUsed(t),t}createNativeView(){const e=new android.widget.ListView(this._context);return e.setDescendantFocusability(android.view.ViewGroup.FOCUS_AFTER_DESCENDANTS),e.setCacheColorHint(android.graphics.Color.TRANSPARENT),e}initNativeView(){super.initNativeView(),this.updateEffectiveRowHeight();const e=this.nativeViewProtected;IT(),NT();const t=new Bo(this);e.setAdapter(t),e.adapter=t;const n=new td(this);e.setOnItemClickListener(n),e.itemClickListener=n,this._androidViewId<0&&(this._androidViewId=android.view.View.generateViewId()),e.setId(this._androidViewId)}disposeNativeView(){const e=this.nativeViewProtected;e.setAdapter(null),e.itemClickListener&&(e.itemClickListener.owner=null),e.adapter&&(e.adapter.owner=null),this.clearRealizedCells(),super.disposeNativeView()}onLoaded(){super.onLoaded(),this.requestLayout()}refresh(){const e=this.nativeViewProtected;!e||!e.getAdapter()||(this._realizedItems.forEach(({view:t},n)=>{t.bindingContext instanceof se||(t.bindingContext=null)}),e.getAdapter().notifyDataSetChanged())}scrollToIndex(e){const t=this.nativeViewProtected;t&&t.setSelection(e)}scrollToIndexAnimated(e){const t=this.nativeViewProtected;t&&t.smoothScrollToPosition(e)}get _childrenCount(){return this._realizedItems.size}eachChildView(e){this._realizedItems.forEach(({view:t},n)=>{t.parent instanceof jn?e(t):t.parent&&e(t.parent)})}_dumpRealizedTemplates(){console.log("Realized Templates:"),this._realizedTemplates.forEach((e,t)=>{console.log(`	${t}:`),e.forEach((n,r)=>{console.log(`		${r.hashCode()}: ${n}`)})}),console.log(`Realized Items Size: ${this._realizedItems.size}`)}clearRealizedCells(){this._realizedItems.forEach(({view:e},t)=>{e.parent&&(e.parent instanceof jn||this._removeView(e.parent),e.parent._removeView(e))}),this._realizedItems.clear(),this._availableViews.clear(),this._realizedTemplates.clear()}isItemAtIndexVisible(e){const t=this.nativeViewProtected,n=t.getFirstVisiblePosition(),r=t.getLastVisiblePosition();return e>=n&&e<=r}[ed.getDefault](){const e=this.nativeViewProtected;return{dividerHeight:e.getDividerHeight(),divider:e.getDivider()}}[ed.setNative](e){const t=this.nativeViewProtected;e instanceof S?(t.setDivider(new android.graphics.drawable.ColorDrawable(e.android)),t.setDividerHeight(1)):(t.setDivider(e.divider),t.setDividerHeight(e.dividerHeight))}[Ju.getDefault](){return null}[Ju.setNative](e){this._itemTemplatesInternal=new Array(this._defaultTemplate),e&&(this._itemTemplatesInternal=this._itemTemplatesInternal.concat(e)),this.nativeViewProtected.setAdapter(new Bo(this)),this.refresh()}}__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],jn.prototype,"createNativeView",null);let Bo;function NT(){if(!Bo){var i=function(e){__extends(t,e);function t(u){var d=e.call(this)||this;return d.owner=u,global.__native(d)}t.prototype.getCount=function(){return this.owner&&this.owner.items&&this.owner.items.length?this.owner.items.length:0},t.prototype.getItem=function(u){if(this.owner&&this.owner.items&&u<this.owner.items.length){var d=this.owner.items.getItem;return d?d.call(this.owner.items,u):this.owner.items[u]}return null},t.prototype.getItemId=function(u){var d=this.getItem(u),h=u;return this.owner&&d&&this.owner.items&&(h=this.owner.itemIdGenerator(d,u,this.owner.items)),long(h)},t.prototype.hasStableIds=function(){return!0},t.prototype.getViewTypeCount=function(){return this.owner._itemTemplatesInternal.length},t.prototype.getItemViewType=function(u){var d=this.owner._getItemTemplate(u),h=this.owner._itemTemplatesInternal.indexOf(d);return h},t.prototype.getView=function(u,d,h){if(!this.owner)return null;var m=this.owner.items?this.owner.items.length:0;u===m-1&&this.owner.notify({eventName:VT,object:this.owner});var p=this.owner._getItemTemplate(u),g;d&&this.owner._getKeyFromView(d)!==p.key&&(this.owner._markViewUnused(d),d=this.owner._getAvailableView(p.key)),d&&(g=this.owner._realizedItems.get(d).view),g||(g=p.createView());var v={eventName:PT,object:this.owner,index:u,view:g,android:h,ios:void 0};if(this.owner.notify(v),v.view||(v.view=this.owner._getDefaultItemContent(u)),v.view){if(this.owner._effectiveRowHeight>-1?v.view.height=this.owner.rowHeight:v.view.height=D,this.owner._prepareItem(v.view,u),!v.view.parent)if(v.view instanceof at&&!(v.view instanceof js))this.owner._addView(v.view),d=v.view.nativeViewProtected;else{var y=new Dh;y.addChild(v.view),this.owner._addView(y),d=y.nativeViewProtected}this.owner._registerViewToTemplate(p.key,d,v.view),this.owner._markViewUsed(d)}return d};var n,r,s,a,o,c;return __decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Number,typeof(r=typeof android<"u"&&(n=android.view)!==void 0&&n.View)=="function"?r:Object,typeof(a=typeof android<"u"&&(s=android.view)!==void 0&&s.ViewGroup)=="function"?a:Object]),__metadata("design:returntype",typeof(c=typeof android<"u"&&(o=android.view)!==void 0&&o.View)=="function"?c:Object)],t.prototype,"getView",null),t}(android.widget.BaseAdapter);Bo=i}}var er;let qe=er=class extends dc{constructor(){super(...arguments),this.accessibilityAnnouncePageEnabled=!0}get navigationContext(){return this._navigationContext}get actionBar(){return this._actionBar||(this.hasActionBar=!0,this._actionBar=new pi,this._addView(this._actionBar)),this._actionBar}set actionBar(e){if(!e)throw new Error("ActionBar cannot be null or undefined.");this._actionBar!==e&&(this._actionBar&&this._removeView(this._actionBar),this.hasActionBar=!0,this._actionBar=e,this._addView(this._actionBar))}get statusBarStyle(){return this.style.statusBarStyle}set statusBarStyle(e){this.style.statusBarStyle=e}get androidStatusBarBackground(){return this.style.androidStatusBarBackground}set androidStatusBarBackground(e){this.style.androidStatusBarBackground=e}get page(){return this}_parentChanged(e){const t=this.parent;if(t&&!zx(t))throw new Error(`Page can only be nested inside Frame. New parent: ${t}`);super._parentChanged(e)}_addChildFromBuilder(e,t){t instanceof pi?this.actionBar=t:super._addChildFromBuilder(e,t)}getKeyframeAnimationWithName(e){return this._styleScope.getKeyframeAnimationWithName(e)}get frame(){return this.parent}createNavigatedData(e,t){return{eventName:e,object:this,context:this.navigationContext,isBackNavigation:t}}onNavigatingTo(e,t,n){this._navigationContext=e,t&&this._styleScope&&(this._styleScope.ensureSelectors(),this._cssState.isSelectorsLatestVersionApplied()||this._onCssStateChange()),!t&&n!==void 0&&n!==null&&(this.bindingContext=n),this.notify(this.createNavigatedData(er.navigatingToEvent,t))}onNavigatedTo(e){this.notify(this.createNavigatedData(er.navigatedToEvent,e)),this.accessibilityAnnouncePageEnabled&&this.accessibilityScreenChanged(!!e)}onNavigatingFrom(e){this.notify(this.createNavigatedData(er.navigatingFromEvent,e))}onNavigatedFrom(e){this.notify(this.createNavigatedData(er.navigatedFromEvent,e)),this._navigationContext=void 0}eachChildView(e){super.eachChildView(e),this.hasActionBar&&e(this.actionBar)}get _childrenCount(){return(this.content?1:0)+(this._actionBar?1:0)}accessibilityScreenChanged(e){}};qe.navigatingToEvent="navigatingTo";qe.navigatedToEvent="navigatedTo";qe.navigatingFromEvent="navigatingFrom";qe.navigatedFromEvent="navigatedFrom";__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Object,Boolean,Object]),__metadata("design:returntype",void 0)],qe.prototype,"onNavigatingTo",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Boolean]),__metadata("design:returntype",void 0)],qe.prototype,"onNavigatedTo",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Boolean]),__metadata("design:returntype",void 0)],qe.prototype,"onNavigatingFrom",null);__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[Boolean]),__metadata("design:returntype",void 0)],qe.prototype,"onNavigatedFrom",null);qe=er=__decorate([ee("Page")],qe);qe.prototype.recycleNativeView="never";const Wy=new b({name:"actionBarHidden",affectsLayout:!1,valueConverter:K});Wy.register(qe);const LT=new b({name:"backgroundSpanUnderStatusBar",defaultValue:!1,affectsLayout:!1,valueConverter:K});LT.register(qe);const kT=new b({name:"enableSwipeBackNavigation",defaultValue:!0,valueConverter:K});kT.register(qe);const id=new R({name:"statusBarStyle",cssName:"status-bar-style"});id.register(T);const nd=new R({name:"androidStatusBarBackground",cssName:"android-status-bar-background",equalityComparer:S.equals,valueConverter:i=>new S(i)});nd.register(T);const RT=8192,FT=-657931,OT=1711276032;class Hy extends qe{createNativeView(){const e=new org.nativescript.widgets.GridLayout(this._context);return e.addRowsFromJSON(JSON.stringify([{value:1,type:0},{value:1,type:2}])),e}initNativeView(){super.initNativeView(),this.nativeViewProtected.setBackgroundColor(-1)}_addViewToNativeVisualTree(e,t){return this.nativeViewProtected&&e.nativeViewProtected&&(e instanceof pi?(Ws.setRow(e,0),e.horizontalAlignment="stretch",e.verticalAlignment="top"):Ws.setRow(e,1)),super._addViewToNativeVisualTree(e,t)}onLoaded(){super.onLoaded(),!this.hasActionBar&&this.actionBarHidden!==!0&&(this.actionBar=new pi),this.hasActionBar&&this.updateActionBar()}updateActionBar(){this.actionBar&&this.actionBar.update()}getClosestWindow(){const t=(this.parent??this)._dialogFragment;if(t){const n=t.getDialog();if(n)return n.getWindow()}return this._context.getWindow()}[Wy.setNative](e){(!e||this.hasActionBar)&&this.updateActionBar()}[id.getDefault](){if(G>=21){const e=this.getClosestWindow(),t=e.getDecorView();return{color:e.getStatusBarColor(),systemUiVisibility:t.getSystemUiVisibility()}}return null}[id.setNative](e){if(G>=21){const t=this.getClosestWindow(),n=t.getDecorView();e==="light"?(t.setStatusBarColor(FT),n.setSystemUiVisibility(RT)):e==="dark"?(t.setStatusBarColor(OT),n.setSystemUiVisibility(0)):(t.setStatusBarColor(e.color),n.setSystemUiVisibility(e.systemUiVisibility))}}[nd.getDefault](){return G>=21?this.getClosestWindow().getStatusBarColor():null}[nd.setNative](e){if(G>=21){const t=this.getClosestWindow(),n=e instanceof S?e.android:e;t.setStatusBarColor(n)}}accessibilityScreenChanged(e=!1){if(hh()){if(e){const t=t0(this);if(t){const n=t.nativeViewProtected;if(n){n.sendAccessibilityEvent(android.view.accessibility.AccessibilityEvent.TYPE_VIEW_FOCUSED),n.sendAccessibilityEvent(android.view.accessibility.AccessibilityEvent.TYPE_VIEW_ACCESSIBILITY_FOCUSED);return}}}if(this.actionBarHidden||this.accessibilityLabel){this.sendAccessibilityEvent({androidAccessibilityEvent:oe.WINDOW_STATE_CHANGED});return}this.actionBar.accessibilityScreenChanged()}}}__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],Hy.prototype,"onLoaded",null);var rd;let Mo=rd=class extends L{createNativeView(){const e={eventName:rd.creatingViewEvent,object:this,view:void 0,context:this._context};return this.notify(e),e.view}};Mo.creatingViewEvent="creatingView";Mo=rd=__decorate([ee("Placeholder")],Mo);let Or=class extends L{};Or=__decorate([ee("Progress")],Or);Or.prototype.recycleNativeView="auto";const Uo=new hn({name:"value",defaultValue:0,coerceValue:(i,e)=>e<0?0:Math.min(e,i.maxValue),valueConverter:i=>parseInt(i)});Uo.register(Or);const sd=new b({name:"maxValue",defaultValue:100,valueChanged:(i,e,t)=>{Uo.coerce(i)},valueConverter:i=>parseInt(i)});sd.register(Or);const DT=16842872;class BT extends Or{createNativeView(){return new android.widget.ProgressBar(this._context,null,DT)}[Uo.getDefault](){return 0}[Uo.setNative](e){this.nativeViewProtected.setProgress(e)}[sd.getDefault](){return 100}[sd.setNative](e){this.nativeViewProtected.setMax(e)}[Te.getDefault](){return null}[Te.setNative](e){const t=this.nativeViewProtected.getProgressDrawable();t&&(e instanceof S?xe.setDrawableColor(e.android,t):xe.clearDrawableColor(t))}[we.getDefault](){return null}[we.setNative](e){const t=this.nativeViewProtected.getProgressDrawable();if(t&&t instanceof android.graphics.drawable.LayerDrawable&&t.getNumberOfLayers()>0){const n=t.getDrawable(0);n&&(e instanceof S?xe.setDrawableColor(e.android,n):xe.clearDrawableColor(n))}}[Ot.getDefault](){return null}[Ot.setNative](e){}}let mi=class extends Mn{constructor(){super(),this._isDirty=!1,this.itemsLayout=new Dh}onLoaded(){this._isDirty&&this.refresh(),super.onLoaded()}get itemTemplateSelector(){return this._itemTemplateSelector}set itemTemplateSelector(e){typeof e=="string"?(this._itemTemplateSelectorBindable||(this._itemTemplateSelectorBindable=new gi),this._itemTemplateSelectorBindable.bind({sourceProperty:null,targetProperty:"templateKey",expression:e}),this._itemTemplateSelector=(t,n,r)=>(t.$index=n,this._itemTemplateSelectorBindable.bindingContext===t&&(this._itemTemplateSelectorBindable.bindingContext=null),this._itemTemplateSelectorBindable.bindingContext=t,this._itemTemplateSelectorBindable.get("templateKey"))):typeof e=="function"&&(this._itemTemplateSelector=e)}_requestRefresh(){this._isDirty=!0,this.isLoaded&&this.refresh()}refresh(){if(this.itemsLayout&&this.itemsLayout.removeChildren(),!this.items)return;const e=this.items.length;for(let t=0;t<e;t++){const n=this._getDataItem(t);let r=null;if(this._itemTemplateSelector&&this.itemTemplates){const s=this._itemTemplateSelector(n,t,this.items),a=this.itemTemplates.length;for(let o=0;o<a;o++){const c=this.itemTemplates[o];if(c.key===s){r=c.createView();break}}}r||(r=this.itemTemplate?Ke.parse(this.itemTemplate,this):this._getDefaultItemContent(t)),r.bindingContext=n,this.itemsLayout.addChild(r)}this._isDirty=!1}_onItemsChanged(e){this._requestRefresh()}_getDefaultItemContent(e){const t=new gi;return t.bind({targetProperty:"text",sourceProperty:"$value"}),t}_getDataItem(e){const t=this.items;return t.getItem?t.getItem(e):this.items[e]}get _childrenCount(){return this.itemsLayout?1:0}eachChildView(e){this.itemsLayout&&e(this.itemsLayout)}onLayout(e,t,n,r){const s=this.getSafeAreaInsets(),a=this.effectiveBorderLeftWidth+this.effectivePaddingLeft+s.left,o=this.effectiveBorderTopWidth+this.effectivePaddingTop+s.top,c=this.effectiveBorderRightWidth+this.effectivePaddingRight+s.right,u=this.effectiveBorderBottomWidth+this.effectivePaddingBottom+s.bottom,d=a,h=o,m=n-e-c,p=r-t-u;L.layoutChild(this,this.itemsLayout,d,h,m,p)}onMeasure(e,t){const n=L.measureChild(this,this.itemsLayout,e,t),r=V.getMeasureSpecSize(e),s=V.getMeasureSpecMode(e),a=V.getMeasureSpecSize(t),o=V.getMeasureSpecMode(t),c=L.resolveSizeAndState(n.measuredWidth,r,s,0),u=L.resolveSizeAndState(n.measuredHeight,a,o,0);this.setMeasuredDimension(c,u)}};mi.knownFunctions=["itemTemplateSelector"];__decorate([N,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],mi.prototype,"onLoaded",null);mi=__decorate([ee("Repeater"),__metadata("design:paramtypes",[])],mi);mi.prototype.recycleNativeView="auto";const MT=new b({name:"itemTemplate",affectsLayout:!0,valueChanged:i=>{i._requestRefresh()}});MT.register(mi);const UT=new b({name:"itemTemplates",affectsLayout:!0,valueConverter:i=>typeof i=="string"?Ke.parseMultipleTemplates(i,null):i,valueChanged:i=>{i._requestRefresh()}});UT.register(mi);const WT=new b({name:"items",affectsLayout:!0,valueChanged:(i,e,t)=>{e instanceof $e&&bs(e,$e.changeEvent,i._onItemsChanged,i),t instanceof $e&&ur(t,$e.changeEvent,i._onItemsChanged,i),i._requestRefresh()}});WT.register(mi);const HT=new b({name:"itemsLayout",affectsLayout:!0,valueChanged:(i,e,t)=>{e&&(i._removeView(e),e.removeChildren()),t&&i._addView(t),i._requestRefresh()}});HT.register(mi);var tr;let $n=tr=class extends dc{constructor(){super(...arguments),this._addedScrollEvent=!1}addEventListener(e,t,n){const r=this.hasListeners(tr.scrollEvent);super.addEventListener(e,t,n),!r&&this.hasListeners(tr.scrollEvent)&&(this._addedScrollEvent=!0,this.nativeViewProtected&&this.attachNative())}removeEventListener(e,t,n){const r=this.hasListeners(tr.scrollEvent);super.removeEventListener(e,t,n),r&&!this.hasListeners(tr.scrollEvent)&&(this._addedScrollEvent=!1,this.nativeViewProtected&&this.detachNative())}initNativeView(){super.initNativeView(),this._addedScrollEvent&&this.attachNative()}disposeNativeView(){this._addedScrollEvent&&this.detachNative(),super.disposeNativeView()}attachNative(){}detachNative(){}get horizontalOffset(){return 0}get verticalOffset(){return 0}get scrollableWidth(){return 0}get scrollableHeight(){return 0}};$n.scrollEvent="scroll";$n=tr=__decorate([ee("ScrollView")],$n);const jT=ge(pe(E.Orientation.horizontal,E.Orientation.vertical)),$T=new b({name:"orientation",defaultValue:E.Orientation.vertical,affectsLayout:!0,valueChanged:(i,e,t)=>{i._onOrientationChanged()},valueConverter:jT});$T.register($n);const ad=new b({name:"scrollBarIndicatorVisible",defaultValue:!0,valueConverter:K});ad.register($n);const od=new b({name:"isScrollEnabled",defaultValue:!0,valueConverter:K});od.register($n);class mc extends $n{constructor(){super(...arguments),this._androidViewId=-1,this._lastScrollX=-1,this._lastScrollY=-1}get horizontalOffset(){const e=this.nativeViewProtected;return e?e.getScrollX()/V.getDisplayDensity():0}get verticalOffset(){const e=this.nativeViewProtected;return e?e.getScrollY()/V.getDisplayDensity():0}get scrollableWidth(){const e=this.nativeViewProtected;return!e||this.orientation!=="horizontal"?0:e.getScrollableLength()/V.getDisplayDensity()}get scrollableHeight(){const e=this.nativeViewProtected;return!e||this.orientation!=="vertical"?0:e.getScrollableLength()/V.getDisplayDensity()}[Xs.setNative](e){this.nativeViewProtected.setClickable(e),this.nativeViewProtected.setFocusable(e),this.nativeViewProtected.setScrollEnabled(e)}[od.getDefault](){return this.nativeViewProtected.getScrollEnabled()}[od.setNative](e){this.nativeViewProtected.setScrollEnabled(e)}[ad.getDefault](){return!0}[ad.setNative](e){this.orientation==="horizontal"?this.nativeViewProtected.setHorizontalScrollBarEnabled(e):this.nativeViewProtected.setVerticalScrollBarEnabled(e)}scrollToVerticalOffset(e,t){const n=this.nativeViewProtected;n&&this.orientation==="vertical"&&this.isScrollEnabled&&(e*=V.getDisplayDensity(),t?n.smoothScrollTo(0,e):n.scrollTo(0,e))}scrollToHorizontalOffset(e,t){const n=this.nativeViewProtected;n&&this.orientation==="horizontal"&&this.isScrollEnabled&&(e*=V.getDisplayDensity(),t?n.smoothScrollTo(e,0):n.scrollTo(e,0))}createNativeView(){if(this.orientation==="horizontal")return new org.nativescript.widgets.HorizontalScrollView(this._context);{const e=new org.nativescript.widgets.VerticalScrollView(this._context);return e.setVerticalScrollBarEnabled(!0),e}}initNativeView(){super.initNativeView(),this._androidViewId<0&&(this._androidViewId=android.view.View.generateViewId()),this.nativeViewProtected.setId(this._androidViewId)}_onOrientationChanged(){if(this.nativeViewProtected){const e=this.parent;e&&(e._removeView(this),e._addView(this))}}attachNative(){if(!this.handler){const e=new WeakRef(this);this.handler=new android.view.ViewTreeObserver.OnScrollChangedListener({onScrollChanged:function(){const t=e.get();t&&t._onScrollChanged()}}),this.nativeViewProtected.getViewTreeObserver().addOnScrollChangedListener(this.handler)}}_onScrollChanged(){const e=this.nativeViewProtected;if(e){const t=e.getScrollX(),n=e.getScrollY();(t!==this._lastScrollX||n!==this._lastScrollY)&&(this.notify({object:this,eventName:mc.scrollEvent,scrollX:t/V.getDisplayDensity(),scrollY:n/V.getDisplayDensity()}),this._lastScrollX=t,this._lastScrollY=n)}}detachNative(){this.handler&&(this.nativeViewProtected&&this.nativeViewProtected.getViewTreeObserver().removeOnScrollChangedListener(this.handler),this.handler=null)}}mc.prototype.recycleNativeView="never";let ft=class extends L{};ft.submitEvent="submit";ft.clearEvent="clear";ft=__decorate([ee("SearchBar")],ft);ft.prototype.recycleNativeView="auto";const Wo=new b({name:"text",defaultValue:"",affectsLayout:!1});Wo.register(ft);const cd=new b({name:"hint",defaultValue:""});cd.register(ft);const ld=new b({name:"textFieldHintColor",equalityComparer:S.equals,valueConverter:i=>new S(i)});ld.register(ft);const ud=new b({name:"textFieldBackgroundColor",equalityComparer:S.equals,valueConverter:i=>new S(i)});ud.register(ft);const vp=Symbol("searchText"),Cl=Symbol("query");let dd,jy;function GT(){if(!dd){var i=function(t){__extends(n,t);function n(s){var a=t.call(this)||this;return a.owner=s,global.__native(a)}n.prototype.onQueryTextChange=function(s){var a=this.owner;return Wo.nativeValueChange(a,s),s===""&&this[vp]!==s&&a._emit(ft.clearEvent),this[vp]=s,this[Cl]=void 0,!0},n.prototype.onQueryTextSubmit=function(s){var a=this.owner;return s!==""&&this[Cl]!==s&&a._emit(ft.submitEvent),this[Cl]=s,!0};var r;return n=__decorate([Interfaces([androidx.appcompat.widget.SearchView.OnQueryTextListener]),__metadata("design:paramtypes",[typeof(r=typeof ds<"u"&&ds)=="function"?r:Object])],n),n}(java.lang.Object),e=function(t){__extends(n,t);function n(s){var a=t.call(this)||this;return a.owner=s,global.__native(a)}n.prototype.onClose=function(){return this.owner._emit(ft.clearEvent),!0};var r;return n=__decorate([Interfaces([androidx.appcompat.widget.SearchView.OnCloseListener]),__metadata("design:paramtypes",[typeof(r=typeof ds<"u"&&ds)=="function"?r:Object])],n),n}(java.lang.Object);dd=i,jy=e}}function $y(i,e){if(i.setEnabled(e),i instanceof android.view.ViewGroup)for(let t=0;t<i.getChildCount();t++){const n=i.getChildAt(t);$y(n,e)}}function Gy(i,e){if(i.setClickable(e),i.setFocusable(e),i instanceof android.view.ViewGroup)for(let t=0;t<i.getChildCount();t++){const n=i.getChildAt(t);Gy(n,e)}}class ds extends ft{dismissSoftInput(){Ue.dismissSoftInput(this.nativeViewProtected)}focus(){const e=super.focus();return e&&Ue.showSoftInput(this.nativeViewProtected),e}createNativeView(){const e=new androidx.appcompat.widget.SearchView(this._context);return e.setIconified(!1),e}initNativeView(){super.initNativeView();const e=this.nativeViewProtected;GT();const t=new dd(this);e.setOnQueryTextListener(t),e.queryTextListener=t;const n=new jy(this);e.setOnCloseListener(n),e.closeListener=n}disposeNativeView(){const e=this.nativeViewProtected;e.closeListener&&(e.closeListener.owner=null),e.queryTextListener&&(e.queryTextListener.owner=null),this._searchPlate=null,this._searchTextView=null,super.disposeNativeView()}[lc.setNative](e){$y(this.nativeViewProtected,e)}[Xs.setNative](e){Gy(this.nativeViewProtected,e)}[we.getDefault](){return this.nativeViewProtected.getDrawingCacheBackgroundColor()}[we.setNative](e){let t;typeof e=="number"?t=e:t=e.android,this.nativeViewProtected.setBackgroundColor(t),this._getSearchPlate().setBackgroundColor(t)}[Te.getDefault](){return this._getTextView().getCurrentTextColor()}[Te.setNative](e){const t=typeof e=="number"?e:e.android;this._getTextView().setTextColor(t)}[ct.getDefault](){return{nativeSize:this._getTextView().getTextSize()}}[ct.setNative](e){typeof e=="number"?this._getTextView().setTextSize(e):this._getTextView().setTextSize(android.util.TypedValue.COMPLEX_UNIT_PX,e.nativeSize)}[Dt.getDefault](){return this._getTextView().getTypeface()}[Dt.setNative](e){this._getTextView().setTypeface(e instanceof ie?e.getAndroidTypeface():e)}[Ot.getDefault](){return null}[Ot.setNative](e){}[Wo.getDefault](){return""}[Wo.setNative](e){const t=e==null?"":e.toString();this.nativeViewProtected.setQuery(t,!1)}[cd.getDefault](){return null}[cd.setNative](e){e==null?this.nativeViewProtected.setQueryHint(null):this.nativeViewProtected.setQueryHint(e.toString())}[ud.getDefault](){return this._getTextView().getBackground()}[ud.setNative](e){const t=this._getTextView();e instanceof S?t.setBackgroundColor(e.android):t.setBackground(e)}[ld.getDefault](){return this._getTextView().getCurrentTextColor()}[ld.setNative](e){const t=this._getTextView(),n=e instanceof S?e.android:e;t.setHintTextColor(n)}_getTextView(){if(!this._searchTextView){const e=this.nativeViewProtected.getContext().getPackageName(),t=this.nativeViewProtected.getContext().getResources().getIdentifier("search_src_text","id",e);this._searchTextView=this.nativeViewProtected.findViewById(t)}return this._searchTextView}_getSearchPlate(){if(!this._searchPlate){const e=this.nativeViewProtected.getContext().getPackageName(),t=this.nativeViewProtected.getContext().getResources().getIdentifier("search_plate","id",e);this._searchPlate=this.nativeViewProtected.findViewById(t)}return this._searchPlate}}let hd=class extends W{constructor(){super(...arguments),this._title=""}get title(){return this._title}set title(e){const t=e!=null?e.toString():"";this._title!==t&&(this._title=t,this._update())}};hd=__decorate([ee("SegmentedBarItem")],hd);let dn=class extends L{get selectedBackgroundColor(){return this.style.selectedBackgroundColor}set selectedBackgroundColor(e){this.style.selectedBackgroundColor=e}get selectedTextColor(){return this.style.selectedTabTextColor}set selectedTextColor(e){this.style.selectedTabTextColor=e}_addArrayFromBuilder(e,t){e==="items"&&(this.items=t)}_addChildFromBuilder(e,t){if(e==="SegmentedBarItem"){const n=t;let r=this.items;r?(r.push(n),this._addView(n)):(r=new Array,r.push(n),this.items=r),this.nativeViewProtected&&this[Ho.setNative](r)}}onItemsChanged(e,t){if(e)for(let n=0,r=e.length;n<r;n++)this._removeView(e[n]);if(t)for(let n=0,r=t.length;n<r;n++)this._addView(t[n])}eachChild(e){const t=this.items;t&&t.forEach((n,r)=>{e(n)})}};dn.selectedIndexChangedEvent="selectedIndexChanged";dn=__decorate([ee("SegmentedBar")],dn);dn.prototype.recycleNativeView="auto";const Aa=new hn({name:"selectedIndex",defaultValue:-1,valueChanged:(i,e,t)=>{i.notify({eventName:dn.selectedIndexChangedEvent,object:i,oldIndex:e,newIndex:t})},coerceValue:(i,e)=>{const t=i.items;if(t){const n=t.length-1;e<0&&(e=0),e>n&&(e=n)}else e=-1;return e},valueConverter:i=>parseInt(i)});Aa.register(dn);const Ho=new b({name:"items",valueChanged:(i,e,t)=>{i.onItemsChanged(e,t)}});Ho.register(dn);const fd=new He({name:"selectedBackgroundColor",cssName:"selected-background-color",equalityComparer:S.equals,defaultValue:new S("blue"),valueConverter:i=>new S(i)});fd.register(T);const zT=new He({name:"selectedTextColor",cssName:"selected-text-color",equalityComparer:S.equals,defaultValue:new S("black"),valueConverter:i=>new S(i)});zT.register(T);const qT=16908307,XT=16908305,YT=16842913,KT=16908310;let zy,qy,pd,Xy;function QT(){if(!pd){zy=V.toDevicePixels(G>=21?2:5);var i=function(n){__extends(r,n);function r(a){var o=n.call(this)||this;return o.owner=a,global.__native(o)}r.prototype.onTabChanged=function(a){var o=this.owner;o&&(setTimeout(function(){o.setTabColor(a)}),o.shouldChangeSelectedIndex()&&(o.selectedIndex=parseInt(a)))};var s;return r=__decorate([Interfaces([android.widget.TabHost.OnTabChangeListener]),__metadata("design:paramtypes",[typeof(s=typeof hs<"u"&&hs)=="function"?s:Object])],r),r}(java.lang.Object),e=function(n){__extends(r,n);function r(a){var o=n.call(this)||this;return o.owner=a,global.__native(o)}r.prototype.createTabContent=function(a){var o=new android.widget.TextView(this.owner._context);return o.setVisibility(android.view.View.GONE),o.setMaxLines(1),o.setEllipsize(android.text.TextUtils.TruncateAt.END),o};var s;return r=__decorate([Interfaces([android.widget.TabHost.TabContentFactory]),__metadata("design:paramtypes",[typeof(s=typeof hs<"u"&&hs)=="function"?s:Object])],r),r}(java.lang.Object),t=function(n){__extends(r,n);function r(s,a){var o=n.call(this,s,a)||this;return global.__native(o)}return r.prototype.onAttachedToWindow=function(){},r}(android.widget.TabHost);qy=t,pd=i,Xy=e}}class ZT extends hd{setupNativeView(e){const t=this.parent.nativeViewProtected.getTabWidget().getChildAt(e).findViewById(KT);this.setNativeView(t),t&&this.titleDirty&&this._update()}_update(){const e=this.nativeViewProtected;if(e){let t=this.title;t=t??"",e.setText(t),this.titleDirty=!1}else this.titleDirty=!0}[Te.getDefault](){return this.nativeViewProtected.getCurrentTextColor()}[Te.setNative](e){const t=e instanceof S?e.android:e;this.nativeViewProtected.setTextColor(t)}[ct.getDefault](){return{nativeSize:this.nativeViewProtected.getTextSize()}}[ct.setNative](e){typeof e=="number"?this.nativeViewProtected.setTextSize(e):this.nativeViewProtected.setTextSize(android.util.TypedValue.COMPLEX_UNIT_PX,e.nativeSize)}[Dt.getDefault](){return this.nativeViewProtected.getTypeface()}[Dt.setNative](e){this.nativeViewProtected.setTypeface(e instanceof ie?e.getAndroidTypeface():e)}[fd.getDefault](){return this.nativeViewProtected.getParent().getBackground()}[fd.setNative](e){const t=this.nativeViewProtected,n=t.getParent();if(e instanceof S){const r=e.android,s=n.getBackground();if(G>21&&s){const a=xe.getCopyOrDrawable(s,t.getResources());xe.setDrawableColor(r,a),n.setBackground(a)}else{const a=new android.graphics.drawable.StateListDrawable,o=new org.nativescript.widgets.SegmentedBarColorDrawable(r,zy),c=Array.create("int",1);c[0]=YT,a.addState(c,o),a.setBounds(0,15,n.getRight(),n.getBottom()),n.setBackground(a)}}else{const r=xe.getCopyOrDrawable(e,t.getResources());n.setBackground(r)}}}class hs extends dn{shouldChangeSelectedIndex(){return!this._addingTab}createNativeView(){QT();const e=this._context,t=new qy(e,null),n=new android.widget.LinearLayout(e);n.setOrientation(android.widget.LinearLayout.VERTICAL);const r=new android.widget.TabWidget(e);r.setId(qT),n.addView(r);const s=new android.widget.FrameLayout(e);return s.setId(XT),s.setVisibility(android.view.View.GONE),n.addView(s),t.addView(n),t}initNativeView(){super.initNativeView();const e=this.nativeViewProtected,t=new pd(this);e.setOnTabChangedListener(t),e.listener=t,e.setup(),this._tabContentFactory=this._tabContentFactory||new Xy(this)}disposeNativeView(){const e=this.nativeViewProtected;e!=null&&e.listener&&(e.listener.owner=null),super.disposeNativeView()}onLoaded(){super.onLoaded();const e=this.nativeViewProtected.getTabWidget();e&&e.setEnabled(e.isEnabled())}insertTab(e,t){const n=this.nativeViewProtected,r=n.newTabSpec(t+"");r.setIndicator(e.title+""),r.setContent(this._tabContentFactory),this._addingTab=!0,n.addTab(r),e.setupNativeView(t),this._addingTab=!1}[Aa.getDefault](){return-1}[Aa.setNative](e){this.nativeViewProtected.setCurrentTab(e)}[Ho.getDefault](){return null}[Ho.setNative](e){this.nativeViewProtected.clearAllTabs();const t=e;t&&t.forEach((n,r,s)=>this.insertTab(n,r)),Aa.coerce(this)}[lc.setNative](e){const t=this.nativeViewProtected.getTabWidget();t&&t.setEnabled(e)}setTabColor(e){var t;try{const n=(t=this.nativeViewProtected)==null?void 0:t.getTabWidget();if(n){const r=this.getColorForAndroid(this.color??"#6e6e6e"),s=this.getColorForAndroid((this==null?void 0:this.selectedTextColor)??"#000000"),a=this.getColorForAndroid((this==null?void 0:this.backgroundColor)??"#dbdbdb"),o=this.getColorForAndroid((this==null?void 0:this.selectedBackgroundColor)??(this==null?void 0:this.backgroundColor)??"blue");if(n)for(let c=0;c<n.getTabCount();c++){const u=n.getChildTabViewAt(c),d=this.items[c],h=d==null?void 0:d.nativeViewProtected;if(u.setBackgroundColor(a),h&&h.setTextColor(r),e==c){u.setBackgroundColor(o),h&&h.setTextColor(s);continue}}}}catch(n){l.error(n)}}getColorForAndroid(e){if(typeof e=="string")return new S(e).android;if(e instanceof S)return e.android}}let Wi=class extends L{constructor(){super(...arguments),this.accessibilityRole=le.Adjustable}get accessibilityStep(){return this.style.accessibilityStep}set accessibilityStep(e){this.style.accessibilityStep=e}};Wi.accessibilityIncrementEvent="accessibilityIncrement";Wi.accessibilityDecrementEvent="accessibilityDecrement";Wi=__decorate([ee("Slider")],Wi);Wi.prototype.recycleNativeView="auto";const Js=new hn({name:"value",defaultValue:0,coerceValue:(i,e)=>(e=Math.max(e,i.minValue),e=Math.min(e,i.maxValue),e),valueConverter:i=>parseInt(i)});Js.register(Wi);const Yy=new b({name:"minValue",defaultValue:0,valueChanged:(i,e,t)=>{jo.coerce(i),Js.coerce(i)},valueConverter:i=>parseInt(i)});Yy.register(Wi);const jo=new hn({name:"maxValue",defaultValue:100,coerceValue:(i,e)=>{const t=i.minValue;return e<t&&(e=t),e},valueChanged:(i,e,t)=>Js.coerce(i),valueConverter:i=>parseInt(i)});jo.register(Wi);let bl,gd;function JT(){if(!gd){var i=function(e){__extends(t,e);function t(){var n=e.call(this)||this;return global.__native(n)}return t.prototype.onProgressChanged=function(n,r,s){var a=n.owner;if(a&&!a._supressNativeValue){var o=r+a.minValue;Js.nativeValueChange(a,o)}},t.prototype.onStartTrackingTouch=function(n){},t.prototype.onStopTrackingTouch=function(n){},t=__decorate([Interfaces([android.widget.SeekBar.OnSeekBarChangeListener]),__metadata("design:paramtypes",[])],t),t}(java.lang.Object);gd=new i}}function eE(){return gd}class tE extends Wi{createNativeView(){return bl||(bl=android.widget.SeekBar),new bl(this._context)}initNativeView(){super.initNativeView();const e=this.nativeViewProtected;e.owner=this,JT();const t=eE();e.setOnSeekBarChangeListener(t)}disposeNativeView(){this.nativeViewProtected.owner=null,super.disposeNativeView()}resetNativeView(){super.resetNativeView();const e=this.nativeViewProtected;e.setMax(100),e.setProgress(0),e.setKeyProgressIncrement(1)}setNativeValuesSilently(){this._supressNativeValue=!0;const e=this.nativeViewProtected;try{e.setMax(this.maxValue-this.minValue),e.setProgress(this.value-this.minValue)}finally{this._supressNativeValue=!1}}[Js.setNative](e){this.setNativeValuesSilently()}[Yy.setNative](e){this.setNativeValuesSilently()}[jo.getDefault](){return 100}[jo.setNative](e){this.setNativeValuesSilently()}[Te.getDefault](){return-1}[Te.setNative](e){const t=this.nativeViewProtected.getThumb();e instanceof S?xe.setDrawableColor(e.android,t):xe.clearDrawableColor(t)}[we.getDefault](){return-1}[we.setNative](e){const t=this.nativeViewProtected.getProgressDrawable();e instanceof S?xe.setDrawableColor(e.android,t):xe.clearDrawableColor(t)}[Ot.getDefault](){return null}[Ot.setNative](e){}}const iE=Object.freeze({ease:E.AnimationCurve.ease,linear:E.AnimationCurve.linear,"ease-in":E.AnimationCurve.easeIn,"ease-out":E.AnimationCurve.easeOut,"ease-in-out":E.AnimationCurve.easeInOut,spring:E.AnimationCurve.spring});function md(i){let e=parseFloat(i);return i.indexOf("ms")===-1&&(e=e*1e3),Math.max(0,e)}function Bh(i){return i?iE[i]||nE(i):E.AnimationCurve.ease}function nE(i){const e=/\((.*?)\)/.exec(i),t=e&&e[1].split(",").map(rE);if(i.startsWith("cubic-bezier")&&e&&t.length===4){const[n,r,s,a]=[...t];return E.AnimationCurve.cubicBezier(n,r,s,a)}else throw new Error(`Invalid value for animation: ${i}`)}function rE(i){const e=parseFloat(i);return e<0?0:e>1?1:e}const Zi=Object.freeze({"animation-name":(i,e)=>i.name=e.replace(/['"]/g,""),"animation-duration":(i,e)=>i.duration=md(e),"animation-delay":(i,e)=>i.delay=md(e),"animation-timing-function":(i,e)=>i.curve=Bh(e),"animation-iteration-count":(i,e)=>i.iterations=e==="infinite"?Number.POSITIVE_INFINITY:parseFloat(e),"animation-direction":(i,e)=>i.isReverse=e==="reverse","animation-fill-mode":(i,e)=>i.isForwards=e==="forwards"||e==="both"});class sE{static keyframeAnimationsFromCSSDeclarations(e){if(e==null)return;const t=new Array;let n;return e.forEach(({property:r,value:s})=>{if(r==="animation")aE(s,t);else{const a=Zi[r];a&&(n===void 0&&(n=new uh,t.push(n)),a(n,s))}}),t.length===0?void 0:t}static keyframesArrayFromCSS(e){const t=new Array;for(const r of e){const s=Ky(r.declarations);for(let a of r.values){a==="from"?a=0:a==="to"?a=1:(a=parseFloat(a)/100,a<0&&(a=0),a>100&&(a=100));let o=t[a];o===void 0&&(o={},o.duration=a,o.declarations=[],t[a]=o);for(const c of r.declarations)c.property==="animation-timing-function"&&(o.curve=Bh(c.value));o.declarations=o.declarations.concat(s)}}const n=[];for(const r in t)n.push(t[r]);return n.sort(function(r,s){return r.duration-s.duration}),n}}function aE(i,e){if(typeof i!="string"||i.trim().length===0)return;const t=/\s(?![^(]*\))/,n=/,(?![^(]*\))/,r=h=>!!h.match(/\dm?s$/g),s=h=>!!h.match(/ease|linear|ease-in|ease-out|ease-in-out|spring|cubic-bezier/g),a=h=>!!h.match(/infinite|[\d.]+$/g),o=h=>!!h.match(/normal|reverse|alternate|alternate-reverse/g),c=h=>!!h.match(/none|forwards|backwards|both/g),u=h=>!!h.match(/running|paused/g),d=i.split(n);for(const h of d){const m=new uh,p=h.trim().split(t),[g,v]=p.filter(r),[y]=p.filter(s),[A]=p.filter(a),[P]=p.filter(o),[I]=p.filter(c),[w]=p.filter(u),[k]=p.filter(F=>![g,v,y,A,P,I,w].filter(Boolean).includes(F));g&&Zi["animation-duration"](m,g),v&&Zi["animation-delay"](m,v),y&&Zi["animation-timing-function"](m,y),A&&Zi["animation-iteration-count"](m,A),P&&Zi["animation-direction"](m,P),I&&Zi["animation-fill-mode"](m,I),k&&Zi["animation-name"](m,k),e.push(m)}}function Ky(i){const e=i.reduce((t,{property:n,value:r})=>{const s=Ne._getByCssName(n);if(r=Zg(r,s==null?void 0:s.cssLocalName),typeof n=="string"&&(s!=null&&s._valueConverter))t[s.name]=s._valueConverter(r);else if(n==="transform"){const a=ih(r);Object.assign(t,a)}return t},{});return Object.keys(e).map(t=>({property:t,value:e[t]}))}let Gn=class extends L{_onCheckedPropertyChanged(e){e?this.addPseudoClass("checked"):this.deletePseudoClass("checked")}};Gn.checkedChangeEvent="checkedChange";Gn=__decorate([ee("Switch")],Gn);Gn.prototype.recycleNativeView="auto";function oE(i,e,t){i._onCheckedPropertyChanged(t)}const $o=new b({name:"checked",defaultValue:!1,valueConverter:K,valueChanged:oE});$o.register(Gn);const yd=new b({name:"offBackgroundColor",equalityComparer:S.equals,valueConverter:i=>new S(i)});yd.register(Gn);let vd;function cE(){if(!vd){var i=function(e){__extends(t,e);function t(r){var s=e.call(this)||this;return s.owner=r,global.__native(s)}t.prototype.onCheckedChanged=function(r,s){var a=this.owner;$o.nativeValueChange(a,s)};var n;return t=__decorate([Interfaces([android.widget.CompoundButton.OnCheckedChangeListener]),__metadata("design:paramtypes",[typeof(n=typeof wd<"u"&&wd)=="function"?n:Object])],t),t}(java.lang.Object);vd=i}}class wd extends Gn{createNativeView(){return new android.widget.Switch(this._context)}initNativeView(){super.initNativeView();const e=this.nativeViewProtected;cE();const t=new vd(this);e.setOnCheckedChangeListener(t),e.listener=t}disposeNativeView(){const e=this.nativeViewProtected;e.listener&&(e.listener.owner=null),super.disposeNativeView()}setNativeBackgroundColor(e){if(this.nativeViewProtected){const t=this.nativeViewProtected.getTrackDrawable();e instanceof S?xe.setDrawableColor(e.android,t,androidx.core.graphics.BlendModeCompat.SRC_OVER):xe.clearDrawableColor(t)}}_onCheckedPropertyChanged(e){super._onCheckedPropertyChanged(e),this.offBackgroundColor&&(e?this.setNativeBackgroundColor(this.backgroundColor):this.setNativeBackgroundColor(this.offBackgroundColor))}[$o.getDefault](){return!1}[$o.setNative](e){this.nativeViewProtected.setChecked(e)}[Te.getDefault](){return-1}[Te.setNative](e){const t=this.nativeViewProtected.getThumbDrawable();e instanceof S?xe.setDrawableColor(e.android,t,androidx.core.graphics.BlendModeCompat.SRC_ATOP):xe.clearDrawableColor(t)}[we.getDefault](){return-1}[we.setNative](e){(!this.offBackgroundColor||this.checked)&&this.setNativeBackgroundColor(e)}[Ot.getDefault](){return null}[Ot.setNative](e){}[yd.getDefault](){return-1}[yd.setNative](e){this.checked||this.setNativeBackgroundColor(e)}}var _d;const Cd="TabView";let Go=class extends W{constructor(){super(...arguments),this._title=""}get textTransform(){return this.style.textTransform}set textTransform(e){this.style.textTransform=e}_addChildFromBuilder(e,t){t instanceof L&&(this.view=t)}get title(){return this._title}set title(e){this._title!==e&&(this._title=e,this._update())}get view(){return this._view}set view(e){if(this._view!==e){if(this._view)throw new Error("Changing the view of an already loaded TabViewItem is not currently supported.");this._view=e,this._addView(e)}}get iconSource(){return this._iconSource}set iconSource(e){this._iconSource!==e&&(this._iconSource=e,this._update())}eachChild(e){const t=this._view;t&&e(t)}loadView(e){const t=this.parent;t&&t.items&&this.canBeLoaded&&super.loadView(e)}};Go=__decorate([ee("TabViewItem")],Go);let Kt=_d=class extends L{get androidSelectedTabHighlightColor(){return this.style.androidSelectedTabHighlightColor}set androidSelectedTabHighlightColor(e){this.style.androidSelectedTabHighlightColor=e}get tabTextFontSize(){return this.style.tabTextFontSize}set tabTextFontSize(e){this.style.tabTextFontSize=e}get tabTextColor(){return this.style.tabTextColor}set tabTextColor(e){this.style.tabTextColor=e}get tabBackgroundColor(){return this.style.tabBackgroundColor}set tabBackgroundColor(e){this.style.tabBackgroundColor=e}get selectedTabTextColor(){return this.style.selectedTabTextColor}set selectedTabTextColor(e){this.style.selectedTabTextColor=e}_addArrayFromBuilder(e,t){e==="items"&&(this.items=t)}_addChildFromBuilder(e,t){t instanceof Go&&(this.items||(this.items=new Array),this.items.push(t),this._addView(t),zo.coerce(this))}get _selectedView(){const e=this.selectedIndex;return e>-1?this.items[e].view:null}get _childrenCount(){const e=this.items;return e?e.length:0}eachChild(e){const t=this.items;t&&t.forEach((n,r)=>{e(n)})}eachChildView(e){const t=this.items;t&&t.forEach((n,r)=>{e(n.view)})}onItemsChanged(e,t){e&&e.forEach(n=>this._removeView(n)),t&&t.forEach(n=>{if(!n.view)throw new Error("TabViewItem must have a view.");this._addView(n)})}onSelectedIndexChanged(e,t){this.notify({eventName:_d.selectedIndexChangedEvent,object:this,oldIndex:e,newIndex:t})}};Kt.selectedIndexChangedEvent="selectedIndexChanged";Kt=_d=__decorate([ee("TabView")],Kt);function wp(i){l.write("Could not load tab bar icon: "+i,l.categories.Error,l.messageType.error)}const zo=new hn({name:"selectedIndex",defaultValue:-1,affectsLayout:!1,valueChanged:(i,e,t)=>{i.onSelectedIndexChanged(e,t)},coerceValue:(i,e)=>{const t=i.items;if(t){const n=t.length-1;e<0&&(e=0),e>n&&(e=n)}else e=-1;return e},valueConverter:i=>parseInt(i)});zo.register(Kt);const bd=new b({name:"items",valueChanged:(i,e,t)=>{i.onItemsChanged(e,t)}});bd.register(Kt);const lE=new b({name:"iosIconRenderingMode",defaultValue:"automatic"});lE.register(Kt);const xd=new b({name:"androidIconRenderingMode",defaultValue:"alwaysOriginal"});xd.register(Kt);const Sd=new b({name:"androidOffscreenTabLimit",defaultValue:1,affectsLayout:!1,valueConverter:i=>parseInt(i)});Sd.register(Kt);const uE=new b({name:"androidTabsPosition",defaultValue:"top"});uE.register(Kt);const dE=new b({name:"androidSwipeEnabled",defaultValue:!0,valueConverter:K});dE.register(Kt);const Td=new R({name:"tabTextFontSize",cssName:"tab-text-font-size",valueConverter:i=>parseFloat(i)});Td.register(T);const Ed=new R({name:"tabTextColor",cssName:"tab-text-color",equalityComparer:S.equals,valueConverter:i=>new S(i)});Ed.register(T);const Pd=new R({name:"tabBackgroundColor",cssName:"tab-background-color",equalityComparer:S.equals,valueConverter:i=>new S(i)});Pd.register(T);const Vd=new R({name:"selectedTabTextColor",cssName:"selected-tab-text-color",equalityComparer:S.equals,valueConverter:i=>new S(i)});Vd.register(T);const Ad=new R({name:"androidSelectedTabHighlightColor",cssName:"android-selected-tab-highlight-color",equalityComparer:S.equals,valueConverter:i=>new S(i)});Ad.register(T);const hE="colorAccent",fE="colorPrimary",pE=4,_p="_tabId",Cp="_index";let Id,Nd;function gE(i,e){return"android:viewpager:"+i+":"+e}function mE(i){const e=Zy.find(t=>{const n=t.get();return n&&n._domId===i});return e&&e.get()}function yE(){if(Id)return;var i=function(r){__extends(s,r);function s(){var a=r.call(this)||this;return a.backgroundBitmap=null,global.__native(a)}return s.newInstance=function(a,o){var c=new android.os.Bundle;c.putInt(_p,a),c.putInt(Cp,o);var u=new s;return u.setArguments(c),u},s.prototype.onCreate=function(a){r.prototype.onCreate.call(this,a);var o=this.getArguments();if(this.owner=mE(o.getInt(_p)),this.index=o.getInt(Cp),!this.owner)throw new Error("Cannot find TabView")},s.prototype.onCreateView=function(a,o,c){var u=this.owner.items[this.index];return u.view.nativeViewProtected},s.prototype.onDestroyView=function(){var a=this.getRemovingParentFragment();if(a&&this.owner.selectedIndex===this.index){var o=new android.graphics.drawable.BitmapDrawable(Nd,this.backgroundBitmap);this.owner._originalBackground=this.owner.backgroundColor||new S("White"),this.owner.nativeViewProtected.setBackground(o),this.backgroundBitmap=null}r.prototype.onDestroyView.call(this)},s.prototype.onPause=function(){var a=this.getRemovingParentFragment();a&&this.owner.selectedIndex===this.index&&(this.backgroundBitmap=this.loadBitmapFromView(this.owner.nativeViewProtected)),r.prototype.onPause.call(this)},s.prototype.loadBitmapFromView=function(a){a.setDrawingCacheEnabled(!0);var o=android.graphics.Bitmap.createBitmap(a.getDrawingCache());return a.setDrawingCacheEnabled(!1),o},s}(org.nativescript.widgets.FragmentBase);const e=-1,t=-2;var n=function(r){__extends(s,r);function s(a){var o=r.call(this)||this;return o.owner=a,o.transactionRunning=!1,global.__native(o)}return s.prototype.getCount=function(){var a=this.items;return a?a.length:0},s.prototype.getPageTitle=function(a){var o=this.items;return a<0||a>=o.length?"":o[a].title},s.prototype.startUpdate=function(a){if(a.getId()===android.view.View.NO_ID)throw new Error("ViewPager with adapter ".concat(this," requires a view containerId"))},s.prototype.instantiateItem=function(a,o){var c=this.owner._getFragmentManager();this.mCurTransaction||(this.mCurTransaction=c.beginTransaction());var u=this.getItemId(o),d=gE(a.getId(),u),h=c.findFragmentByTag(d);h!=null?this.mCurTransaction.attach(h):(h=i.newInstance(this.owner._domId,o),this.mCurTransaction.add(a.getId(),h,d)),h!==this.mCurrentPrimaryItem&&(h.setMenuVisibility(!1),h.setUserVisibleHint(!1));var m=this.owner.items,p=m?m[o]:null;return p&&(p.canBeLoaded=!0),h},s.prototype.getItemPosition=function(a){return this.items?e:t},s.prototype.destroyItem=function(a,o,c){if(!this.mCurTransaction){var u=this.owner._getFragmentManager();this.mCurTransaction=u.beginTransaction()}var d=c;this.mCurTransaction.detach(d),this.mCurrentPrimaryItem===d&&(this.mCurrentPrimaryItem=null);var h=this.owner.items,m=h?h[o]:null;m&&(m.canBeLoaded=!1)},s.prototype.setPrimaryItem=function(a,o,c){var u=c;if(u!==this.mCurrentPrimaryItem){this.mCurrentPrimaryItem!=null&&(this.mCurrentPrimaryItem.setMenuVisibility(!1),this.mCurrentPrimaryItem.setUserVisibleHint(!1)),u!=null&&(u.setMenuVisibility(!0),u.setUserVisibleHint(!0)),this.mCurrentPrimaryItem=u,this.owner.selectedIndex=o;var d=this.owner,h=d.items,m=h?h[o]:null;m&&d._loadUnloadTabItems(d.selectedIndex)}},s.prototype.finishUpdate=function(a){this._commitCurrentTransaction()},s.prototype.isViewFromObject=function(a,o){return o.getView()===a},s.prototype.saveState=function(){return this._commitCurrentTransaction(),null},s.prototype.restoreState=function(a,o){},s.prototype.getItemId=function(a){return a},s.prototype._commitCurrentTransaction=function(){this.mCurTransaction!=null&&!this.transactionRunning&&(this.transactionRunning=!0,this.mCurTransaction.commitNowAllowingStateLoss(),this.transactionRunning=!1,this.mCurTransaction=null)},s}(androidx.viewpager.widget.PagerAdapter);Id=n,Nd=x.android.context.getResources()}function Qy(i){const e=new org.nativescript.widgets.TabItemSpec;if(e.title=i.title,i.iconSource)if(i.iconSource.indexOf(Yt)===0)e.iconId=Ue.resources.getDrawableId(i.iconSource.substr(Yt.length)),e.iconId===0&&wp(i.iconSource);else{const t=Y.fromFileOrResourceSync(i.iconSource);t?e.iconDrawable=new android.graphics.drawable.BitmapDrawable(Nd,t.android):wp(i.iconSource)}return e}let xl;function bp(i){return xl===void 0&&(xl=Ue.resources.getPaletteColor(hE,i)||4281578981),xl}class vE extends Go{get _hasFragments(){return!0}initNativeView(){super.initNativeView(),this.nativeViewProtected&&(this._defaultTransformationMethod=this.nativeViewProtected.getTransformationMethod())}onLoaded(){super.onLoaded()}resetNativeView(){super.resetNativeView(),this.nativeViewProtected&&this.nativeViewProtected.setTransformationMethod(this._defaultTransformationMethod)}disposeNativeView(){this.canBeLoaded=!1,super.disposeNativeView()}createNativeView(){return this.nativeViewProtected}_update(){const e=this.nativeViewProtected,t=this.parent;e&&t&&(this.tabItemSpec=Qy(this),t.updateAndroidItemAt(this.index,this.tabItemSpec))}_getChildFragmentManager(){const e=this.parent;let t=null;const r=e._getFragmentManager().getFragments().toArray();for(let s=0;s<r.length;s++)if(r[s].index===this.index){t=r[s];break}return t?t.getChildFragmentManager():(l.isEnabled()&&l.write(`Could not get child fragment manager for tab item with index ${this.index}`,Cd),e._getRootFragmentManager())}[ct.getDefault](){return{nativeSize:this.nativeViewProtected.getTextSize()}}[ct.setNative](e){typeof e=="number"?this.nativeViewProtected.setTextSize(e):this.nativeViewProtected.setTextSize(android.util.TypedValue.COMPLEX_UNIT_PX,e.nativeSize)}[Dt.getDefault](){return this.nativeViewProtected.getTypeface()}[Dt.setNative](e){this.nativeViewProtected.setTypeface(e instanceof ie?e.getAndroidTypeface():e)}[Pr.getDefault](){return"default"}[Pr.setNative](e){const t=this.nativeViewProtected;if(e==="default")t.setTransformationMethod(this._defaultTransformationMethod),t.setText(this.title);else{const n=Ys(this.title,e);t.setText(n),t.setTransformationMethod(null)}}}function wE(i,e){const t=androidx.core.view.ViewCompat;if(t.setElevation){const n=pE*V.getDisplayDensity();t.setElevation(i,n),t.setElevation(e,n)}}const Zy=new Array;function _E(i,e,t,n){const r=Math.max(0,i-e),s=Math.min(i+e,t);for(let a=r;a<=s;a++)n(a)}class CE extends Kt{constructor(){super(),this._androidViewId=-1,Zy.push(new WeakRef(this))}get _hasFragments(){return!0}onItemsChanged(e,t){super.onItemsChanged(e,t),e&&e.forEach((n,r,s)=>{n.index=0,n.tabItemSpec=null,n.setNativeView(null)})}createNativeView(){yE(),l.isEnabled()&&l.write("TabView._createUI("+this+");",Cd);const e=this._context,t=new org.nativescript.widgets.GridLayout(e),n=new org.nativescript.widgets.TabViewPager(e),r=new org.nativescript.widgets.TabLayout(e),s=new org.nativescript.widgets.CommonLayoutParams,a=Ue.resources.getPaletteColor(fE,e);let o=bp(e);s.row=1,this.androidTabsPosition==="top"?(t.addRowsFromJSON(JSON.stringify([{value:1,type:0},{value:1,type:2}])),n.setLayoutParams(s),this.androidSwipeEnabled||n.setSwipePageEnabled(!1)):(t.addRowsFromJSON(JSON.stringify([{value:1,type:2},{value:1,type:0}])),r.setLayoutParams(s),n.setSwipePageEnabled(!1),o=16777215),t.addView(n),t.viewPager=n;const c=new Id(this);return n.setAdapter(c),n.adapter=c,t.addView(r),t.tabLayout=r,wE(t,r),o&&r.setSelectedIndicatorColors([o]),a&&r.setBackgroundColor(a),t}initNativeView(){super.initNativeView(),this._androidViewId<0&&(this._androidViewId=android.view.View.generateViewId());const e=this.nativeViewProtected;this._tabLayout=e.tabLayout;const t=e.viewPager;t.setId(this._androidViewId),this._viewPager=t,this._pagerAdapter=t.adapter,this._pagerAdapter.owner=this}_loadUnloadTabItems(e){const t=this.items;if(!t)return;const n=t.length-1,r=this.androidTabsPosition==="top"?this.androidOffscreenTabLimit:1,s=[],a=[];_E(e,r,n,u=>a.push(u)),t.forEach((u,d)=>{a.indexOf(d)<0&&s.push(d)}),s.forEach(u=>{const d=t[u];t[u]&&d.unloadView(d.view)});const o=t[e],c=o&&o.view;c instanceof di&&c._pushInFrameStackRecursive(),a.forEach(u=>{const d=t[u];this.isLoaded&&t[u]&&d.loadView(d.view)})}onLoaded(){super.onLoaded(),this._originalBackground&&(this.backgroundColor=null,this.backgroundColor=this._originalBackground,this._originalBackground=null),this.setAdapterItems(this.items)}onUnloaded(){super.onUnloaded(),this.setAdapterItems(null)}disposeNativeView(){this._tabLayout.setItems(null,null),this._pagerAdapter.owner=null,this._pagerAdapter=null,this._tabLayout=null,this._viewPager=null,super.disposeNativeView()}_onRootViewReset(){super._onRootViewReset(),this.disposeCurrentFragments()}disposeCurrentFragments(){const e=this._getFragmentManager(),t=e.beginTransaction(),n=e.getFragments().toArray();for(let r=0;r<n.length;r++)t.remove(n[r]);t.commitNowAllowingStateLoss()}shouldUpdateAdapter(e){if(!this._pagerAdapter)return!1;const t=this._pagerAdapter.items;return!e&&!t?!1:!e||!t||e.length!==t.length||t.filter(r=>!!e.filter(s=>s._domId===r._domId)[0]).length!==e.length}setAdapterItems(e){if(this.shouldUpdateAdapter(e)){if(this._pagerAdapter.items=e,(e?e.length:0)===0){this._tabLayout.setItems(null,null),this._pagerAdapter.notifyDataSetChanged();return}const n=new Array;e.forEach((s,a,o)=>{const c=Qy(s);s.index=a,s.tabItemSpec=c,n.push(c)});const r=this._tabLayout;r.setItems(n,this._viewPager),e.forEach((s,a,o)=>{const c=r.getTextViewForItemAt(a);s.setNativeView(c)}),this._pagerAdapter.notifyDataSetChanged()}}getNativeRenderingMode(e){switch(e){case"alwaysTemplate":return org.nativescript.widgets.TabIconRenderingMode.template;default:case"alwaysOriginal":return org.nativescript.widgets.TabIconRenderingMode.original}}updateAndroidItemAt(e,t){this._tabLayout.updateItemAt(e,t)}[Sd.getDefault](){return this._viewPager.getOffscreenPageLimit()}[Sd.setNative](e){this._viewPager.setOffscreenPageLimit(e)}[xd.getDefault](){return"alwaysOriginal"}[xd.setNative](e){this._tabLayout.setIconRenderingMode(this.getNativeRenderingMode(e))}[zo.setNative](e){const t=this.androidTabsPosition==="top";l.isEnabled()&&l.write("TabView this._viewPager.setCurrentItem("+e+", "+t+");",Cd),this._viewPager.setCurrentItem(e,t)}[bd.getDefault](){return null}[bd.setNative](e){this.setAdapterItems(e),zo.coerce(this)}[Pd.getDefault](){return this._tabLayout.getBackground()}[Pd.setNative](e){e instanceof S?this._tabLayout.setBackgroundColor(e.android):this._tabLayout.setBackground(xe.getCopyOrDrawable(e,this.nativeViewProtected.getResources()))}[Td.getDefault](){return this._tabLayout.getTabTextFontSize()}[Td.setNative](e){typeof e=="number"?this._tabLayout.setTabTextFontSize(e):this._tabLayout.setTabTextFontSize(e.nativeSize)}[Ed.getDefault](){return this._tabLayout.getTabTextColor()}[Ed.setNative](e){const t=e instanceof S?e.android:e;this._tabLayout.setTabTextColor(t)}[Vd.getDefault](){return this._tabLayout.getSelectedTabTextColor()}[Vd.setNative](e){const t=e instanceof S?e.android:e;this._tabLayout.setSelectedTabTextColor(t)}[Ad.getDefault](){return bp(this._context)}[Ad.setNative](e){const t=this._tabLayout,n=e instanceof S?e.android:e;t.setSelectedIndicatorColors([n])}}let zn=class extends Lr{};zn.returnPressEvent="returnPress";zn=__decorate([ee("TextField")],zn);zn.prototype.recycleNativeView="auto";const Jy=new b({name:"secure",defaultValue:!1,valueConverter:K});Jy.register(zn);const bE=new b({name:"closeOnReturn",defaultValue:!0,valueConverter:K});bE.register(zn);class yc extends zn{_configureEditText(e){e.setInputType(android.text.InputType.TYPE_CLASS_TEXT|android.text.InputType.TYPE_TEXT_VARIATION_NORMAL|android.text.InputType.TYPE_TEXT_FLAG_CAP_SENTENCES|android.text.InputType.TYPE_TEXT_FLAG_NO_SUGGESTIONS),e.setLines(1),e.setMaxLines(1),e.setHorizontallyScrolling(!0)}_onReturnPress(){this.notify({eventName:yc.returnPressEvent,object:this})}[Jy.setNative](){this.setSecureAndKeyboardType()}[Bs.setNative](){this.setSecureAndKeyboardType()}setSecureAndKeyboardType(){let e;const t=+this.keyboardType;if(typeof this.keyboardType!="boolean"&&!isNaN(t)){this._setInputType(t);return}if(this.secure)this.keyboardType==="number"?e=android.text.InputType.TYPE_CLASS_NUMBER|android.text.InputType.TYPE_NUMBER_VARIATION_PASSWORD:e=android.text.InputType.TYPE_CLASS_TEXT|android.text.InputType.TYPE_TEXT_VARIATION_PASSWORD;else{switch(e=android.text.InputType.TYPE_CLASS_TEXT|android.text.InputType.TYPE_TEXT_VARIATION_NORMAL,this.autocorrect&&(e=e|android.text.InputType.TYPE_TEXT_FLAG_AUTO_COMPLETE,e=e|android.text.InputType.TYPE_TEXT_FLAG_AUTO_CORRECT,e=e&~android.text.InputType.TYPE_TEXT_FLAG_NO_SUGGESTIONS),this.autocapitalizationType){case"words":e=e|android.text.InputType.TYPE_TEXT_FLAG_CAP_WORDS;break;case"sentences":e=e|android.text.InputType.TYPE_TEXT_FLAG_CAP_SENTENCES;break;case"allcharacters":e=e|android.text.InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS;break}switch(this.keyboardType){case"datetime":e=android.text.InputType.TYPE_CLASS_DATETIME|android.text.InputType.TYPE_DATETIME_VARIATION_NORMAL;break;case"phone":e=android.text.InputType.TYPE_CLASS_PHONE;break;case"number":e=android.text.InputType.TYPE_CLASS_NUMBER|android.text.InputType.TYPE_NUMBER_VARIATION_NORMAL|android.text.InputType.TYPE_NUMBER_FLAG_SIGNED|android.text.InputType.TYPE_NUMBER_FLAG_DECIMAL;break;case"url":e=android.text.InputType.TYPE_CLASS_TEXT|android.text.InputType.TYPE_TEXT_VARIATION_URI;break;case"email":e=android.text.InputType.TYPE_CLASS_TEXT|android.text.InputType.TYPE_TEXT_VARIATION_EMAIL_ADDRESS;break;case"integer":e=android.text.InputType.TYPE_CLASS_NUMBER;break}}this._setInputType(e)}[Wn.getDefault](){return"nowrap"}[Wn.setNative](e){}}yc.prototype._isSingleLine=!0;class ev extends Lr{}ev.returnPressEvent="returnPress";var Ld;let qo=Ld=class extends ev{_configureEditText(e){e.setInputType(android.text.InputType.TYPE_CLASS_TEXT|android.text.InputType.TYPE_TEXT_VARIATION_NORMAL|android.text.InputType.TYPE_TEXT_FLAG_CAP_SENTENCES|android.text.InputType.TYPE_TEXT_FLAG_MULTI_LINE|android.text.InputType.TYPE_TEXT_FLAG_NO_SUGGESTIONS),e.setGravity(android.view.Gravity.TOP|android.view.Gravity.START)}resetNativeView(){super.resetNativeView(),this.nativeTextViewProtected.setGravity(android.view.Gravity.TOP|android.view.Gravity.START)}_onReturnPress(){this.notify({eventName:Ld.returnPressEvent,object:this})}};qo=Ld=__decorate([ee("TextView")],qo);qo.prototype.recycleNativeView="auto";class tv extends j{createAndroidAnimator(e){const t=new android.animation.AnimatorSet,n=Array.create("float",2);switch(e){case j.AndroidTransitionType.enter:case j.AndroidTransitionType.popEnter:n[0]=0,n[1]=1;break;case j.AndroidTransitionType.exit:case j.AndroidTransitionType.popExit:n[0]=1,n[1]=0;break}const r=android.animation.ObjectAnimator.ofFloat(null,"alpha",n),s=this.getDuration();return s!==void 0&&r.setDuration(s),r.setInterpolator(this.getCurve()),t.play(r),t}}class xE extends tv{androidFragmentTransactionCallback(e,t,n){console.log("Not currently supported on Android.")}}(function(i){__extends(e,i);function e(t){var n=i.call(this,t)||this;return global.__native(n)}return e.prototype.onMeasure=function(){this.setMeasuredDimension(0,0)},e.prototype.onLayout=function(){},e})(android.view.ViewGroup);var xp=function(i){__extends(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getInterpolation=function(t){var n=i.prototype.getInterpolation.call(this,t)*1.1;return n>1?float(1):float(n)},e}(android.view.animation.AnticipateOvershootInterpolator),Sp=function(i){__extends(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getInterpolation=function(t){var n=i.prototype.getInterpolation.call(this,t)*1.1;return n>1?float(1):float(n)},e}(android.view.animation.LinearInterpolator);function Tp(i){if(i!=null&&i.sharedTransitionTag)try{androidx.core.view.ViewCompat.setTransitionName(i.nativeView,i.sharedTransitionTag)}catch{}}class SE extends j{constructor(e,t,n=0){t&&console.warn("PageTransition does not support custom curves at the moment. The passed in curve will be ignored."),typeof e!="number"&&(e=500),super(e),this.pageLoadedTimeout=n}createAndroidAnimator(e){var v;const t=ae.getState(this.id),n=t.pageStart,r=ul(n,{x:0,y:0,width:Ve.mainScreen.widthPixels,height:Ve.mainScreen.heightPixels}),s=t.pageEnd,a=ul(s),o=t.pageReturn;ul(o);let c=-1;t.activeType===Li.present&&Re(s==null?void 0:s.duration)?c=s.duration:Re((v=t.pageReturn)==null?void 0:v.duration)&&(c=t.pageReturn.duration);const u=new android.animation.AnimatorSet;u.setDuration(c>-1?c:this.getDuration());const d=Array.create("float",2),h=Array.create("float",2),m=Array.create("float",2);switch(e){case j.AndroidTransitionType.enter:d[0]=Re(n==null?void 0:n.opacity)?n==null?void 0:n.opacity:0,d[1]=Re(s==null?void 0:s.opacity)?s==null?void 0:s.opacity:1,m[0]=r.y,m[1]=a.y,h[0]=r.x,h[1]=a.x;break;case j.AndroidTransitionType.exit:d[0]=1,d[1]=0,m[0]=0,m[1]=0;break;case j.AndroidTransitionType.popEnter:d[0]=0,d[1]=1;break;case j.AndroidTransitionType.popExit:d[0]=Re(s==null?void 0:s.opacity)?s==null?void 0:s.opacity:1,d[1]=Re(n==null?void 0:n.opacity)?n==null?void 0:n.opacity:0,m[0]=a.y,m[1]=r.y,h[0]=a.x,h[1]=r.x;break}const p={alpha:d,translationX:h,translationY:m},g=new java.util.HashSet;for(const y in p){const A=android.animation.ObjectAnimator.ofFloat(null,y,p[y]);c?A.setInterpolator(new Sp):A.setInterpolator(new xp),g.add(A)}return u.playTogether(g),u}androidFragmentTransactionCallback(e,t,n){var p;const r=t.resolvedPage,s=n.resolvedPage,a=n.fragment,o=ae.getState(this.id);if(!o){t.transition=null;return}const c=o.pageEnd,{presenting:u}=ae.getSharedElements(r,s),d=()=>{setTimeout(()=>{const{presented:g}=ae.getSharedElements(r,s);g.forEach(Tp),a.startPostponedEnterTransition()},this.pageLoadedTimeout)};e.setReorderingAllowed(!0);let h=-1;o.activeType===Li.present&&Re(c==null?void 0:c.duration)?h=c.duration:Re((p=o.pageReturn)==null?void 0:p.duration)&&(h=o.pageReturn.duration);const m=new androidx.transition.TransitionSet;m.setDuration(h>-1?h:this.getDuration()),m.addTransition(new androidx.transition.ChangeBounds),m.addTransition(new androidx.transition.ChangeTransform),m.setOrdering(androidx.transition.TransitionSet.ORDERING_TOGETHER),h?m.setInterpolator(new Sp):m.setInterpolator(new xp),a.postponeEnterTransition(),a.setSharedElementEnterTransition(m),a.setSharedElementReturnTransition(m),u.forEach(g=>{Tp(g),e.addSharedElement(g.nativeView,g.sharedTransitionTag)}),s.isLoaded?d():s.once("loaded",d)}}const Xi=$i(()=>Ve.mainScreen.widthPixels),Yi=$i(()=>Ve.mainScreen.heightPixels);class TE extends j{constructor(e,t=350,n){super(t,n),this._direction=e}createAndroidAnimator(e){const t=Array.create("float",2);switch(this._direction){case"left":switch(e){case j.AndroidTransitionType.enter:t[0]=Xi(),t[1]=0;break;case j.AndroidTransitionType.exit:t[0]=0,t[1]=-Xi();break;case j.AndroidTransitionType.popEnter:t[0]=-Xi(),t[1]=0;break;case j.AndroidTransitionType.popExit:t[0]=0,t[1]=Xi();break}break;case"right":switch(e){case j.AndroidTransitionType.enter:t[0]=-Xi(),t[1]=0;break;case j.AndroidTransitionType.exit:t[0]=0,t[1]=Xi();break;case j.AndroidTransitionType.popEnter:t[0]=Xi(),t[1]=0;break;case j.AndroidTransitionType.popExit:t[0]=0,t[1]=-Xi();break}break;case"top":switch(e){case j.AndroidTransitionType.enter:t[0]=Yi(),t[1]=0;break;case j.AndroidTransitionType.exit:t[0]=0,t[1]=-Yi();break;case j.AndroidTransitionType.popEnter:t[0]=-Yi(),t[1]=0;break;case j.AndroidTransitionType.popExit:t[0]=0,t[1]=Yi();break}break;case"bottom":switch(e){case j.AndroidTransitionType.enter:t[0]=-Yi(),t[1]=0;break;case j.AndroidTransitionType.exit:t[0]=0,t[1]=Yi();break;case j.AndroidTransitionType.popEnter:t[0]=Yi(),t[1]=0;break;case j.AndroidTransitionType.popExit:t[0]=0,t[1]=-Yi();break}break}let n;this._direction==="left"||this._direction==="right"?n="translationX":n="translationY";const r=android.animation.ObjectAnimator.ofFloat(null,n,t),s=this.getDuration();s!==void 0&&r.setDuration(s),r.setInterpolator(this.getCurve());const a=new android.animation.AnimatorSet;return a.play(r),a}toString(){return`${super.toString()} ${this._direction}`}}class EE{static animate(e,t,n){}static interactiveStart(e,t,n){}static interactiveUpdate(e,t,n,r){}static interactiveCancel(e,t,n){}static interactiveFinish(e,t,n){}}var Ia;const kd=new b({name:"src"}),iv=new b({name:"disableZoom",defaultValue:!1,valueConverter:K});let qn=Ia=class extends uc{_onLoadFinished(e,t){const n={eventName:Ia.loadFinishedEvent,object:this,url:e,navigationType:void 0,error:t};this.notify(n)}_onLoadStarted(e,t){const n={eventName:Ia.loadStartedEvent,object:this,url:e,navigationType:t,error:void 0};this.notify(n)}get canGoBack(){throw new Error("This member is abstract.")}get canGoForward(){throw new Error("This member is abstract.")}[kd.getDefault](){return""}[kd.setNative](e){if(this.stopLoading(),e.indexOf("~/")===0){let t=We.currentApp().path;t&&t.indexOf("/")!==0&&(t=`/${t}`),e=`file://${t}/`+e.substr(2)}else e.indexOf("/")===0&&(e="file://"+e);e.toLowerCase().indexOf("file:///")===0&&(e=encodeURI(e)),e.toLowerCase().indexOf("http://")===0||e.toLowerCase().indexOf("https://")===0||e.toLowerCase().indexOf("file:///")===0?this._loadUrl(e):this._loadData(e)}};qn.loadStartedEvent="loadStarted";qn.loadFinishedEvent="loadFinished";qn=Ia=__decorate([ee("WebView")],qn);kd.register(qn);iv.register(qn);let Rd;function PE(){if(!Rd){var i=function(e){__extends(t,e);function t(n){var r=e.call(this)||this;return r.owner=n,global.__native(r)}return t.prototype.shouldOverrideUrlLoading=function(n,r){var s=r instanceof android.webkit.WebResourceRequest?r.getUrl().toString():r;return l.isEnabled()&&l.write("WebViewClientClass.shouldOverrideUrlLoading("+s+")",l.categories.Debug),android.webkit.URLUtil.isNetworkUrl(s)?!1:Rv(s)},t.prototype.onPageStarted=function(n,r,s){e.prototype.onPageStarted.call(this,n,r,s);var a=this.owner;a&&(l.isEnabled()&&l.write("WebViewClientClass.onPageStarted("+r+", "+s+")",l.categories.Debug),a._onLoadStarted(r,void 0))},t.prototype.onPageFinished=function(n,r){e.prototype.onPageFinished.call(this,n,r);var s=this.owner;s&&(l.isEnabled()&&l.write("WebViewClientClass.onPageFinished("+r+")",l.categories.Debug),s._onLoadFinished(r,void 0))},t.prototype.onReceivedError=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=n[0];if(arguments.length===4){var a=n[1],o=n[2],c=n[3];e.prototype.onReceivedError.call(this,s,a,o,c);var u=this.owner;u&&(l.isEnabled()&&l.write("WebViewClientClass.onReceivedError("+a+", "+o+", "+c+")",l.categories.Debug),u._onLoadFinished(c,o+"("+a+")"))}else{var d=n[1],h=n[2];e.prototype.onReceivedError.call(this,s,d,h);var u=this.owner;u&&(l.isEnabled()&&l.write("WebViewClientClass.onReceivedError("+h.getErrorCode()+", "+h.getDescription()+", "+(h.getUrl&&h.getUrl())+")",l.categories.Debug),u._onLoadFinished(h.getUrl&&h.getUrl(),h.getDescription()+"("+h.getErrorCode()+")"))}},t}(android.webkit.WebViewClient);Rd=i}}class VE extends qn{createNativeView(){const e=new android.webkit.WebView(this._context),t=e.getSettings();return t.setJavaScriptEnabled(!0),t.setBuiltInZoomControls(!0),t.setAllowFileAccess(!0),e}initNativeView(){super.initNativeView(),PE();const e=this.nativeViewProtected,t=new Rd(this);e.setWebViewClient(t),e.client=t,this._disableZoom(this.disableZoom)}disposeNativeView(){const e=this.nativeViewProtected;e&&(e.client&&(e.client.owner=null),e.destroy()),super.disposeNativeView()}_disableZoom(e){if(this.nativeView&&e){const t=this.nativeView.getSettings();t.setBuiltInZoomControls(!1),t.setSupportZoom(!1),t.setDisplayZoomControls(!1)}}[iv.setNative](e){this._disableZoom(e)}_loadUrl(e){const t=this.nativeViewProtected;t&&t.loadUrl(e)}_loadData(e){const t=this.nativeViewProtected;if(!t)return;const n=`file:///${We.currentApp().path}/`;t.loadDataWithBaseURL(n,e,"text/html","utf-8",null)}get canGoBack(){return this.nativeViewProtected.canGoBack()}stopLoading(){const e=this.nativeViewProtected;e&&e.stopLoading()}get canGoForward(){const e=this.nativeViewProtected;return e?e.canGoForward():!1}goBack(){const e=this.nativeViewProtected;if(e)return e.goBack()}goForward(){const e=this.nativeViewProtected;if(e)return e.goForward()}reload(){const e=this.nativeViewProtected;if(e)return e.reload()}}const AE=Object.freeze(Object.defineProperty({__proto__:null,AbsoluteLayout:ZS,ActionBar:pi,ActionItem:vh,ActionItems:Bm,ActivityIndicator:cx,AndroidHelper:xe,Animation:Bn,Background:On,Binding:Lg,Builder:Ke,Button:Ir,CSSHelper:pb,CSSType:ee,CoercibleProperty:hn,ContainerView:uc,ContentView:dc,ControlStateChangeListener:Ax,CssAnimationParser:sE,CssAnimationProperty:Ne,CssProperty:R,CustomLayoutView:Mn,DatePicker:Nu,get DialogStrings(){return Qe},Dialogs:LS,DockLayout:eT,EditableTextBase:Lr,FadeTransition:tv,FlexboxLayout:dT,Font:ie,get FontStyle(){return Di},get FontVariationSettings(){return ln},get FontWeight(){return he},FormattedString:qm,Frame:di,get GestureEvents(){return sn},get GestureStateTypes(){return ot},get GestureTypes(){return O},GesturesObserver:Sm,GridLayout:Ws,get GridUnitType(){return Ye},HtmlView:BS,IOSHelper:Rb,Image:$u,ImageCache:QS,ImageSymbolEffect:Rh,get ImageSymbolEffects(){return Bu},InheritedCssProperty:He,InheritedProperty:Yo,ItemSpec:Fn,KeyframeAnimation:vs,KeyframeAnimationInfo:uh,KeyframeDeclaration:Ob,KeyframeInfo:Db,get Label(){return gi},LayoutBase:at,get Length(){return _},ListPicker:us,ListView:jn,ModalTransition:xE,NavigationButton:Gm,Page:Hy,get PageBase(){return qe},PageTransition:SE,get PercentLength(){return fe},get Placeholder(){return Mo},Progress:BT,Property:b,get ProxyViewContainer(){return js},PseudoClassHandler:gh,get Repeater(){return mi},RootLayout:pT,ScrollView:mc,SearchBar:ds,SegmentedBar:hs,SegmentedBarItem:ZT,SharedTransition:ae,get SharedTransitionAnimationType(){return Li},SharedTransitionHelper:EE,ShorthandProperty:Bt,SlideTransition:TE,Slider:tE,Span:Un,StackLayout:Dh,Style:T,get SwipeDirection(){return En},Switch:wd,TabView:CE,TabViewItem:vE,TextBase:Vr,TextField:yc,get TextView(){return qo},TimePicker:Vo,get TouchAction(){return ui},TouchManager:Ae,Transition:j,View:L,ViewBase:W,ViewHelper:rn,WebView:VE,WrapLayout:yT,action:gy,addTaggedAdditionalCSS:vb,addWeakEventListener:ur,alert:dy,androidDynamicElevationOffsetProperty:uo,androidElevationProperty:lo,animationTimingFunctionConverter:Bh,autocapitalizationTypeProperty:Ro,autocorrectProperty:Fo,autofillTypeProperty:Nh,backgroundColorProperty:we,backgroundImageProperty:Ga,backgroundInternalProperty:Ot,backgroundPositionProperty:qa,backgroundRepeatProperty:za,backgroundSizeProperty:rm,booleanConverter:K,borderBottomColorProperty:Ka,borderBottomLeftRadiusProperty:so,borderBottomRightRadiusProperty:ro,borderBottomWidthProperty:eo,borderLeftColorProperty:Qa,borderLeftWidthProperty:to,borderRightColorProperty:Ya,borderRightWidthProperty:Ja,borderTopColorProperty:Xa,borderTopLeftRadiusProperty:io,borderTopRightRadiusProperty:no,borderTopWidthProperty:Za,get capitalizationType(){return pr},clipPathProperty:sm,colorProperty:Te,confirm:hy,get dismissKeyboardTimeoutId(){return Rn},eachDescendant:kn,editableProperty:Lh,fontFamilyProperty:ao,fontInternalProperty:Dt,fontScaleInternalProperty:am,fontSizeProperty:ct,fontStyleProperty:oo,fontVariationSettingsProperty:om,fontWeightProperty:co,getAncestor:Ca,getCurrentPage:cy,getRootLayout:fT,getTransformedText:Ys,getViewById:ch,heightProperty:br,hintProperty:Oo,horizontalAlignmentProperty:Ii,get inputType(){return xi},isEmbedded:or,isUserInteractionEnabledProperty:Xs,keyboardTypeProperty:Bs,letterSpacingProperty:So,lineHeightProperty:To,login:py,makeParser:ge,makeValidator:pe,marginBottomProperty:Vs,marginLeftProperty:Ts,marginRightProperty:Es,marginTopProperty:Ps,maxLengthProperty:kh,minHeightProperty:sc,minWidthProperty:rc,opacityProperty:Tt,paddingBottomProperty:Ft,paddingLeftProperty:Lt,paddingRightProperty:kt,paddingTopProperty:Rt,parseCSSShadow:eh,parseKeyframeDeclarations:Ky,perspectiveProperty:th,placeholderColorProperty:Lo,prompt:fy,querySelectorAll:nu,removeTaggedAdditionalCSS:yb,removeWeakEventListener:bs,resolveFileNameFromUrl:bm,returnKeyTypeProperty:ko,rotateProperty:_t,rotateXProperty:zt,rotateYProperty:qt,sanitizeModuleName:ki,scaleXProperty:Ct,scaleYProperty:bt,setActivityCallbacks:VS,textAlignmentProperty:Er,textDecorationProperty:Os,textOverflowProperty:Ch,textShadowProperty:xo,textStrokeProperty:_h,textTransformProperty:Pr,timeConverter:md,transformConverter:ih,translateXProperty:xt,translateYProperty:St,unsetValue:D,updateTextTriggerProperty:my,verticalAlignmentProperty:Ni,visibilityProperty:xr,whiteSpaceProperty:Wn,widthProperty:Cr,zIndexProperty:As},Symbol.toStringTag,{value:"Module"}));global.registerModule("@nativescript/core/ui",()=>AE);
